function Cw(s,n){for(var l=0;l<n.length;l++){const i=n[l];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in s)){const u=Object.getOwnPropertyDescriptor(i,c);u&&Object.defineProperty(s,c,u.get?u:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function l(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=l(c);fetch(c.href,u)}})();function Rc(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ym={exports:{}},Hl={};var zb;function kw(){if(zb)return Hl;zb=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(i,c,u){var d=null;if(u!==void 0&&(d=""+u),c.key!==void 0&&(d=""+c.key),"key"in c){u={};for(var h in c)h!=="key"&&(u[h]=c[h])}else u=c;return c=u.ref,{$$typeof:s,type:i,key:d,ref:c!==void 0?c:null,props:u}}return Hl.Fragment=n,Hl.jsx=l,Hl.jsxs=l,Hl}var Pb;function Tw(){return Pb||(Pb=1,ym.exports=kw()),ym.exports}var e=Tw(),vm={exports:{}},Te={};var Ub;function Aw(){if(Ub)return Te;Ub=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),N=Symbol.iterator;function w(_){return _===null||typeof _!="object"?null:(_=N&&_[N]||_["@@iterator"],typeof _=="function"?_:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,T={};function A(_,I,ae){this.props=_,this.context=I,this.refs=T,this.updater=ae||v}A.prototype.isReactComponent={},A.prototype.setState=function(_,I){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,I,"setState")},A.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function E(){}E.prototype=A.prototype;function S(_,I,ae){this.props=_,this.context=I,this.refs=T,this.updater=ae||v}var M=S.prototype=new E;M.constructor=S,y(M,A.prototype),M.isPureReactComponent=!0;var L=Array.isArray;function B(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(_,I,ae){var de=ae.ref;return{$$typeof:s,type:_,key:I,ref:de!==void 0?de:null,props:ae}}function $(_,I){return R(_.type,I,_.props)}function q(_){return typeof _=="object"&&_!==null&&_.$$typeof===s}function P(_){var I={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ae){return I[ae]})}var V=/\/+/g;function K(_,I){return typeof _=="object"&&_!==null&&_.key!=null?P(""+_.key):I.toString(36)}function W(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(B,B):(_.status="pending",_.then(function(I){_.status==="pending"&&(_.status="fulfilled",_.value=I)},function(I){_.status==="pending"&&(_.status="rejected",_.reason=I)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function z(_,I,ae,de,he){var be=typeof _;(be==="undefined"||be==="boolean")&&(_=null);var fe=!1;if(_===null)fe=!0;else switch(be){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(_.$$typeof){case s:case n:fe=!0;break;case p:return fe=_._init,z(fe(_._payload),I,ae,de,he)}}if(fe)return he=he(_),fe=de===""?"."+K(_,0):de,L(he)?(ae="",fe!=null&&(ae=fe.replace(V,"$&/")+"/"),z(he,I,ae,"",function(xe){return xe})):he!=null&&(q(he)&&(he=$(he,ae+(he.key==null||_&&_.key===he.key?"":(""+he.key).replace(V,"$&/")+"/")+fe)),I.push(he)),1;fe=0;var Ae=de===""?".":de+":";if(L(_))for(var ve=0;ve<_.length;ve++)de=_[ve],be=Ae+K(de,ve),fe+=z(de,I,ae,be,he);else if(ve=w(_),typeof ve=="function")for(_=ve.call(_),ve=0;!(de=_.next()).done;)de=de.value,be=Ae+K(de,ve++),fe+=z(de,I,ae,be,he);else if(be==="object"){if(typeof _.then=="function")return z(W(_),I,ae,de,he);throw I=String(_),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return fe}function H(_,I,ae){if(_==null)return _;var de=[],he=0;return z(_,de,"","",function(be){return I.call(ae,be,he++)}),de}function F(_){if(_._status===-1){var I=_._result;I=I(),I.then(function(ae){(_._status===0||_._status===-1)&&(_._status=1,_._result=ae)},function(ae){(_._status===0||_._status===-1)&&(_._status=2,_._result=ae)}),_._status===-1&&(_._status=0,_._result=I)}if(_._status===1)return _._result.default;throw _._result}var le=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},oe={map:H,forEach:function(_,I,ae){H(_,function(){I.apply(this,arguments)},ae)},count:function(_){var I=0;return H(_,function(){I++}),I},toArray:function(_){return H(_,function(I){return I})||[]},only:function(_){if(!q(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return Te.Activity=g,Te.Children=oe,Te.Component=A,Te.Fragment=l,Te.Profiler=c,Te.PureComponent=S,Te.StrictMode=i,Te.Suspense=f,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Te.__COMPILER_RUNTIME={__proto__:null,c:function(_){return D.H.useMemoCache(_)}},Te.cache=function(_){return function(){return _.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(_,I,ae){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var de=y({},_.props),he=_.key;if(I!=null)for(be in I.key!==void 0&&(he=""+I.key),I)!C.call(I,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&I.ref===void 0||(de[be]=I[be]);var be=arguments.length-2;if(be===1)de.children=ae;else if(1<be){for(var fe=Array(be),Ae=0;Ae<be;Ae++)fe[Ae]=arguments[Ae+2];de.children=fe}return R(_.type,he,de)},Te.createContext=function(_){return _={$$typeof:d,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},Te.createElement=function(_,I,ae){var de,he={},be=null;if(I!=null)for(de in I.key!==void 0&&(be=""+I.key),I)C.call(I,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(he[de]=I[de]);var fe=arguments.length-2;if(fe===1)he.children=ae;else if(1<fe){for(var Ae=Array(fe),ve=0;ve<fe;ve++)Ae[ve]=arguments[ve+2];he.children=Ae}if(_&&_.defaultProps)for(de in fe=_.defaultProps,fe)he[de]===void 0&&(he[de]=fe[de]);return R(_,be,he)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(_){return{$$typeof:h,render:_}},Te.isValidElement=q,Te.lazy=function(_){return{$$typeof:p,_payload:{_status:-1,_result:_},_init:F}},Te.memo=function(_,I){return{$$typeof:x,type:_,compare:I===void 0?null:I}},Te.startTransition=function(_){var I=D.T,ae={};D.T=ae;try{var de=_(),he=D.S;he!==null&&he(ae,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(B,le)}catch(be){le(be)}finally{I!==null&&ae.types!==null&&(I.types=ae.types),D.T=I}},Te.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Te.use=function(_){return D.H.use(_)},Te.useActionState=function(_,I,ae){return D.H.useActionState(_,I,ae)},Te.useCallback=function(_,I){return D.H.useCallback(_,I)},Te.useContext=function(_){return D.H.useContext(_)},Te.useDebugValue=function(){},Te.useDeferredValue=function(_,I){return D.H.useDeferredValue(_,I)},Te.useEffect=function(_,I){return D.H.useEffect(_,I)},Te.useEffectEvent=function(_){return D.H.useEffectEvent(_)},Te.useId=function(){return D.H.useId()},Te.useImperativeHandle=function(_,I,ae){return D.H.useImperativeHandle(_,I,ae)},Te.useInsertionEffect=function(_,I){return D.H.useInsertionEffect(_,I)},Te.useLayoutEffect=function(_,I){return D.H.useLayoutEffect(_,I)},Te.useMemo=function(_,I){return D.H.useMemo(_,I)},Te.useOptimistic=function(_,I){return D.H.useOptimistic(_,I)},Te.useReducer=function(_,I,ae){return D.H.useReducer(_,I,ae)},Te.useRef=function(_){return D.H.useRef(_)},Te.useState=function(_){return D.H.useState(_)},Te.useSyncExternalStore=function(_,I,ae){return D.H.useSyncExternalStore(_,I,ae)},Te.useTransition=function(){return D.H.useTransition()},Te.version="19.2.0",Te}var Fb;function gi(){return Fb||(Fb=1,vm.exports=Aw()),vm.exports}var j=gi();const Ut=Rc(j),Ew=Cw({__proto__:null,default:Ut},[j]);var Nm={exports:{}},Vl={},wm={exports:{}},Sm={};var Hb;function Dw(){return Hb||(Hb=1,(function(s){function n(z,H){var F=z.length;z.push(H);e:for(;0<F;){var le=F-1>>>1,oe=z[le];if(0<c(oe,H))z[le]=H,z[F]=oe,F=le;else break e}}function l(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var H=z[0],F=z.pop();if(F!==H){z[0]=F;e:for(var le=0,oe=z.length,_=oe>>>1;le<_;){var I=2*(le+1)-1,ae=z[I],de=I+1,he=z[de];if(0>c(ae,F))de<oe&&0>c(he,ae)?(z[le]=he,z[de]=F,le=de):(z[le]=ae,z[I]=F,le=I);else if(de<oe&&0>c(he,F))z[le]=he,z[de]=F,le=de;else break e}}return H}function c(z,H){var F=z.sortIndex-H.sortIndex;return F!==0?F:z.id-H.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();s.unstable_now=function(){return d.now()-h}}var f=[],x=[],p=1,g=null,N=3,w=!1,v=!1,y=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function M(z){for(var H=l(x);H!==null;){if(H.callback===null)i(x);else if(H.startTime<=z)i(x),H.sortIndex=H.expirationTime,n(f,H);else break;H=l(x)}}function L(z){if(y=!1,M(z),!v)if(l(f)!==null)v=!0,B||(B=!0,P());else{var H=l(x);H!==null&&W(L,H.startTime-z)}}var B=!1,D=-1,C=5,R=-1;function $(){return T?!0:!(s.unstable_now()-R<C)}function q(){if(T=!1,B){var z=s.unstable_now();R=z;var H=!0;try{e:{v=!1,y&&(y=!1,E(D),D=-1),w=!0;var F=N;try{t:{for(M(z),g=l(f);g!==null&&!(g.expirationTime>z&&$());){var le=g.callback;if(typeof le=="function"){g.callback=null,N=g.priorityLevel;var oe=le(g.expirationTime<=z);if(z=s.unstable_now(),typeof oe=="function"){g.callback=oe,M(z),H=!0;break t}g===l(f)&&i(f),M(z)}else i(f);g=l(f)}if(g!==null)H=!0;else{var _=l(x);_!==null&&W(L,_.startTime-z),H=!1}}break e}finally{g=null,N=F,w=!1}H=void 0}}finally{H?P():B=!1}}}var P;if(typeof S=="function")P=function(){S(q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=q,P=function(){K.postMessage(null)}}else P=function(){A(q,0)};function W(z,H){D=A(function(){z(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(z){switch(N){case 1:case 2:case 3:var H=3;break;default:H=N}var F=N;N=H;try{return z()}finally{N=F}},s.unstable_requestPaint=function(){T=!0},s.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=N;N=z;try{return H()}finally{N=F}},s.unstable_scheduleCallback=function(z,H,F){var le=s.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?le+F:le):F=le,z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=F+oe,z={id:p++,callback:H,priorityLevel:z,startTime:F,expirationTime:oe,sortIndex:-1},F>le?(z.sortIndex=F,n(x,z),l(f)===null&&z===l(x)&&(y?(E(D),D=-1):y=!0,W(L,F-le))):(z.sortIndex=oe,n(f,z),v||w||(v=!0,B||(B=!0,P()))),z},s.unstable_shouldYield=$,s.unstable_wrapCallback=function(z){var H=N;return function(){var F=N;N=H;try{return z.apply(this,arguments)}finally{N=F}}}})(Sm)),Sm}var Vb;function _w(){return Vb||(Vb=1,wm.exports=Dw()),wm.exports}var Cm={exports:{}},Tt={};var $b;function Mw(){if($b)return Tt;$b=1;var s=gi();function n(f){var x="https://react.dev/errors/"+f;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)x+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var i={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(f,x,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:g==null?null:""+g,children:f,containerInfo:x,implementation:p}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,x){if(f==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tt.createPortal=function(f,x){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return u(f,x,null,p)},Tt.flushSync=function(f){var x=d.T,p=i.p;try{if(d.T=null,i.p=2,f)return f()}finally{d.T=x,i.p=p,i.d.f()}},Tt.preconnect=function(f,x){typeof f=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(f,x))},Tt.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Tt.preinit=function(f,x){if(typeof f=="string"&&x&&typeof x.as=="string"){var p=x.as,g=h(p,x.crossOrigin),N=typeof x.integrity=="string"?x.integrity:void 0,w=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;p==="style"?i.d.S(f,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:g,integrity:N,fetchPriority:w}):p==="script"&&i.d.X(f,{crossOrigin:g,integrity:N,fetchPriority:w,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Tt.preinitModule=function(f,x){if(typeof f=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var p=h(x.as,x.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(f)},Tt.preload=function(f,x){if(typeof f=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var p=x.as,g=h(p,x.crossOrigin);i.d.L(f,p,{crossOrigin:g,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Tt.preloadModule=function(f,x){if(typeof f=="string")if(x){var p=h(x.as,x.crossOrigin);i.d.m(f,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:p,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(f)},Tt.requestFormReset=function(f){i.d.r(f)},Tt.unstable_batchedUpdates=function(f,x){return f(x)},Tt.useFormState=function(f,x,p){return d.H.useFormState(f,x,p)},Tt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Tt.version="19.2.0",Tt}var Ib;function by(){if(Ib)return Cm.exports;Ib=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Cm.exports=Mw(),Cm.exports}var Gb;function Lw(){if(Gb)return Vl;Gb=1;var s=_w(),n=gi(),l=by();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,r=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(r=a.return),t=a.return;while(t)}return a.tag===3?r:null}function d(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function h(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(i(188))}function x(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(i(188));return a!==t?null:t}for(var r=t,o=a;;){var m=r.return;if(m===null)break;var b=m.alternate;if(b===null){if(o=m.return,o!==null){r=o;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===r)return f(m),t;if(b===o)return f(m),a;b=b.sibling}throw Error(i(188))}if(r.return!==o.return)r=m,o=b;else{for(var k=!1,O=m.child;O;){if(O===r){k=!0,r=m,o=b;break}if(O===o){k=!0,o=m,r=b;break}O=O.sibling}if(!k){for(O=b.child;O;){if(O===r){k=!0,r=b,o=m;break}if(O===o){k=!0,o=b,r=m;break}O=O.sibling}if(!k)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:a}function p(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=p(t),a!==null)return a;t=t.sibling}return null}var g=Object.assign,N=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=q&&t[q]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function K(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case y:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case B:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case v:return"Portal";case S:return t.displayName||"Context";case E:return(t._context.displayName||"Context")+".Consumer";case M:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return a=t.displayName||null,a!==null?a:K(t.type)||"Memo";case C:a=t._payload,t=t._init;try{return K(t(a))}catch{}}return null}var W=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},le=[],oe=-1;function _(t){return{current:t}}function I(t){0>oe||(t.current=le[oe],le[oe]=null,oe--)}function ae(t,a){oe++,le[oe]=t.current,t.current=a}var de=_(null),he=_(null),be=_(null),fe=_(null);function Ae(t,a){switch(ae(be,a),ae(he,t),ae(de,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?lb(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=lb(a),t=ib(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}I(de),ae(de,t)}function ve(){I(de),I(he),I(be)}function xe(t){t.memoizedState!==null&&ae(fe,t);var a=de.current,r=ib(a,t.type);a!==r&&(ae(he,t),ae(de,r))}function Z(t){he.current===t&&(I(de),I(he)),fe.current===t&&(I(fe),zl._currentValue=F)}var Q,ye;function Xe(t){if(Q===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);Q=a&&a[1]||"",ye=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Q+t+ye}var Ht=!1;function Ds(t,a){if(!t||Ht)return"";Ht=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(re){var se=re}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(re){se=re}t.call(ue.prototype)}}else{try{throw Error()}catch(re){se=re}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(re){if(re&&se&&typeof re.stack=="string")return[re.stack,se.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=o.DetermineComponentFrameRoot(),k=b[0],O=b[1];if(k&&O){var G=k.split(`
`),te=O.split(`
`);for(m=o=0;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;for(;m<te.length&&!te[m].includes("DetermineComponentFrameRoot");)m++;if(o===G.length||m===te.length)for(o=G.length-1,m=te.length-1;1<=o&&0<=m&&G[o]!==te[m];)m--;for(;1<=o&&0<=m;o--,m--)if(G[o]!==te[m]){if(o!==1||m!==1)do if(o--,m--,0>m||G[o]!==te[m]){var ie=`
`+G[o].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=o&&0<=m);break}}}finally{Ht=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Xe(r):""}function nd(t,a){switch(t.tag){case 26:case 27:case 5:return Xe(t.type);case 16:return Xe("Lazy");case 13:return t.child!==a&&a!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return Ds(t.type,!1);case 11:return Ds(t.type.render,!1);case 1:return Ds(t.type,!0);case 31:return Xe("Activity");default:return""}}function Oh(t){try{var a="",r=null;do a+=nd(t,r),r=t,t=t.return;while(t);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var rd=Object.prototype.hasOwnProperty,ld=s.unstable_scheduleCallback,id=s.unstable_cancelCallback,a1=s.unstable_shouldYield,n1=s.unstable_requestPaint,Zt=s.unstable_now,r1=s.unstable_getCurrentPriorityLevel,zh=s.unstable_ImmediatePriority,Ph=s.unstable_UserBlockingPriority,Li=s.unstable_NormalPriority,l1=s.unstable_LowPriority,Uh=s.unstable_IdlePriority,i1=s.log,o1=s.unstable_setDisableYieldValue,Kr=null,Jt=null;function ba(t){if(typeof i1=="function"&&o1(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Kr,t)}catch{}}var es=Math.clz32?Math.clz32:u1,c1=Math.log,d1=Math.LN2;function u1(t){return t>>>=0,t===0?32:31-(c1(t)/d1|0)|0}var Bi=256,Ri=262144,Oi=4194304;function ln(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zi(t,a,r){var o=t.pendingLanes;if(o===0)return 0;var m=0,b=t.suspendedLanes,k=t.pingedLanes;t=t.warmLanes;var O=o&134217727;return O!==0?(o=O&~b,o!==0?m=ln(o):(k&=O,k!==0?m=ln(k):r||(r=O&~t,r!==0&&(m=ln(r))))):(O=o&~b,O!==0?m=ln(O):k!==0?m=ln(k):r||(r=o&~t,r!==0&&(m=ln(r)))),m===0?0:a!==0&&a!==m&&(a&b)===0&&(b=m&-m,r=a&-a,b>=r||b===32&&(r&4194048)!==0)?a:m}function Qr(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function m1(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fh(){var t=Oi;return Oi<<=1,(Oi&62914560)===0&&(Oi=4194304),t}function od(t){for(var a=[],r=0;31>r;r++)a.push(t);return a}function Xr(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function x1(t,a,r,o,m,b){var k=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var O=t.entanglements,G=t.expirationTimes,te=t.hiddenUpdates;for(r=k&~r;0<r;){var ie=31-es(r),ue=1<<ie;O[ie]=0,G[ie]=-1;var se=te[ie];if(se!==null)for(te[ie]=null,ie=0;ie<se.length;ie++){var re=se[ie];re!==null&&(re.lane&=-536870913)}r&=~ue}o!==0&&Hh(t,o,0),b!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=b&~(k&~a))}function Hh(t,a,r){t.pendingLanes|=a,t.suspendedLanes&=~a;var o=31-es(a);t.entangledLanes|=a,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Vh(t,a){var r=t.entangledLanes|=a;for(t=t.entanglements;r;){var o=31-es(r),m=1<<o;m&a|t[o]&a&&(t[o]|=a),r&=~m}}function $h(t,a){var r=a&-a;return r=(r&42)!==0?1:cd(r),(r&(t.suspendedLanes|a))!==0?0:r}function cd(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function dd(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ih(){var t=H.p;return t!==0?t:(t=window.event,t===void 0?32:Db(t.type))}function Gh(t,a){var r=H.p;try{return H.p=t,a()}finally{H.p=r}}var ga=Math.random().toString(36).slice(2),vt="__reactFiber$"+ga,Vt="__reactProps$"+ga,Gn="__reactContainer$"+ga,ud="__reactEvents$"+ga,h1="__reactListeners$"+ga,f1="__reactHandles$"+ga,qh="__reactResources$"+ga,Zr="__reactMarker$"+ga;function md(t){delete t[vt],delete t[Vt],delete t[ud],delete t[h1],delete t[f1]}function qn(t){var a=t[vt];if(a)return a;for(var r=t.parentNode;r;){if(a=r[Gn]||r[vt]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(t=hb(t);t!==null;){if(r=t[vt])return r;t=hb(t)}return a}t=r,r=t.parentNode}return null}function Yn(t){if(t=t[vt]||t[Gn]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function Jr(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function Wn(t){var a=t[qh];return a||(a=t[qh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function gt(t){t[Zr]=!0}var Yh=new Set,Wh={};function on(t,a){Kn(t,a),Kn(t+"Capture",a)}function Kn(t,a){for(Wh[t]=a,t=0;t<a.length;t++)Yh.add(a[t])}var p1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kh={},Qh={};function b1(t){return rd.call(Qh,t)?!0:rd.call(Kh,t)?!1:p1.test(t)?Qh[t]=!0:(Kh[t]=!0,!1)}function Pi(t,a,r){if(b1(a))if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+r)}}function Ui(t,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+r)}}function Vs(t,a,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(a,r,""+o)}}function ds(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xh(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function g1(t,a,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,b=o.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return m.call(this)},set:function(k){r=""+k,b.call(this,k)}}),Object.defineProperty(t,a,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(k){r=""+k},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function xd(t){if(!t._valueTracker){var a=Xh(t)?"checked":"value";t._valueTracker=g1(t,a,""+t[a])}}function Zh(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var r=a.getValue(),o="";return t&&(o=Xh(t)?t.checked?"true":"false":t.value),t=o,t!==r?(a.setValue(t),!0):!1}function Fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var j1=/[\n"\\]/g;function us(t){return t.replace(j1,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function hd(t,a,r,o,m,b,k,O){t.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.type=k:t.removeAttribute("type"),a!=null?k==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+ds(a)):t.value!==""+ds(a)&&(t.value=""+ds(a)):k!=="submit"&&k!=="reset"||t.removeAttribute("value"),a!=null?fd(t,k,ds(a)):r!=null?fd(t,k,ds(r)):o!=null&&t.removeAttribute("value"),m==null&&b!=null&&(t.defaultChecked=!!b),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?t.name=""+ds(O):t.removeAttribute("name")}function Jh(t,a,r,o,m,b,k,O){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.type=b),a!=null||r!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){xd(t);return}r=r!=null?""+ds(r):"",a=a!=null?""+ds(a):r,O||a===t.value||(t.value=a),t.defaultValue=a}o=o??m,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=O?t.checked:!!o,t.defaultChecked=!!o,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(t.name=k),xd(t)}function fd(t,a,r){a==="number"&&Fi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Qn(t,a,r,o){if(t=t.options,a){a={};for(var m=0;m<r.length;m++)a["$"+r[m]]=!0;for(r=0;r<t.length;r++)m=a.hasOwnProperty("$"+t[r].value),t[r].selected!==m&&(t[r].selected=m),m&&o&&(t[r].defaultSelected=!0)}else{for(r=""+ds(r),a=null,m=0;m<t.length;m++){if(t[m].value===r){t[m].selected=!0,o&&(t[m].defaultSelected=!0);return}a!==null||t[m].disabled||(a=t[m])}a!==null&&(a.selected=!0)}}function e0(t,a,r){if(a!=null&&(a=""+ds(a),a!==t.value&&(t.value=a),r==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=r!=null?""+ds(r):""}function t0(t,a,r,o){if(a==null){if(o!=null){if(r!=null)throw Error(i(92));if(W(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),a=r}r=ds(a),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),xd(t)}function Xn(t,a){if(a){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=a;return}}t.textContent=a}var y1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function s0(t,a,r){var o=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":o?t.setProperty(a,r):typeof r!="number"||r===0||y1.has(a)?a==="float"?t.cssFloat=r:t[a]=(""+r).trim():t[a]=r+"px"}function a0(t,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var m in a)o=a[m],a.hasOwnProperty(m)&&r[m]!==o&&s0(t,m,o)}else for(var b in a)a.hasOwnProperty(b)&&s0(t,b,a[b])}function pd(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),N1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hi(t){return N1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $s(){}var bd=null;function gd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zn=null,Jn=null;function n0(t){var a=Yn(t);if(a&&(t=a.stateNode)){var r=t[Vt]||null;e:switch(t=a.stateNode,a.type){case"input":if(hd(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+us(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var o=r[a];if(o!==t&&o.form===t.form){var m=o[Vt]||null;if(!m)throw Error(i(90));hd(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<r.length;a++)o=r[a],o.form===t.form&&Zh(o)}break e;case"textarea":e0(t,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&Qn(t,!!r.multiple,a,!1)}}}var jd=!1;function r0(t,a,r){if(jd)return t(a,r);jd=!0;try{var o=t(a);return o}finally{if(jd=!1,(Zn!==null||Jn!==null)&&(Eo(),Zn&&(a=Zn,t=Jn,Jn=Zn=null,n0(a),t)))for(a=0;a<t.length;a++)n0(t[a])}}function el(t,a){var r=t.stateNode;if(r===null)return null;var o=r[Vt]||null;if(o===null)return null;r=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yd=!1;if(Is)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){yd=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{yd=!1}var ja=null,vd=null,Vi=null;function l0(){if(Vi)return Vi;var t,a=vd,r=a.length,o,m="value"in ja?ja.value:ja.textContent,b=m.length;for(t=0;t<r&&a[t]===m[t];t++);var k=r-t;for(o=1;o<=k&&a[r-o]===m[b-o];o++);return Vi=m.slice(t,1<o?1-o:void 0)}function $i(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Ii(){return!0}function i0(){return!1}function $t(t){function a(r,o,m,b,k){this._reactName=r,this._targetInst=m,this.type=o,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var O in t)t.hasOwnProperty(O)&&(r=t[O],this[O]=r?r(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ii:i0,this.isPropagationStopped=i0,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),a}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=$t(cn),sl=g({},cn,{view:0,detail:0}),w1=$t(sl),Nd,wd,al,qi=g({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==al&&(al&&t.type==="mousemove"?(Nd=t.screenX-al.screenX,wd=t.screenY-al.screenY):wd=Nd=0,al=t),Nd)},movementY:function(t){return"movementY"in t?t.movementY:wd}}),o0=$t(qi),S1=g({},qi,{dataTransfer:0}),C1=$t(S1),k1=g({},sl,{relatedTarget:0}),Sd=$t(k1),T1=g({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),A1=$t(T1),E1=g({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),D1=$t(E1),_1=g({},cn,{data:0}),c0=$t(_1),M1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R1(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=B1[t])?!!a[t]:!1}function Cd(){return R1}var O1=g({},sl,{key:function(t){if(t.key){var a=M1[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=$i(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?L1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cd,charCode:function(t){return t.type==="keypress"?$i(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$i(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),z1=$t(O1),P1=g({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d0=$t(P1),U1=g({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cd}),F1=$t(U1),H1=g({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),V1=$t(H1),$1=g({},qi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),I1=$t($1),G1=g({},cn,{newState:0,oldState:0}),q1=$t(G1),Y1=[9,13,27,32],kd=Is&&"CompositionEvent"in window,nl=null;Is&&"documentMode"in document&&(nl=document.documentMode);var W1=Is&&"TextEvent"in window&&!nl,u0=Is&&(!kd||nl&&8<nl&&11>=nl),m0=" ",x0=!1;function h0(t,a){switch(t){case"keyup":return Y1.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var er=!1;function K1(t,a){switch(t){case"compositionend":return f0(a);case"keypress":return a.which!==32?null:(x0=!0,m0);case"textInput":return t=a.data,t===m0&&x0?null:t;default:return null}}function Q1(t,a){if(er)return t==="compositionend"||!kd&&h0(t,a)?(t=l0(),Vi=vd=ja=null,er=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return u0&&a.locale!=="ko"?null:a.data;default:return null}}var X1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p0(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!X1[t.type]:a==="textarea"}function b0(t,a,r,o){Zn?Jn?Jn.push(o):Jn=[o]:Zn=o,a=Oo(a,"onChange"),0<a.length&&(r=new Gi("onChange","change",null,r,o),t.push({event:r,listeners:a}))}var rl=null,ll=null;function Z1(t){eb(t,0)}function Yi(t){var a=Jr(t);if(Zh(a))return t}function g0(t,a){if(t==="change")return a}var j0=!1;if(Is){var Td;if(Is){var Ad="oninput"in document;if(!Ad){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),Ad=typeof y0.oninput=="function"}Td=Ad}else Td=!1;j0=Td&&(!document.documentMode||9<document.documentMode)}function v0(){rl&&(rl.detachEvent("onpropertychange",N0),ll=rl=null)}function N0(t){if(t.propertyName==="value"&&Yi(ll)){var a=[];b0(a,ll,t,gd(t)),r0(Z1,a)}}function J1(t,a,r){t==="focusin"?(v0(),rl=a,ll=r,rl.attachEvent("onpropertychange",N0)):t==="focusout"&&v0()}function eN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yi(ll)}function tN(t,a){if(t==="click")return Yi(a)}function sN(t,a){if(t==="input"||t==="change")return Yi(a)}function aN(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var ts=typeof Object.is=="function"?Object.is:aN;function il(t,a){if(ts(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var r=Object.keys(t),o=Object.keys(a);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var m=r[o];if(!rd.call(a,m)||!ts(t[m],a[m]))return!1}return!0}function w0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function S0(t,a){var r=w0(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=a&&o>=a)return{node:r,offset:a-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=w0(r)}}function C0(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?C0(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function k0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Fi(t.document);a instanceof t.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)t=a.contentWindow;else break;a=Fi(t.document)}return a}function Ed(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var nN=Is&&"documentMode"in document&&11>=document.documentMode,tr=null,Dd=null,ol=null,_d=!1;function T0(t,a,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_d||tr==null||tr!==Fi(o)||(o=tr,"selectionStart"in o&&Ed(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ol&&il(ol,o)||(ol=o,o=Oo(Dd,"onSelect"),0<o.length&&(a=new Gi("onSelect","select",null,a,r),t.push({event:a,listeners:o}),a.target=tr)))}function dn(t,a){var r={};return r[t.toLowerCase()]=a.toLowerCase(),r["Webkit"+t]="webkit"+a,r["Moz"+t]="moz"+a,r}var sr={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},Md={},A0={};Is&&(A0=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function un(t){if(Md[t])return Md[t];if(!sr[t])return t;var a=sr[t],r;for(r in a)if(a.hasOwnProperty(r)&&r in A0)return Md[t]=a[r];return t}var E0=un("animationend"),D0=un("animationiteration"),_0=un("animationstart"),rN=un("transitionrun"),lN=un("transitionstart"),iN=un("transitioncancel"),M0=un("transitionend"),L0=new Map,Ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ld.push("scrollEnd");function Ns(t,a){L0.set(t,a),on(a,[t])}var Wi=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ms=[],ar=0,Bd=0;function Ki(){for(var t=ar,a=Bd=ar=0;a<t;){var r=ms[a];ms[a++]=null;var o=ms[a];ms[a++]=null;var m=ms[a];ms[a++]=null;var b=ms[a];if(ms[a++]=null,o!==null&&m!==null){var k=o.pending;k===null?m.next=m:(m.next=k.next,k.next=m),o.pending=m}b!==0&&B0(r,m,b)}}function Qi(t,a,r,o){ms[ar++]=t,ms[ar++]=a,ms[ar++]=r,ms[ar++]=o,Bd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Rd(t,a,r,o){return Qi(t,a,r,o),Xi(t)}function mn(t,a){return Qi(t,null,null,a),Xi(t)}function B0(t,a,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var m=!1,b=t.return;b!==null;)b.childLanes|=r,o=b.alternate,o!==null&&(o.childLanes|=r),b.tag===22&&(t=b.stateNode,t===null||t._visibility&1||(m=!0)),t=b,b=b.return;return t.tag===3?(b=t.stateNode,m&&a!==null&&(m=31-es(r),t=b.hiddenUpdates,o=t[m],o===null?t[m]=[a]:o.push(a),a.lane=r|536870912),b):null}function Xi(t){if(50<Dl)throw Dl=0,Iu=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var nr={};function oN(t,a,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(t,a,r,o){return new oN(t,a,r,o)}function Od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gs(t,a){var r=t.alternate;return r===null?(r=ss(t.tag,a,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=a,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,a=t.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function R0(t,a){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,a=r.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Zi(t,a,r,o,m,b){var k=0;if(o=t,typeof t=="function")Od(t)&&(k=1);else if(typeof t=="string")k=xw(t,r,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=ss(31,r,a,m),t.elementType=R,t.lanes=b,t;case y:return xn(r.children,m,b,a);case T:k=8,m|=24;break;case A:return t=ss(12,r,a,m|2),t.elementType=A,t.lanes=b,t;case L:return t=ss(13,r,a,m),t.elementType=L,t.lanes=b,t;case B:return t=ss(19,r,a,m),t.elementType=B,t.lanes=b,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S:k=10;break e;case E:k=9;break e;case M:k=11;break e;case D:k=14;break e;case C:k=16,o=null;break e}k=29,r=Error(i(130,t===null?"null":typeof t,"")),o=null}return a=ss(k,r,a,m),a.elementType=t,a.type=o,a.lanes=b,a}function xn(t,a,r,o){return t=ss(7,t,o,a),t.lanes=r,t}function zd(t,a,r){return t=ss(6,t,null,a),t.lanes=r,t}function O0(t){var a=ss(18,null,null,0);return a.stateNode=t,a}function Pd(t,a,r){return a=ss(4,t.children!==null?t.children:[],t.key,a),a.lanes=r,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var z0=new WeakMap;function xs(t,a){if(typeof t=="object"&&t!==null){var r=z0.get(t);return r!==void 0?r:(a={value:t,source:a,stack:Oh(a)},z0.set(t,a),a)}return{value:t,source:a,stack:Oh(a)}}var rr=[],lr=0,Ji=null,cl=0,hs=[],fs=0,ya=null,_s=1,Ms="";function qs(t,a){rr[lr++]=cl,rr[lr++]=Ji,Ji=t,cl=a}function P0(t,a,r){hs[fs++]=_s,hs[fs++]=Ms,hs[fs++]=ya,ya=t;var o=_s;t=Ms;var m=32-es(o)-1;o&=~(1<<m),r+=1;var b=32-es(a)+m;if(30<b){var k=m-m%5;b=(o&(1<<k)-1).toString(32),o>>=k,m-=k,_s=1<<32-es(a)+m|r<<m|o,Ms=b+t}else _s=1<<b|r<<m|o,Ms=t}function Ud(t){t.return!==null&&(qs(t,1),P0(t,1,0))}function Fd(t){for(;t===Ji;)Ji=rr[--lr],rr[lr]=null,cl=rr[--lr],rr[lr]=null;for(;t===ya;)ya=hs[--fs],hs[fs]=null,Ms=hs[--fs],hs[fs]=null,_s=hs[--fs],hs[fs]=null}function U0(t,a){hs[fs++]=_s,hs[fs++]=Ms,hs[fs++]=ya,_s=a.id,Ms=a.overflow,ya=t}var Nt=null,Ze=null,Oe=!1,va=null,ps=!1,Hd=Error(i(519));function Na(t){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(xs(a,t)),Hd}function F0(t){var a=t.stateNode,r=t.type,o=t.memoizedProps;switch(a[vt]=t,a[Vt]=o,r){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(r=0;r<Ml.length;r++)Le(Ml[r],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),Jh(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),t0(a,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||o.suppressHydrationWarning===!0||nb(a.textContent,r)?(o.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),o.onScroll!=null&&Le("scroll",a),o.onScrollEnd!=null&&Le("scrollend",a),o.onClick!=null&&(a.onclick=$s),a=!0):a=!1,a||Na(t,!0)}function H0(t){for(Nt=t.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:ps=!1;return;case 27:case 3:ps=!0;return;default:Nt=Nt.return}}function ir(t){if(t!==Nt)return!1;if(!Oe)return H0(t),Oe=!0,!1;var a=t.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||rm(t.type,t.memoizedProps)),r=!r),r&&Ze&&Na(t),H0(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Ze=xb(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Ze=xb(t)}else a===27?(a=Ze,Oa(t.type)?(t=dm,dm=null,Ze=t):Ze=a):Ze=Nt?gs(t.stateNode.nextSibling):null;return!0}function hn(){Ze=Nt=null,Oe=!1}function Vd(){var t=va;return t!==null&&(Yt===null?Yt=t:Yt.push.apply(Yt,t),va=null),t}function dl(t){va===null?va=[t]:va.push(t)}var $d=_(null),fn=null,Ys=null;function wa(t,a,r){ae($d,a._currentValue),a._currentValue=r}function Ws(t){t._currentValue=$d.current,I($d)}function Id(t,a,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),t===r)break;t=t.return}}function Gd(t,a,r,o){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var b=m.dependencies;if(b!==null){var k=m.child;b=b.firstContext;e:for(;b!==null;){var O=b;b=m;for(var G=0;G<a.length;G++)if(O.context===a[G]){b.lanes|=r,O=b.alternate,O!==null&&(O.lanes|=r),Id(b.return,r,t),o||(k=null);break e}b=O.next}}else if(m.tag===18){if(k=m.return,k===null)throw Error(i(341));k.lanes|=r,b=k.alternate,b!==null&&(b.lanes|=r),Id(k,r,t),k=null}else k=m.child;if(k!==null)k.return=m;else for(k=m;k!==null;){if(k===t){k=null;break}if(m=k.sibling,m!==null){m.return=k.return,k=m;break}k=k.return}m=k}}function or(t,a,r,o){t=null;for(var m=a,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var k=m.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var O=m.type;ts(m.pendingProps.value,k.value)||(t!==null?t.push(O):t=[O])}}else if(m===fe.current){if(k=m.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}m=m.return}t!==null&&Gd(a,t,r,o),a.flags|=262144}function eo(t){for(t=t.firstContext;t!==null;){if(!ts(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function pn(t){fn=t,Ys=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wt(t){return V0(fn,t)}function to(t,a){return fn===null&&pn(t),V0(t,a)}function V0(t,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},Ys===null){if(t===null)throw Error(i(308));Ys=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Ys=Ys.next=a;return r}var cN=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){a.aborted=!0,t.forEach(function(r){return r()})}},dN=s.unstable_scheduleCallback,uN=s.unstable_NormalPriority,ut={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new cN,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&dN(uN,function(){t.controller.abort()})}var ml=null,Yd=0,cr=0,dr=null;function mN(t,a){if(ml===null){var r=ml=[];Yd=0,cr=Qu(),dr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Yd++,a.then($0,$0),a}function $0(){if(--Yd===0&&ml!==null){dr!==null&&(dr.status="fulfilled");var t=ml;ml=null,cr=0,dr=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function xN(t,a){var r=[],o={status:"pending",value:null,reason:null,then:function(m){r.push(m)}};return t.then(function(){o.status="fulfilled",o.value=a;for(var m=0;m<r.length;m++)(0,r[m])(a)},function(m){for(o.status="rejected",o.reason=m,m=0;m<r.length;m++)(0,r[m])(void 0)}),o}var I0=z.S;z.S=function(t,a){Ap=Zt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&mN(t,a),I0!==null&&I0(t,a)};var bn=_(null);function Wd(){var t=bn.current;return t!==null?t:Ye.pooledCache}function so(t,a){a===null?ae(bn,bn.current):ae(bn,a.pool)}function G0(){var t=Wd();return t===null?null:{parent:ut._currentValue,pool:t}}var ur=Error(i(460)),Kd=Error(i(474)),ao=Error(i(542)),no={then:function(){}};function q0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Y0(t,a,r){switch(r=t[r],r===void 0?t.push(a):r!==a&&(a.then($s,$s),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,K0(t),t;default:if(typeof a.status=="string")a.then($s,$s);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(o){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=o}},function(o){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,K0(t),t}throw jn=a,ur}}function gn(t){try{var a=t._init;return a(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(jn=r,ur):r}}var jn=null;function W0(){if(jn===null)throw Error(i(459));var t=jn;return jn=null,t}function K0(t){if(t===ur||t===ao)throw Error(i(483))}var mr=null,xl=0;function ro(t){var a=xl;return xl+=1,mr===null&&(mr=[]),Y0(mr,t,a)}function hl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function lo(t,a){throw a.$$typeof===N?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Q0(t){function a(X,Y){if(t){var ee=X.deletions;ee===null?(X.deletions=[Y],X.flags|=16):ee.push(Y)}}function r(X,Y){if(!t)return null;for(;Y!==null;)a(X,Y),Y=Y.sibling;return null}function o(X){for(var Y=new Map;X!==null;)X.key!==null?Y.set(X.key,X):Y.set(X.index,X),X=X.sibling;return Y}function m(X,Y){return X=Gs(X,Y),X.index=0,X.sibling=null,X}function b(X,Y,ee){return X.index=ee,t?(ee=X.alternate,ee!==null?(ee=ee.index,ee<Y?(X.flags|=67108866,Y):ee):(X.flags|=67108866,Y)):(X.flags|=1048576,Y)}function k(X){return t&&X.alternate===null&&(X.flags|=67108866),X}function O(X,Y,ee,ce){return Y===null||Y.tag!==6?(Y=zd(ee,X.mode,ce),Y.return=X,Y):(Y=m(Y,ee),Y.return=X,Y)}function G(X,Y,ee,ce){var Ne=ee.type;return Ne===y?ie(X,Y,ee.props.children,ce,ee.key):Y!==null&&(Y.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===C&&gn(Ne)===Y.type)?(Y=m(Y,ee.props),hl(Y,ee),Y.return=X,Y):(Y=Zi(ee.type,ee.key,ee.props,null,X.mode,ce),hl(Y,ee),Y.return=X,Y)}function te(X,Y,ee,ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=Pd(ee,X.mode,ce),Y.return=X,Y):(Y=m(Y,ee.children||[]),Y.return=X,Y)}function ie(X,Y,ee,ce,Ne){return Y===null||Y.tag!==7?(Y=xn(ee,X.mode,ce,Ne),Y.return=X,Y):(Y=m(Y,ee),Y.return=X,Y)}function ue(X,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=zd(""+Y,X.mode,ee),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return ee=Zi(Y.type,Y.key,Y.props,null,X.mode,ee),hl(ee,Y),ee.return=X,ee;case v:return Y=Pd(Y,X.mode,ee),Y.return=X,Y;case C:return Y=gn(Y),ue(X,Y,ee)}if(W(Y)||P(Y))return Y=xn(Y,X.mode,ee,null),Y.return=X,Y;if(typeof Y.then=="function")return ue(X,ro(Y),ee);if(Y.$$typeof===S)return ue(X,to(X,Y),ee);lo(X,Y)}return null}function se(X,Y,ee,ce){var Ne=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ne!==null?null:O(X,Y,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return ee.key===Ne?G(X,Y,ee,ce):null;case v:return ee.key===Ne?te(X,Y,ee,ce):null;case C:return ee=gn(ee),se(X,Y,ee,ce)}if(W(ee)||P(ee))return Ne!==null?null:ie(X,Y,ee,ce,null);if(typeof ee.then=="function")return se(X,Y,ro(ee),ce);if(ee.$$typeof===S)return se(X,Y,to(X,ee),ce);lo(X,ee)}return null}function re(X,Y,ee,ce,Ne){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return X=X.get(ee)||null,O(Y,X,""+ce,Ne);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:return X=X.get(ce.key===null?ee:ce.key)||null,G(Y,X,ce,Ne);case v:return X=X.get(ce.key===null?ee:ce.key)||null,te(Y,X,ce,Ne);case C:return ce=gn(ce),re(X,Y,ee,ce,Ne)}if(W(ce)||P(ce))return X=X.get(ee)||null,ie(Y,X,ce,Ne,null);if(typeof ce.then=="function")return re(X,Y,ee,ro(ce),Ne);if(ce.$$typeof===S)return re(X,Y,ee,to(Y,ce),Ne);lo(Y,ce)}return null}function ge(X,Y,ee,ce){for(var Ne=null,Pe=null,je=Y,_e=Y=0,Re=null;je!==null&&_e<ee.length;_e++){je.index>_e?(Re=je,je=null):Re=je.sibling;var Ue=se(X,je,ee[_e],ce);if(Ue===null){je===null&&(je=Re);break}t&&je&&Ue.alternate===null&&a(X,je),Y=b(Ue,Y,_e),Pe===null?Ne=Ue:Pe.sibling=Ue,Pe=Ue,je=Re}if(_e===ee.length)return r(X,je),Oe&&qs(X,_e),Ne;if(je===null){for(;_e<ee.length;_e++)je=ue(X,ee[_e],ce),je!==null&&(Y=b(je,Y,_e),Pe===null?Ne=je:Pe.sibling=je,Pe=je);return Oe&&qs(X,_e),Ne}for(je=o(je);_e<ee.length;_e++)Re=re(je,X,_e,ee[_e],ce),Re!==null&&(t&&Re.alternate!==null&&je.delete(Re.key===null?_e:Re.key),Y=b(Re,Y,_e),Pe===null?Ne=Re:Pe.sibling=Re,Pe=Re);return t&&je.forEach(function(Ha){return a(X,Ha)}),Oe&&qs(X,_e),Ne}function Se(X,Y,ee,ce){if(ee==null)throw Error(i(151));for(var Ne=null,Pe=null,je=Y,_e=Y=0,Re=null,Ue=ee.next();je!==null&&!Ue.done;_e++,Ue=ee.next()){je.index>_e?(Re=je,je=null):Re=je.sibling;var Ha=se(X,je,Ue.value,ce);if(Ha===null){je===null&&(je=Re);break}t&&je&&Ha.alternate===null&&a(X,je),Y=b(Ha,Y,_e),Pe===null?Ne=Ha:Pe.sibling=Ha,Pe=Ha,je=Re}if(Ue.done)return r(X,je),Oe&&qs(X,_e),Ne;if(je===null){for(;!Ue.done;_e++,Ue=ee.next())Ue=ue(X,Ue.value,ce),Ue!==null&&(Y=b(Ue,Y,_e),Pe===null?Ne=Ue:Pe.sibling=Ue,Pe=Ue);return Oe&&qs(X,_e),Ne}for(je=o(je);!Ue.done;_e++,Ue=ee.next())Ue=re(je,X,_e,Ue.value,ce),Ue!==null&&(t&&Ue.alternate!==null&&je.delete(Ue.key===null?_e:Ue.key),Y=b(Ue,Y,_e),Pe===null?Ne=Ue:Pe.sibling=Ue,Pe=Ue);return t&&je.forEach(function(Sw){return a(X,Sw)}),Oe&&qs(X,_e),Ne}function qe(X,Y,ee,ce){if(typeof ee=="object"&&ee!==null&&ee.type===y&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:e:{for(var Ne=ee.key;Y!==null;){if(Y.key===Ne){if(Ne=ee.type,Ne===y){if(Y.tag===7){r(X,Y.sibling),ce=m(Y,ee.props.children),ce.return=X,X=ce;break e}}else if(Y.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===C&&gn(Ne)===Y.type){r(X,Y.sibling),ce=m(Y,ee.props),hl(ce,ee),ce.return=X,X=ce;break e}r(X,Y);break}else a(X,Y);Y=Y.sibling}ee.type===y?(ce=xn(ee.props.children,X.mode,ce,ee.key),ce.return=X,X=ce):(ce=Zi(ee.type,ee.key,ee.props,null,X.mode,ce),hl(ce,ee),ce.return=X,X=ce)}return k(X);case v:e:{for(Ne=ee.key;Y!==null;){if(Y.key===Ne)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){r(X,Y.sibling),ce=m(Y,ee.children||[]),ce.return=X,X=ce;break e}else{r(X,Y);break}else a(X,Y);Y=Y.sibling}ce=Pd(ee,X.mode,ce),ce.return=X,X=ce}return k(X);case C:return ee=gn(ee),qe(X,Y,ee,ce)}if(W(ee))return ge(X,Y,ee,ce);if(P(ee)){if(Ne=P(ee),typeof Ne!="function")throw Error(i(150));return ee=Ne.call(ee),Se(X,Y,ee,ce)}if(typeof ee.then=="function")return qe(X,Y,ro(ee),ce);if(ee.$$typeof===S)return qe(X,Y,to(X,ee),ce);lo(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Y!==null&&Y.tag===6?(r(X,Y.sibling),ce=m(Y,ee),ce.return=X,X=ce):(r(X,Y),ce=zd(ee,X.mode,ce),ce.return=X,X=ce),k(X)):r(X,Y)}return function(X,Y,ee,ce){try{xl=0;var Ne=qe(X,Y,ee,ce);return mr=null,Ne}catch(je){if(je===ur||je===ao)throw je;var Pe=ss(29,je,null,X.mode);return Pe.lanes=ce,Pe.return=X,Pe}finally{}}}var yn=Q0(!0),X0=Q0(!1),Sa=!1;function Qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xd(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ca(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ka(t,a,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var m=o.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),o.pending=a,a=Xi(t),B0(t,null,r),a}return Qi(t,o,a,r),Xi(t)}function fl(t,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var o=a.lanes;o&=t.pendingLanes,r|=o,a.lanes=r,Vh(t,r)}}function Zd(t,a){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var m=null,b=null;if(r=r.firstBaseUpdate,r!==null){do{var k={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};b===null?m=b=k:b=b.next=k,r=r.next}while(r!==null);b===null?m=b=a:b=b.next=a}else m=b=a;r={baseState:o.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=a:t.next=a,r.lastBaseUpdate=a}var Jd=!1;function pl(){if(Jd){var t=dr;if(t!==null)throw t}}function bl(t,a,r,o){Jd=!1;var m=t.updateQueue;Sa=!1;var b=m.firstBaseUpdate,k=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var G=O,te=G.next;G.next=null,k===null?b=te:k.next=te,k=G;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==k&&(O===null?ie.firstBaseUpdate=te:O.next=te,ie.lastBaseUpdate=G))}if(b!==null){var ue=m.baseState;k=0,ie=te=G=null,O=b;do{var se=O.lane&-536870913,re=se!==O.lane;if(re?(Be&se)===se:(o&se)===se){se!==0&&se===cr&&(Jd=!0),ie!==null&&(ie=ie.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var ge=t,Se=O;se=a;var qe=r;switch(Se.tag){case 1:if(ge=Se.payload,typeof ge=="function"){ue=ge.call(qe,ue,se);break e}ue=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Se.payload,se=typeof ge=="function"?ge.call(qe,ue,se):ge,se==null)break e;ue=g({},ue,se);break e;case 2:Sa=!0}}se=O.callback,se!==null&&(t.flags|=64,re&&(t.flags|=8192),re=m.callbacks,re===null?m.callbacks=[se]:re.push(se))}else re={lane:se,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(te=ie=re,G=ue):ie=ie.next=re,k|=se;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;re=O,O=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);ie===null&&(G=ue),m.baseState=G,m.firstBaseUpdate=te,m.lastBaseUpdate=ie,b===null&&(m.shared.lanes=0),_a|=k,t.lanes=k,t.memoizedState=ue}}function Z0(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function J0(t,a){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Z0(r[t],a)}var xr=_(null),io=_(0);function ef(t,a){t=aa,ae(io,t),ae(xr,a),aa=t|a.baseLanes}function eu(){ae(io,aa),ae(xr,xr.current)}function tu(){aa=io.current,I(xr),I(io)}var as=_(null),bs=null;function Ta(t){var a=t.alternate;ae(lt,lt.current&1),ae(as,t),bs===null&&(a===null||xr.current!==null||a.memoizedState!==null)&&(bs=t)}function su(t){ae(lt,lt.current),ae(as,t),bs===null&&(bs=t)}function tf(t){t.tag===22?(ae(lt,lt.current),ae(as,t),bs===null&&(bs=t)):Aa()}function Aa(){ae(lt,lt.current),ae(as,as.current)}function ns(t){I(as),bs===t&&(bs=null),I(lt)}var lt=_(0);function oo(t){for(var a=t;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||om(r)||cm(r)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ks=0,Ee=null,Ie=null,mt=null,co=!1,hr=!1,vn=!1,uo=0,gl=0,fr=null,hN=0;function nt(){throw Error(i(321))}function au(t,a){if(a===null)return!1;for(var r=0;r<a.length&&r<t.length;r++)if(!ts(t[r],a[r]))return!1;return!0}function nu(t,a,r,o,m,b){return Ks=b,Ee=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=t===null||t.memoizedState===null?Uf:ju,vn=!1,b=r(o,m),vn=!1,hr&&(b=af(a,r,o,m)),sf(t),b}function sf(t){z.H=vl;var a=Ie!==null&&Ie.next!==null;if(Ks=0,mt=Ie=Ee=null,co=!1,gl=0,fr=null,a)throw Error(i(300));t===null||xt||(t=t.dependencies,t!==null&&eo(t)&&(xt=!0))}function af(t,a,r,o){Ee=t;var m=0;do{if(hr&&(fr=null),gl=0,hr=!1,25<=m)throw Error(i(301));if(m+=1,mt=Ie=null,t.updateQueue!=null){var b=t.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}z.H=Ff,b=a(r,o)}while(hr);return b}function fN(){var t=z.H,a=t.useState()[0];return a=typeof a.then=="function"?jl(a):a,t=t.useState()[0],(Ie!==null?Ie.memoizedState:null)!==t&&(Ee.flags|=1024),a}function ru(){var t=uo!==0;return uo=0,t}function lu(t,a,r){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~r}function iu(t){if(co){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}co=!1}Ks=0,mt=Ie=Ee=null,hr=!1,gl=uo=0,fr=null}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ee.memoizedState=mt=t:mt=mt.next=t,mt}function it(){if(Ie===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var a=mt===null?Ee.memoizedState:mt.next;if(a!==null)mt=a,Ie=t;else{if(t===null)throw Ee.alternate===null?Error(i(467)):Error(i(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},mt===null?Ee.memoizedState=mt=t:mt=mt.next=t}return mt}function mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var a=gl;return gl+=1,fr===null&&(fr=[]),t=Y0(fr,t,a),a=Ee,(mt===null?a.memoizedState:mt.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?Uf:ju),t}function xo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===S)return wt(t)}throw Error(i(438,String(t)))}function ou(t){var a=null,r=Ee.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var o=Ee.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=mo(),Ee.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(t),o=0;o<t;o++)r[o]=$;return a.index++,r}function Qs(t,a){return typeof a=="function"?a(t):a}function ho(t){var a=it();return cu(a,Ie,t)}function cu(t,a,r){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var m=t.baseQueue,b=o.pending;if(b!==null){if(m!==null){var k=m.next;m.next=b.next,b.next=k}a.baseQueue=m=b,o.pending=null}if(b=t.baseState,m===null)t.memoizedState=b;else{a=m.next;var O=k=null,G=null,te=a,ie=!1;do{var ue=te.lane&-536870913;if(ue!==te.lane?(Be&ue)===ue:(Ks&ue)===ue){var se=te.revertLane;if(se===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ue===cr&&(ie=!0);else if((Ks&se)===se){te=te.next,se===cr&&(ie=!0);continue}else ue={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(O=G=ue,k=b):G=G.next=ue,Ee.lanes|=se,_a|=se;ue=te.action,vn&&r(b,ue),b=te.hasEagerState?te.eagerState:r(b,ue)}else se={lane:ue,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(O=G=se,k=b):G=G.next=se,Ee.lanes|=ue,_a|=ue;te=te.next}while(te!==null&&te!==a);if(G===null?k=b:G.next=O,!ts(b,t.memoizedState)&&(xt=!0,ie&&(r=dr,r!==null)))throw r;t.memoizedState=b,t.baseState=k,t.baseQueue=G,o.lastRenderedState=b}return m===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function du(t){var a=it(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var o=r.dispatch,m=r.pending,b=a.memoizedState;if(m!==null){r.pending=null;var k=m=m.next;do b=t(b,k.action),k=k.next;while(k!==m);ts(b,a.memoizedState)||(xt=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),r.lastRenderedState=b}return[b,o]}function nf(t,a,r){var o=Ee,m=it(),b=Oe;if(b){if(r===void 0)throw Error(i(407));r=r()}else r=a();var k=!ts((Ie||m).memoizedState,r);if(k&&(m.memoizedState=r,xt=!0),m=m.queue,xu(of.bind(null,o,m,t),[t]),m.getSnapshot!==a||k||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,pr(9,{destroy:void 0},lf.bind(null,o,m,r,a),null),Ye===null)throw Error(i(349));b||(Ks&127)!==0||rf(o,a,r)}return r}function rf(t,a,r){t.flags|=16384,t={getSnapshot:a,value:r},a=Ee.updateQueue,a===null?(a=mo(),Ee.updateQueue=a,a.stores=[t]):(r=a.stores,r===null?a.stores=[t]:r.push(t))}function lf(t,a,r,o){a.value=r,a.getSnapshot=o,cf(a)&&df(t)}function of(t,a,r){return r(function(){cf(a)&&df(t)})}function cf(t){var a=t.getSnapshot;t=t.value;try{var r=a();return!ts(t,r)}catch{return!0}}function df(t){var a=mn(t,2);a!==null&&Wt(a,t,2)}function uu(t){var a=Lt();if(typeof t=="function"){var r=t;if(t=r(),vn){ba(!0);try{r()}finally{ba(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:t},a}function uf(t,a,r,o){return t.baseState=r,cu(t,Ie,typeof o=="function"?o:Qs)}function pN(t,a,r,o,m){if(bo(t))throw Error(i(485));if(t=a.action,t!==null){var b={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};z.T!==null?r(!0):b.isTransition=!1,o(b),r=a.pending,r===null?(b.next=a.pending=b,mf(a,b)):(b.next=r.next,a.pending=r.next=b)}}function mf(t,a){var r=a.action,o=a.payload,m=t.state;if(a.isTransition){var b=z.T,k={};z.T=k;try{var O=r(m,o),G=z.S;G!==null&&G(k,O),xf(t,a,O)}catch(te){mu(t,a,te)}finally{b!==null&&k.types!==null&&(b.types=k.types),z.T=b}}else try{b=r(m,o),xf(t,a,b)}catch(te){mu(t,a,te)}}function xf(t,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){hf(t,a,o)},function(o){return mu(t,a,o)}):hf(t,a,r)}function hf(t,a,r){a.status="fulfilled",a.value=r,ff(a),t.state=r,a=t.pending,a!==null&&(r=a.next,r===a?t.pending=null:(r=r.next,a.next=r,mf(t,r)))}function mu(t,a,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=r,ff(a),a=a.next;while(a!==o)}t.action=null}function ff(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function pf(t,a){return a}function bf(t,a){if(Oe){var r=Ye.formState;if(r!==null){e:{var o=Ee;if(Oe){if(Ze){t:{for(var m=Ze,b=ps;m.nodeType!==8;){if(!b){m=null;break t}if(m=gs(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){Ze=gs(m.nextSibling),o=m.data==="F!";break e}}Na(o)}o=!1}o&&(a=r[0])}}return r=Lt(),r.memoizedState=r.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:a},r.queue=o,r=Of.bind(null,Ee,o),o.dispatch=r,o=uu(!1),b=gu.bind(null,Ee,!1,o.queue),o=Lt(),m={state:a,dispatch:null,action:t,pending:null},o.queue=m,r=pN.bind(null,Ee,m,b,r),m.dispatch=r,o.memoizedState=t,[a,r,!1]}function gf(t){var a=it();return jf(a,Ie,t)}function jf(t,a,r){if(a=cu(t,a,pf)[0],t=ho(Qs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=jl(a)}catch(k){throw k===ur?ao:k}else o=a;a=it();var m=a.queue,b=m.dispatch;return r!==a.memoizedState&&(Ee.flags|=2048,pr(9,{destroy:void 0},bN.bind(null,m,r),null)),[o,b,t]}function bN(t,a){t.action=a}function yf(t){var a=it(),r=Ie;if(r!==null)return jf(a,r,t);it(),a=a.memoizedState,r=it();var o=r.queue.dispatch;return r.memoizedState=t,[a,o,!1]}function pr(t,a,r,o){return t={tag:t,create:r,deps:o,inst:a,next:null},a=Ee.updateQueue,a===null&&(a=mo(),Ee.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,a.lastEffect=t),t}function vf(){return it().memoizedState}function fo(t,a,r,o){var m=Lt();Ee.flags|=t,m.memoizedState=pr(1|a,{destroy:void 0},r,o===void 0?null:o)}function po(t,a,r,o){var m=it();o=o===void 0?null:o;var b=m.memoizedState.inst;Ie!==null&&o!==null&&au(o,Ie.memoizedState.deps)?m.memoizedState=pr(a,b,r,o):(Ee.flags|=t,m.memoizedState=pr(1|a,b,r,o))}function Nf(t,a){fo(8390656,8,t,a)}function xu(t,a){po(2048,8,t,a)}function gN(t){Ee.flags|=4;var a=Ee.updateQueue;if(a===null)a=mo(),Ee.updateQueue=a,a.events=[t];else{var r=a.events;r===null?a.events=[t]:r.push(t)}}function wf(t){var a=it().memoizedState;return gN({ref:a,nextImpl:t}),function(){if((He&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Sf(t,a){return po(4,2,t,a)}function Cf(t,a){return po(4,4,t,a)}function kf(t,a){if(typeof a=="function"){t=t();var r=a(t);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Tf(t,a,r){r=r!=null?r.concat([t]):null,po(4,4,kf.bind(null,a,t),r)}function hu(){}function Af(t,a){var r=it();a=a===void 0?null:a;var o=r.memoizedState;return a!==null&&au(a,o[1])?o[0]:(r.memoizedState=[t,a],t)}function Ef(t,a){var r=it();a=a===void 0?null:a;var o=r.memoizedState;if(a!==null&&au(a,o[1]))return o[0];if(o=t(),vn){ba(!0);try{t()}finally{ba(!1)}}return r.memoizedState=[o,a],o}function fu(t,a,r){return r===void 0||(Ks&1073741824)!==0&&(Be&261930)===0?t.memoizedState=a:(t.memoizedState=r,t=Dp(),Ee.lanes|=t,_a|=t,r)}function Df(t,a,r,o){return ts(r,a)?r:xr.current!==null?(t=fu(t,r,o),ts(t,a)||(xt=!0),t):(Ks&42)===0||(Ks&1073741824)!==0&&(Be&261930)===0?(xt=!0,t.memoizedState=r):(t=Dp(),Ee.lanes|=t,_a|=t,a)}function _f(t,a,r,o,m){var b=H.p;H.p=b!==0&&8>b?b:8;var k=z.T,O={};z.T=O,gu(t,!1,a,r);try{var G=m(),te=z.S;if(te!==null&&te(O,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ie=xN(G,o);yl(t,a,ie,is(t))}else yl(t,a,o,is(t))}catch(ue){yl(t,a,{then:function(){},status:"rejected",reason:ue},is())}finally{H.p=b,k!==null&&O.types!==null&&(k.types=O.types),z.T=k}}function jN(){}function pu(t,a,r,o){if(t.tag!==5)throw Error(i(476));var m=Mf(t).queue;_f(t,m,a,F,r===null?jN:function(){return Lf(t),r(o)})}function Mf(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:F},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:r},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Lf(t){var a=Mf(t);a.next===null&&(a=t.alternate.memoizedState),yl(t,a.next.queue,{},is())}function bu(){return wt(zl)}function Bf(){return it().memoizedState}function Rf(){return it().memoizedState}function yN(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var r=is();t=Ca(r);var o=ka(a,t,r);o!==null&&(Wt(o,a,r),fl(o,a,r)),a={cache:qd()},t.payload=a;return}a=a.return}}function vN(t,a,r){var o=is();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},bo(t)?zf(a,r):(r=Rd(t,a,r,o),r!==null&&(Wt(r,t,o),Pf(r,a,o)))}function Of(t,a,r){var o=is();yl(t,a,r,o)}function yl(t,a,r,o){var m={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(bo(t))zf(a,m);else{var b=t.alternate;if(t.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var k=a.lastRenderedState,O=b(k,r);if(m.hasEagerState=!0,m.eagerState=O,ts(O,k))return Qi(t,a,m,0),Ye===null&&Ki(),!1}catch{}finally{}if(r=Rd(t,a,m,o),r!==null)return Wt(r,t,o),Pf(r,a,o),!0}return!1}function gu(t,a,r,o){if(o={lane:2,revertLane:Qu(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},bo(t)){if(a)throw Error(i(479))}else a=Rd(t,r,o,2),a!==null&&Wt(a,t,2)}function bo(t){var a=t.alternate;return t===Ee||a!==null&&a===Ee}function zf(t,a){hr=co=!0;var r=t.pending;r===null?a.next=a:(a.next=r.next,r.next=a),t.pending=a}function Pf(t,a,r){if((r&4194048)!==0){var o=a.lanes;o&=t.pendingLanes,r|=o,a.lanes=r,Vh(t,r)}}var vl={readContext:wt,use:xo,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};vl.useEffectEvent=nt;var Uf={readContext:wt,use:xo,useCallback:function(t,a){return Lt().memoizedState=[t,a===void 0?null:a],t},useContext:wt,useEffect:Nf,useImperativeHandle:function(t,a,r){r=r!=null?r.concat([t]):null,fo(4194308,4,kf.bind(null,a,t),r)},useLayoutEffect:function(t,a){return fo(4194308,4,t,a)},useInsertionEffect:function(t,a){fo(4,2,t,a)},useMemo:function(t,a){var r=Lt();a=a===void 0?null:a;var o=t();if(vn){ba(!0);try{t()}finally{ba(!1)}}return r.memoizedState=[o,a],o},useReducer:function(t,a,r){var o=Lt();if(r!==void 0){var m=r(a);if(vn){ba(!0);try{r(a)}finally{ba(!1)}}}else m=a;return o.memoizedState=o.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},o.queue=t,t=t.dispatch=vN.bind(null,Ee,t),[o.memoizedState,t]},useRef:function(t){var a=Lt();return t={current:t},a.memoizedState=t},useState:function(t){t=uu(t);var a=t.queue,r=Of.bind(null,Ee,a);return a.dispatch=r,[t.memoizedState,r]},useDebugValue:hu,useDeferredValue:function(t,a){var r=Lt();return fu(r,t,a)},useTransition:function(){var t=uu(!1);return t=_f.bind(null,Ee,t.queue,!0,!1),Lt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,r){var o=Ee,m=Lt();if(Oe){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),Ye===null)throw Error(i(349));(Be&127)!==0||rf(o,a,r)}m.memoizedState=r;var b={value:r,getSnapshot:a};return m.queue=b,Nf(of.bind(null,o,b,t),[t]),o.flags|=2048,pr(9,{destroy:void 0},lf.bind(null,o,b,r,a),null),r},useId:function(){var t=Lt(),a=Ye.identifierPrefix;if(Oe){var r=Ms,o=_s;r=(o&~(1<<32-es(o)-1)).toString(32)+r,a="_"+a+"R_"+r,r=uo++,0<r&&(a+="H"+r.toString(32)),a+="_"}else r=hN++,a="_"+a+"r_"+r.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:bu,useFormState:bf,useActionState:bf,useOptimistic:function(t){var a=Lt();a.memoizedState=a.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=gu.bind(null,Ee,!0,r),r.dispatch=a,[t,a]},useMemoCache:ou,useCacheRefresh:function(){return Lt().memoizedState=yN.bind(null,Ee)},useEffectEvent:function(t){var a=Lt(),r={impl:t};return a.memoizedState=r,function(){if((He&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},ju={readContext:wt,use:xo,useCallback:Af,useContext:wt,useEffect:xu,useImperativeHandle:Tf,useInsertionEffect:Sf,useLayoutEffect:Cf,useMemo:Ef,useReducer:ho,useRef:vf,useState:function(){return ho(Qs)},useDebugValue:hu,useDeferredValue:function(t,a){var r=it();return Df(r,Ie.memoizedState,t,a)},useTransition:function(){var t=ho(Qs)[0],a=it().memoizedState;return[typeof t=="boolean"?t:jl(t),a]},useSyncExternalStore:nf,useId:Bf,useHostTransitionStatus:bu,useFormState:gf,useActionState:gf,useOptimistic:function(t,a){var r=it();return uf(r,Ie,t,a)},useMemoCache:ou,useCacheRefresh:Rf};ju.useEffectEvent=wf;var Ff={readContext:wt,use:xo,useCallback:Af,useContext:wt,useEffect:xu,useImperativeHandle:Tf,useInsertionEffect:Sf,useLayoutEffect:Cf,useMemo:Ef,useReducer:du,useRef:vf,useState:function(){return du(Qs)},useDebugValue:hu,useDeferredValue:function(t,a){var r=it();return Ie===null?fu(r,t,a):Df(r,Ie.memoizedState,t,a)},useTransition:function(){var t=du(Qs)[0],a=it().memoizedState;return[typeof t=="boolean"?t:jl(t),a]},useSyncExternalStore:nf,useId:Bf,useHostTransitionStatus:bu,useFormState:yf,useActionState:yf,useOptimistic:function(t,a){var r=it();return Ie!==null?uf(r,Ie,t,a):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ou,useCacheRefresh:Rf};Ff.useEffectEvent=wf;function yu(t,a,r,o){a=t.memoizedState,r=r(o,a),r=r==null?a:g({},a,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vu={enqueueSetState:function(t,a,r){t=t._reactInternals;var o=is(),m=Ca(o);m.payload=a,r!=null&&(m.callback=r),a=ka(t,m,o),a!==null&&(Wt(a,t,o),fl(a,t,o))},enqueueReplaceState:function(t,a,r){t=t._reactInternals;var o=is(),m=Ca(o);m.tag=1,m.payload=a,r!=null&&(m.callback=r),a=ka(t,m,o),a!==null&&(Wt(a,t,o),fl(a,t,o))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var r=is(),o=Ca(r);o.tag=2,a!=null&&(o.callback=a),a=ka(t,o,r),a!==null&&(Wt(a,t,r),fl(a,t,r))}};function Hf(t,a,r,o,m,b,k){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,b,k):a.prototype&&a.prototype.isPureReactComponent?!il(r,o)||!il(m,b):!0}function Vf(t,a,r,o){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,o),a.state!==t&&vu.enqueueReplaceState(a,a.state,null)}function Nn(t,a){var r=a;if("ref"in a){r={};for(var o in a)o!=="ref"&&(r[o]=a[o])}if(t=t.defaultProps){r===a&&(r=g({},r));for(var m in t)r[m]===void 0&&(r[m]=t[m])}return r}function $f(t){Wi(t)}function If(t){console.error(t)}function Gf(t){Wi(t)}function go(t,a){try{var r=t.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function qf(t,a,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Nu(t,a,r){return r=Ca(r),r.tag=3,r.payload={element:null},r.callback=function(){go(t,a)},r}function Yf(t){return t=Ca(t),t.tag=3,t}function Wf(t,a,r,o){var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var b=o.value;t.payload=function(){return m(b)},t.callback=function(){qf(a,r,o)}}var k=r.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(t.callback=function(){qf(a,r,o),typeof m!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var O=o.stack;this.componentDidCatch(o.value,{componentStack:O!==null?O:""})})}function NN(t,a,r,o,m){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=r.alternate,a!==null&&or(a,r,m,!0),r=as.current,r!==null){switch(r.tag){case 31:case 13:return bs===null?Do():r.alternate===null&&rt===0&&(rt=3),r.flags&=-257,r.flags|=65536,r.lanes=m,o===no?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([o]):a.add(o),Yu(t,o,m)),!1;case 22:return r.flags|=65536,o===no?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([o]):r.add(o)),Yu(t,o,m)),!1}throw Error(i(435,r.tag))}return Yu(t,o,m),Do(),!1}if(Oe)return a=as.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,o!==Hd&&(t=Error(i(422),{cause:o}),dl(xs(t,r)))):(o!==Hd&&(a=Error(i(423),{cause:o}),dl(xs(a,r))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,o=xs(o,r),m=Nu(t.stateNode,o,m),Zd(t,m),rt!==4&&(rt=2)),!1;var b=Error(i(520),{cause:o});if(b=xs(b,r),El===null?El=[b]:El.push(b),rt!==4&&(rt=2),a===null)return!0;o=xs(o,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,t=m&-m,r.lanes|=t,t=Nu(r.stateNode,o,t),Zd(r,t),!1;case 1:if(a=r.type,b=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ma===null||!Ma.has(b))))return r.flags|=65536,m&=-m,r.lanes|=m,m=Yf(m),Wf(m,t,r,o),Zd(r,m),!1}r=r.return}while(r!==null);return!1}var wu=Error(i(461)),xt=!1;function St(t,a,r,o){a.child=t===null?X0(a,null,r,o):yn(a,t.child,r,o)}function Kf(t,a,r,o,m){r=r.render;var b=a.ref;if("ref"in o){var k={};for(var O in o)O!=="ref"&&(k[O]=o[O])}else k=o;return pn(a),o=nu(t,a,r,k,b,m),O=ru(),t!==null&&!xt?(lu(t,a,m),Xs(t,a,m)):(Oe&&O&&Ud(a),a.flags|=1,St(t,a,o,m),a.child)}function Qf(t,a,r,o,m){if(t===null){var b=r.type;return typeof b=="function"&&!Od(b)&&b.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=b,Xf(t,a,b,o,m)):(t=Zi(r.type,null,o,a,a.mode,m),t.ref=a.ref,t.return=a,a.child=t)}if(b=t.child,!_u(t,m)){var k=b.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(k,o)&&t.ref===a.ref)return Xs(t,a,m)}return a.flags|=1,t=Gs(b,o),t.ref=a.ref,t.return=a,a.child=t}function Xf(t,a,r,o,m){if(t!==null){var b=t.memoizedProps;if(il(b,o)&&t.ref===a.ref)if(xt=!1,a.pendingProps=o=b,_u(t,m))(t.flags&131072)!==0&&(xt=!0);else return a.lanes=t.lanes,Xs(t,a,m)}return Su(t,a,r,o,m)}function Zf(t,a,r,o){var m=o.children,b=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|r:r,t!==null){for(o=a.child=t.child,m=0;o!==null;)m=m|o.lanes|o.childLanes,o=o.sibling;o=m&~b}else o=0,a.child=null;return Jf(t,a,b,r,o)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&so(a,b!==null?b.cachePool:null),b!==null?ef(a,b):eu(),tf(a);else return o=a.lanes=536870912,Jf(t,a,b!==null?b.baseLanes|r:r,r,o)}else b!==null?(so(a,b.cachePool),ef(a,b),Aa(),a.memoizedState=null):(t!==null&&so(a,null),eu(),Aa());return St(t,a,m,r),a.child}function Nl(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Jf(t,a,r,o,m){var b=Wd();return b=b===null?null:{parent:ut._currentValue,pool:b},a.memoizedState={baseLanes:r,cachePool:b},t!==null&&so(a,null),eu(),tf(a),t!==null&&or(t,a,o,!0),a.childLanes=m,null}function jo(t,a){return a=vo({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function ep(t,a,r){return yn(a,t.child,null,r),t=jo(a,a.pendingProps),t.flags|=2,ns(a),a.memoizedState=null,t}function wN(t,a,r){var o=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(Oe){if(o.mode==="hidden")return t=jo(a,o),a.lanes=536870912,Nl(null,t);if(su(a),(t=Ze)?(t=mb(t,ps),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:ya!==null?{id:_s,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},r=O0(t),r.return=a,a.child=r,Nt=a,Ze=null)):t=null,t===null)throw Na(a);return a.lanes=536870912,null}return jo(a,o)}var b=t.memoizedState;if(b!==null){var k=b.dehydrated;if(su(a),m)if(a.flags&256)a.flags&=-257,a=ep(t,a,r);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(i(558));else if(xt||or(t,a,r,!1),m=(r&t.childLanes)!==0,xt||m){if(o=Ye,o!==null&&(k=$h(o,r),k!==0&&k!==b.retryLane))throw b.retryLane=k,mn(t,k),Wt(o,t,k),wu;Do(),a=ep(t,a,r)}else t=b.treeContext,Ze=gs(k.nextSibling),Nt=a,Oe=!0,va=null,ps=!1,t!==null&&U0(a,t),a=jo(a,o),a.flags|=4096;return a}return t=Gs(t.child,{mode:o.mode,children:o.children}),t.ref=a.ref,a.child=t,t.return=a,t}function yo(t,a){var r=a.ref;if(r===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(a.flags|=4194816)}}function Su(t,a,r,o,m){return pn(a),r=nu(t,a,r,o,void 0,m),o=ru(),t!==null&&!xt?(lu(t,a,m),Xs(t,a,m)):(Oe&&o&&Ud(a),a.flags|=1,St(t,a,r,m),a.child)}function tp(t,a,r,o,m,b){return pn(a),a.updateQueue=null,r=af(a,o,r,m),sf(t),o=ru(),t!==null&&!xt?(lu(t,a,b),Xs(t,a,b)):(Oe&&o&&Ud(a),a.flags|=1,St(t,a,r,b),a.child)}function sp(t,a,r,o,m){if(pn(a),a.stateNode===null){var b=nr,k=r.contextType;typeof k=="object"&&k!==null&&(b=wt(k)),b=new r(o,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=vu,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=o,b.state=a.memoizedState,b.refs={},Qd(a),k=r.contextType,b.context=typeof k=="object"&&k!==null?wt(k):nr,b.state=a.memoizedState,k=r.getDerivedStateFromProps,typeof k=="function"&&(yu(a,r,k,o),b.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&vu.enqueueReplaceState(b,b.state,null),bl(a,o,b,m),pl(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(t===null){b=a.stateNode;var O=a.memoizedProps,G=Nn(r,O);b.props=G;var te=b.context,ie=r.contextType;k=nr,typeof ie=="object"&&ie!==null&&(k=wt(ie));var ue=r.getDerivedStateFromProps;ie=typeof ue=="function"||typeof b.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,ie||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O||te!==k)&&Vf(a,b,o,k),Sa=!1;var se=a.memoizedState;b.state=se,bl(a,o,b,m),pl(),te=a.memoizedState,O||se!==te||Sa?(typeof ue=="function"&&(yu(a,r,ue,o),te=a.memoizedState),(G=Sa||Hf(a,r,G,o,se,te,k))?(ie||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=te),b.props=o,b.state=te,b.context=k,o=G):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{b=a.stateNode,Xd(t,a),k=a.memoizedProps,ie=Nn(r,k),b.props=ie,ue=a.pendingProps,se=b.context,te=r.contextType,G=nr,typeof te=="object"&&te!==null&&(G=wt(te)),O=r.getDerivedStateFromProps,(te=typeof O=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==ue||se!==G)&&Vf(a,b,o,G),Sa=!1,se=a.memoizedState,b.state=se,bl(a,o,b,m),pl();var re=a.memoizedState;k!==ue||se!==re||Sa||t!==null&&t.dependencies!==null&&eo(t.dependencies)?(typeof O=="function"&&(yu(a,r,O,o),re=a.memoizedState),(ie=Sa||Hf(a,r,ie,o,se,re,G)||t!==null&&t.dependencies!==null&&eo(t.dependencies))?(te||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(o,re,G),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(o,re,G)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===t.memoizedProps&&se===t.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&se===t.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=re),b.props=o,b.state=re,b.context=G,o=ie):(typeof b.componentDidUpdate!="function"||k===t.memoizedProps&&se===t.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&se===t.memoizedState||(a.flags|=1024),o=!1)}return b=o,yo(t,a),o=(a.flags&128)!==0,b||o?(b=a.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,t!==null&&o?(a.child=yn(a,t.child,null,m),a.child=yn(a,null,r,m)):St(t,a,r,m),a.memoizedState=b.state,t=a.child):t=Xs(t,a,m),t}function ap(t,a,r,o){return hn(),a.flags|=256,St(t,a,r,o),a.child}var Cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ku(t){return{baseLanes:t,cachePool:G0()}}function Tu(t,a,r){return t=t!==null?t.childLanes&~r:0,a&&(t|=ls),t}function np(t,a,r){var o=a.pendingProps,m=!1,b=(a.flags&128)!==0,k;if((k=b)||(k=t!==null&&t.memoizedState===null?!1:(lt.current&2)!==0),k&&(m=!0,a.flags&=-129),k=(a.flags&32)!==0,a.flags&=-33,t===null){if(Oe){if(m?Ta(a):Aa(),(t=Ze)?(t=mb(t,ps),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:ya!==null?{id:_s,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},r=O0(t),r.return=a,a.child=r,Nt=a,Ze=null)):t=null,t===null)throw Na(a);return cm(t)?a.lanes=32:a.lanes=536870912,null}var O=o.children;return o=o.fallback,m?(Aa(),m=a.mode,O=vo({mode:"hidden",children:O},m),o=xn(o,m,r,null),O.return=a,o.return=a,O.sibling=o,a.child=O,o=a.child,o.memoizedState=ku(r),o.childLanes=Tu(t,k,r),a.memoizedState=Cu,Nl(null,o)):(Ta(a),Au(a,O))}var G=t.memoizedState;if(G!==null&&(O=G.dehydrated,O!==null)){if(b)a.flags&256?(Ta(a),a.flags&=-257,a=Eu(t,a,r)):a.memoizedState!==null?(Aa(),a.child=t.child,a.flags|=128,a=null):(Aa(),O=o.fallback,m=a.mode,o=vo({mode:"visible",children:o.children},m),O=xn(O,m,r,null),O.flags|=2,o.return=a,O.return=a,o.sibling=O,a.child=o,yn(a,t.child,null,r),o=a.child,o.memoizedState=ku(r),o.childLanes=Tu(t,k,r),a.memoizedState=Cu,a=Nl(null,o));else if(Ta(a),cm(O)){if(k=O.nextSibling&&O.nextSibling.dataset,k)var te=k.dgst;k=te,o=Error(i(419)),o.stack="",o.digest=k,dl({value:o,source:null,stack:null}),a=Eu(t,a,r)}else if(xt||or(t,a,r,!1),k=(r&t.childLanes)!==0,xt||k){if(k=Ye,k!==null&&(o=$h(k,r),o!==0&&o!==G.retryLane))throw G.retryLane=o,mn(t,o),Wt(k,t,o),wu;om(O)||Do(),a=Eu(t,a,r)}else om(O)?(a.flags|=192,a.child=t.child,a=null):(t=G.treeContext,Ze=gs(O.nextSibling),Nt=a,Oe=!0,va=null,ps=!1,t!==null&&U0(a,t),a=Au(a,o.children),a.flags|=4096);return a}return m?(Aa(),O=o.fallback,m=a.mode,G=t.child,te=G.sibling,o=Gs(G,{mode:"hidden",children:o.children}),o.subtreeFlags=G.subtreeFlags&65011712,te!==null?O=Gs(te,O):(O=xn(O,m,r,null),O.flags|=2),O.return=a,o.return=a,o.sibling=O,a.child=o,Nl(null,o),o=a.child,O=t.child.memoizedState,O===null?O=ku(r):(m=O.cachePool,m!==null?(G=ut._currentValue,m=m.parent!==G?{parent:G,pool:G}:m):m=G0(),O={baseLanes:O.baseLanes|r,cachePool:m}),o.memoizedState=O,o.childLanes=Tu(t,k,r),a.memoizedState=Cu,Nl(t.child,o)):(Ta(a),r=t.child,t=r.sibling,r=Gs(r,{mode:"visible",children:o.children}),r.return=a,r.sibling=null,t!==null&&(k=a.deletions,k===null?(a.deletions=[t],a.flags|=16):k.push(t)),a.child=r,a.memoizedState=null,r)}function Au(t,a){return a=vo({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function vo(t,a){return t=ss(22,t,null,a),t.lanes=0,t}function Eu(t,a,r){return yn(a,t.child,null,r),t=Au(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function rp(t,a,r){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a),Id(t.return,a,r)}function Du(t,a,r,o,m,b){var k=t.memoizedState;k===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:m,treeForkCount:b}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=o,k.tail=r,k.tailMode=m,k.treeForkCount=b)}function lp(t,a,r){var o=a.pendingProps,m=o.revealOrder,b=o.tail;o=o.children;var k=lt.current,O=(k&2)!==0;if(O?(k=k&1|2,a.flags|=128):k&=1,ae(lt,k),St(t,a,o,r),o=Oe?cl:0,!O&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rp(t,r,a);else if(t.tag===19)rp(t,r,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(r=a.child,m=null;r!==null;)t=r.alternate,t!==null&&oo(t)===null&&(m=r),r=r.sibling;r=m,r===null?(m=a.child,a.child=null):(m=r.sibling,r.sibling=null),Du(a,!1,m,r,b,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,m=a.child,a.child=null;m!==null;){if(t=m.alternate,t!==null&&oo(t)===null){a.child=m;break}t=m.sibling,m.sibling=r,r=m,m=t}Du(a,!0,r,null,b,o);break;case"together":Du(a,!1,null,null,void 0,o);break;default:a.memoizedState=null}return a.child}function Xs(t,a,r){if(t!==null&&(a.dependencies=t.dependencies),_a|=a.lanes,(r&a.childLanes)===0)if(t!==null){if(or(t,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,r=Gs(t,t.pendingProps),a.child=r,r.return=a;t.sibling!==null;)t=t.sibling,r=r.sibling=Gs(t,t.pendingProps),r.return=a;r.sibling=null}return a.child}function _u(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&eo(t)))}function SN(t,a,r){switch(a.tag){case 3:Ae(a,a.stateNode.containerInfo),wa(a,ut,t.memoizedState.cache),hn();break;case 27:case 5:xe(a);break;case 4:Ae(a,a.stateNode.containerInfo);break;case 10:wa(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,su(a),null;break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Ta(a),a.flags|=128,null):(r&a.child.childLanes)!==0?np(t,a,r):(Ta(a),t=Xs(t,a,r),t!==null?t.sibling:null);Ta(a);break;case 19:var m=(t.flags&128)!==0;if(o=(r&a.childLanes)!==0,o||(or(t,a,r,!1),o=(r&a.childLanes)!==0),m){if(o)return lp(t,a,r);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ae(lt,lt.current),o)break;return null;case 22:return a.lanes=0,Zf(t,a,r,a.pendingProps);case 24:wa(a,ut,t.memoizedState.cache)}return Xs(t,a,r)}function ip(t,a,r){if(t!==null)if(t.memoizedProps!==a.pendingProps)xt=!0;else{if(!_u(t,r)&&(a.flags&128)===0)return xt=!1,SN(t,a,r);xt=(t.flags&131072)!==0}else xt=!1,Oe&&(a.flags&1048576)!==0&&P0(a,cl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var o=a.pendingProps;if(t=gn(a.elementType),a.type=t,typeof t=="function")Od(t)?(o=Nn(t,o),a.tag=1,a=sp(null,a,t,o,r)):(a.tag=0,a=Su(null,a,t,o,r));else{if(t!=null){var m=t.$$typeof;if(m===M){a.tag=11,a=Kf(null,a,t,o,r);break e}else if(m===D){a.tag=14,a=Qf(null,a,t,o,r);break e}}throw a=K(t)||t,Error(i(306,a,""))}}return a;case 0:return Su(t,a,a.type,a.pendingProps,r);case 1:return o=a.type,m=Nn(o,a.pendingProps),sp(t,a,o,m,r);case 3:e:{if(Ae(a,a.stateNode.containerInfo),t===null)throw Error(i(387));o=a.pendingProps;var b=a.memoizedState;m=b.element,Xd(t,a),bl(a,o,null,r);var k=a.memoizedState;if(o=k.cache,wa(a,ut,o),o!==b.cache&&Gd(a,[ut],r,!0),pl(),o=k.element,b.isDehydrated)if(b={element:o,isDehydrated:!1,cache:k.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=ap(t,a,o,r);break e}else if(o!==m){m=xs(Error(i(424)),a),dl(m),a=ap(t,a,o,r);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ze=gs(t.firstChild),Nt=a,Oe=!0,va=null,ps=!0,r=X0(a,null,o,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(hn(),o===m){a=Xs(t,a,r);break e}St(t,a,o,r)}a=a.child}return a;case 26:return yo(t,a),t===null?(r=gb(a.type,null,a.pendingProps,null))?a.memoizedState=r:Oe||(r=a.type,t=a.pendingProps,o=zo(be.current).createElement(r),o[vt]=a,o[Vt]=t,Ct(o,r,t),gt(o),a.stateNode=o):a.memoizedState=gb(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return xe(a),t===null&&Oe&&(o=a.stateNode=fb(a.type,a.pendingProps,be.current),Nt=a,ps=!0,m=Ze,Oa(a.type)?(dm=m,Ze=gs(o.firstChild)):Ze=m),St(t,a,a.pendingProps.children,r),yo(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Oe&&((m=o=Ze)&&(o=ew(o,a.type,a.pendingProps,ps),o!==null?(a.stateNode=o,Nt=a,Ze=gs(o.firstChild),ps=!1,m=!0):m=!1),m||Na(a)),xe(a),m=a.type,b=a.pendingProps,k=t!==null?t.memoizedProps:null,o=b.children,rm(m,b)?o=null:k!==null&&rm(m,k)&&(a.flags|=32),a.memoizedState!==null&&(m=nu(t,a,fN,null,null,r),zl._currentValue=m),yo(t,a),St(t,a,o,r),a.child;case 6:return t===null&&Oe&&((t=r=Ze)&&(r=tw(r,a.pendingProps,ps),r!==null?(a.stateNode=r,Nt=a,Ze=null,t=!0):t=!1),t||Na(a)),null;case 13:return np(t,a,r);case 4:return Ae(a,a.stateNode.containerInfo),o=a.pendingProps,t===null?a.child=yn(a,null,o,r):St(t,a,o,r),a.child;case 11:return Kf(t,a,a.type,a.pendingProps,r);case 7:return St(t,a,a.pendingProps,r),a.child;case 8:return St(t,a,a.pendingProps.children,r),a.child;case 12:return St(t,a,a.pendingProps.children,r),a.child;case 10:return o=a.pendingProps,wa(a,a.type,o.value),St(t,a,o.children,r),a.child;case 9:return m=a.type._context,o=a.pendingProps.children,pn(a),m=wt(m),o=o(m),a.flags|=1,St(t,a,o,r),a.child;case 14:return Qf(t,a,a.type,a.pendingProps,r);case 15:return Xf(t,a,a.type,a.pendingProps,r);case 19:return lp(t,a,r);case 31:return wN(t,a,r);case 22:return Zf(t,a,r,a.pendingProps);case 24:return pn(a),o=wt(ut),t===null?(m=Wd(),m===null&&(m=Ye,b=qd(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=r),m=b),a.memoizedState={parent:o,cache:m},Qd(a),wa(a,ut,m)):((t.lanes&r)!==0&&(Xd(t,a),bl(a,null,null,r),pl()),m=t.memoizedState,b=a.memoizedState,m.parent!==o?(m={parent:o,cache:o},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),wa(a,ut,o)):(o=b.cache,wa(a,ut,o),o!==m.cache&&Gd(a,[ut],r,!0))),St(t,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Zs(t){t.flags|=4}function Mu(t,a,r,o,m){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(Bp())t.flags|=8192;else throw jn=no,Kd}else t.flags&=-16777217}function op(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!wb(a))if(Bp())t.flags|=8192;else throw jn=no,Kd}function No(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Fh():536870912,t.lanes|=a,yr|=a)}function wl(t,a){if(!Oe)switch(t.tailMode){case"hidden":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Je(t){var a=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(a)for(var m=t.child;m!==null;)r|=m.lanes|m.childLanes,o|=m.subtreeFlags&65011712,o|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)r|=m.lanes|m.childLanes,o|=m.subtreeFlags,o|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=o,t.childLanes=r,a}function CN(t,a,r){var o=a.pendingProps;switch(Fd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(a),null;case 1:return Je(a),null;case 3:return r=a.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Ws(ut),ve(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ir(a)?Zs(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Vd())),Je(a),null;case 26:var m=a.type,b=a.memoizedState;return t===null?(Zs(a),b!==null?(Je(a),op(a,b)):(Je(a),Mu(a,m,null,o,r))):b?b!==t.memoizedState?(Zs(a),Je(a),op(a,b)):(Je(a),a.flags&=-16777217):(t=t.memoizedProps,t!==o&&Zs(a),Je(a),Mu(a,m,t,o,r)),null;case 27:if(Z(a),r=be.current,m=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==o&&Zs(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return Je(a),null}t=de.current,ir(a)?F0(a):(t=fb(m,o,r),a.stateNode=t,Zs(a))}return Je(a),null;case 5:if(Z(a),m=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==o&&Zs(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return Je(a),null}if(b=de.current,ir(a))F0(a);else{var k=zo(be.current);switch(b){case 1:b=k.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=k.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=k.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=k.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=k.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof o.is=="string"?k.createElement("select",{is:o.is}):k.createElement("select"),o.multiple?b.multiple=!0:o.size&&(b.size=o.size);break;default:b=typeof o.is=="string"?k.createElement(m,{is:o.is}):k.createElement(m)}}b[vt]=a,b[Vt]=o;e:for(k=a.child;k!==null;){if(k.tag===5||k.tag===6)b.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===a)break e;for(;k.sibling===null;){if(k.return===null||k.return===a)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}a.stateNode=b;e:switch(Ct(b,m,o),m){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Zs(a)}}return Je(a),Mu(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,r),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==o&&Zs(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(t=be.current,ir(a)){if(t=a.stateNode,r=a.memoizedProps,o=null,m=Nt,m!==null)switch(m.tag){case 27:case 5:o=m.memoizedProps}t[vt]=a,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||nb(t.nodeValue,r)),t||Na(a,!0)}else t=zo(t).createTextNode(o),t[vt]=a,a.stateNode=t}return Je(a),null;case 31:if(r=a.memoizedState,t===null||t.memoizedState!==null){if(o=ir(a),r!==null){if(t===null){if(!o)throw Error(i(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[vt]=a}else hn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Je(a),t=!1}else r=Vd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return a.flags&256?(ns(a),a):(ns(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Je(a),null;case 13:if(o=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=ir(a),o!==null&&o.dehydrated!==null){if(t===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[vt]=a}else hn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Je(a),m=!1}else m=Vd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(ns(a),a):(ns(a),null)}return ns(a),(a.flags&128)!==0?(a.lanes=r,a):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=a.child,m=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(m=o.alternate.memoizedState.cachePool.pool),b=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(b=o.memoizedState.cachePool.pool),b!==m&&(o.flags|=2048)),r!==t&&r&&(a.child.flags|=8192),No(a,a.updateQueue),Je(a),null);case 4:return ve(),t===null&&em(a.stateNode.containerInfo),Je(a),null;case 10:return Ws(a.type),Je(a),null;case 19:if(I(lt),o=a.memoizedState,o===null)return Je(a),null;if(m=(a.flags&128)!==0,b=o.rendering,b===null)if(m)wl(o,!1);else{if(rt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(b=oo(t),b!==null){for(a.flags|=128,wl(o,!1),t=b.updateQueue,a.updateQueue=t,No(a,t),a.subtreeFlags=0,t=r,r=a.child;r!==null;)R0(r,t),r=r.sibling;return ae(lt,lt.current&1|2),Oe&&qs(a,o.treeForkCount),a.child}t=t.sibling}o.tail!==null&&Zt()>To&&(a.flags|=128,m=!0,wl(o,!1),a.lanes=4194304)}else{if(!m)if(t=oo(b),t!==null){if(a.flags|=128,m=!0,t=t.updateQueue,a.updateQueue=t,No(a,t),wl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!b.alternate&&!Oe)return Je(a),null}else 2*Zt()-o.renderingStartTime>To&&r!==536870912&&(a.flags|=128,m=!0,wl(o,!1),a.lanes=4194304);o.isBackwards?(b.sibling=a.child,a.child=b):(t=o.last,t!==null?t.sibling=b:a.child=b,o.last=b)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Zt(),t.sibling=null,r=lt.current,ae(lt,m?r&1|2:r&1),Oe&&qs(a,o.treeForkCount),t):(Je(a),null);case 22:case 23:return ns(a),tu(),o=a.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(r&536870912)!==0&&(a.flags&128)===0&&(Je(a),a.subtreeFlags&6&&(a.flags|=8192)):Je(a),r=a.updateQueue,r!==null&&No(a,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==r&&(a.flags|=2048),t!==null&&I(bn),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),Ws(ut),Je(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function kN(t,a){switch(Fd(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Ws(ut),ve(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Z(a),null;case 31:if(a.memoizedState!==null){if(ns(a),a.alternate===null)throw Error(i(340));hn()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(ns(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));hn()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return I(lt),null;case 4:return ve(),null;case 10:return Ws(a.type),null;case 22:case 23:return ns(a),tu(),t!==null&&I(bn),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Ws(ut),null;case 25:return null;default:return null}}function cp(t,a){switch(Fd(a),a.tag){case 3:Ws(ut),ve();break;case 26:case 27:case 5:Z(a);break;case 4:ve();break;case 31:a.memoizedState!==null&&ns(a);break;case 13:ns(a);break;case 19:I(lt);break;case 10:Ws(a.type);break;case 22:case 23:ns(a),tu(),t!==null&&I(bn);break;case 24:Ws(ut)}}function Sl(t,a){try{var r=a.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var m=o.next;r=m;do{if((r.tag&t)===t){o=void 0;var b=r.create,k=r.inst;o=b(),k.destroy=o}r=r.next}while(r!==m)}}catch(O){$e(a,a.return,O)}}function Ea(t,a,r){try{var o=a.updateQueue,m=o!==null?o.lastEffect:null;if(m!==null){var b=m.next;o=b;do{if((o.tag&t)===t){var k=o.inst,O=k.destroy;if(O!==void 0){k.destroy=void 0,m=a;var G=r,te=O;try{te()}catch(ie){$e(m,G,ie)}}}o=o.next}while(o!==b)}}catch(ie){$e(a,a.return,ie)}}function dp(t){var a=t.updateQueue;if(a!==null){var r=t.stateNode;try{J0(a,r)}catch(o){$e(t,t.return,o)}}}function up(t,a,r){r.props=Nn(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){$e(t,a,o)}}function Cl(t,a){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(m){$e(t,a,m)}}function Ls(t,a){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(m){$e(t,a,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(m){$e(t,a,m)}else r.current=null}function mp(t){var a=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(m){$e(t,t.return,m)}}function Lu(t,a,r){try{var o=t.stateNode;WN(o,t.type,r,a),o[Vt]=a}catch(m){$e(t,t.return,m)}}function xp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Oa(t.type)||t.tag===4}function Bu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Oa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ru(t,a,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(t),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=$s));else if(o!==4&&(o===27&&Oa(t.type)&&(r=t.stateNode,a=null),t=t.child,t!==null))for(Ru(t,a,r),t=t.sibling;t!==null;)Ru(t,a,r),t=t.sibling}function wo(t,a,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?r.insertBefore(t,a):r.appendChild(t);else if(o!==4&&(o===27&&Oa(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(wo(t,a,r),t=t.sibling;t!==null;)wo(t,a,r),t=t.sibling}function hp(t){var a=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Ct(a,o,r),a[vt]=t,a[Vt]=r}catch(b){$e(t,t.return,b)}}var Js=!1,ht=!1,Ou=!1,fp=typeof WeakSet=="function"?WeakSet:Set,jt=null;function TN(t,a){if(t=t.containerInfo,am=Io,t=k0(t),Ed(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var m=o.anchorOffset,b=o.focusNode;o=o.focusOffset;try{r.nodeType,b.nodeType}catch{r=null;break e}var k=0,O=-1,G=-1,te=0,ie=0,ue=t,se=null;t:for(;;){for(var re;ue!==r||m!==0&&ue.nodeType!==3||(O=k+m),ue!==b||o!==0&&ue.nodeType!==3||(G=k+o),ue.nodeType===3&&(k+=ue.nodeValue.length),(re=ue.firstChild)!==null;)se=ue,ue=re;for(;;){if(ue===t)break t;if(se===r&&++te===m&&(O=k),se===b&&++ie===o&&(G=k),(re=ue.nextSibling)!==null)break;ue=se,se=ue.parentNode}ue=re}r=O===-1||G===-1?null:{start:O,end:G}}else r=null}r=r||{start:0,end:0}}else r=null;for(nm={focusedElem:t,selectionRange:r},Io=!1,jt=a;jt!==null;)if(a=jt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,jt=t;else for(;jt!==null;){switch(a=jt,b=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)m=t[r],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&b!==null){t=void 0,r=a,m=b.memoizedProps,b=b.memoizedState,o=r.stateNode;try{var ge=Nn(r.type,m);t=o.getSnapshotBeforeUpdate(ge,b),o.__reactInternalSnapshotBeforeUpdate=t}catch(Se){$e(r,r.return,Se)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,r=t.nodeType,r===9)im(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,jt=t;break}jt=a.return}}function pp(t,a,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ta(t,r),o&4&&Sl(5,r);break;case 1:if(ta(t,r),o&4)if(t=r.stateNode,a===null)try{t.componentDidMount()}catch(k){$e(r,r.return,k)}else{var m=Nn(r.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(m,a,t.__reactInternalSnapshotBeforeUpdate)}catch(k){$e(r,r.return,k)}}o&64&&dp(r),o&512&&Cl(r,r.return);break;case 3:if(ta(t,r),o&64&&(t=r.updateQueue,t!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{J0(t,a)}catch(k){$e(r,r.return,k)}}break;case 27:a===null&&o&4&&hp(r);case 26:case 5:ta(t,r),a===null&&o&4&&mp(r),o&512&&Cl(r,r.return);break;case 12:ta(t,r);break;case 31:ta(t,r),o&4&&jp(t,r);break;case 13:ta(t,r),o&4&&yp(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ON.bind(null,r),sw(t,r))));break;case 22:if(o=r.memoizedState!==null||Js,!o){a=a!==null&&a.memoizedState!==null||ht,m=Js;var b=ht;Js=o,(ht=a)&&!b?sa(t,r,(r.subtreeFlags&8772)!==0):ta(t,r),Js=m,ht=b}break;case 30:break;default:ta(t,r)}}function bp(t){var a=t.alternate;a!==null&&(t.alternate=null,bp(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&md(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var et=null,It=!1;function ea(t,a,r){for(r=r.child;r!==null;)gp(t,a,r),r=r.sibling}function gp(t,a,r){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Kr,r)}catch{}switch(r.tag){case 26:ht||Ls(r,a),ea(t,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ht||Ls(r,a);var o=et,m=It;Oa(r.type)&&(et=r.stateNode,It=!1),ea(t,a,r),Bl(r.stateNode),et=o,It=m;break;case 5:ht||Ls(r,a);case 6:if(o=et,m=It,et=null,ea(t,a,r),et=o,It=m,et!==null)if(It)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(r.stateNode)}catch(b){$e(r,a,b)}else try{et.removeChild(r.stateNode)}catch(b){$e(r,a,b)}break;case 18:et!==null&&(It?(t=et,db(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ar(t)):db(et,r.stateNode));break;case 4:o=et,m=It,et=r.stateNode.containerInfo,It=!0,ea(t,a,r),et=o,It=m;break;case 0:case 11:case 14:case 15:Ea(2,r,a),ht||Ea(4,r,a),ea(t,a,r);break;case 1:ht||(Ls(r,a),o=r.stateNode,typeof o.componentWillUnmount=="function"&&up(r,a,o)),ea(t,a,r);break;case 21:ea(t,a,r);break;case 22:ht=(o=ht)||r.memoizedState!==null,ea(t,a,r),ht=o;break;default:ea(t,a,r)}}function jp(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ar(t)}catch(r){$e(a,a.return,r)}}}function yp(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ar(t)}catch(r){$e(a,a.return,r)}}function AN(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new fp),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new fp),a;default:throw Error(i(435,t.tag))}}function So(t,a){var r=AN(t);a.forEach(function(o){if(!r.has(o)){r.add(o);var m=zN.bind(null,t,o);o.then(m,m)}})}function Gt(t,a){var r=a.deletions;if(r!==null)for(var o=0;o<r.length;o++){var m=r[o],b=t,k=a,O=k;e:for(;O!==null;){switch(O.tag){case 27:if(Oa(O.type)){et=O.stateNode,It=!1;break e}break;case 5:et=O.stateNode,It=!1;break e;case 3:case 4:et=O.stateNode.containerInfo,It=!0;break e}O=O.return}if(et===null)throw Error(i(160));gp(b,k,m),et=null,It=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)vp(a,t),a=a.sibling}var ws=null;function vp(t,a){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(a,t),qt(t),o&4&&(Ea(3,t,t.return),Sl(3,t),Ea(5,t,t.return));break;case 1:Gt(a,t),qt(t),o&512&&(ht||r===null||Ls(r,r.return)),o&64&&Js&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var m=ws;if(Gt(a,t),qt(t),o&512&&(ht||r===null||Ls(r,r.return)),o&4){var b=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,m=m.ownerDocument||m;t:switch(o){case"title":b=m.getElementsByTagName("title")[0],(!b||b[Zr]||b[vt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(o),m.head.insertBefore(b,m.querySelector("head > title"))),Ct(b,o,r),b[vt]=t,gt(b),o=b;break e;case"link":var k=vb("link","href",m).get(o+(r.href||""));if(k){for(var O=0;O<k.length;O++)if(b=k[O],b.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&b.getAttribute("rel")===(r.rel==null?null:r.rel)&&b.getAttribute("title")===(r.title==null?null:r.title)&&b.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){k.splice(O,1);break t}}b=m.createElement(o),Ct(b,o,r),m.head.appendChild(b);break;case"meta":if(k=vb("meta","content",m).get(o+(r.content||""))){for(O=0;O<k.length;O++)if(b=k[O],b.getAttribute("content")===(r.content==null?null:""+r.content)&&b.getAttribute("name")===(r.name==null?null:r.name)&&b.getAttribute("property")===(r.property==null?null:r.property)&&b.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&b.getAttribute("charset")===(r.charSet==null?null:r.charSet)){k.splice(O,1);break t}}b=m.createElement(o),Ct(b,o,r),m.head.appendChild(b);break;default:throw Error(i(468,o))}b[vt]=t,gt(b),o=b}t.stateNode=o}else Nb(m,t.type,t.stateNode);else t.stateNode=yb(m,o,t.memoizedProps);else b!==o?(b===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):b.count--,o===null?Nb(m,t.type,t.stateNode):yb(m,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Lu(t,t.memoizedProps,r.memoizedProps)}break;case 27:Gt(a,t),qt(t),o&512&&(ht||r===null||Ls(r,r.return)),r!==null&&o&4&&Lu(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Gt(a,t),qt(t),o&512&&(ht||r===null||Ls(r,r.return)),t.flags&32){m=t.stateNode;try{Xn(m,"")}catch(ge){$e(t,t.return,ge)}}o&4&&t.stateNode!=null&&(m=t.memoizedProps,Lu(t,m,r!==null?r.memoizedProps:m)),o&1024&&(Ou=!0);break;case 6:if(Gt(a,t),qt(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ge){$e(t,t.return,ge)}}break;case 3:if(Fo=null,m=ws,ws=Po(a.containerInfo),Gt(a,t),ws=m,qt(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ar(a.containerInfo)}catch(ge){$e(t,t.return,ge)}Ou&&(Ou=!1,Np(t));break;case 4:o=ws,ws=Po(t.stateNode.containerInfo),Gt(a,t),qt(t),ws=o;break;case 12:Gt(a,t),qt(t);break;case 31:Gt(a,t),qt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,So(t,o)));break;case 13:Gt(a,t),qt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ko=Zt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,So(t,o)));break;case 22:m=t.memoizedState!==null;var G=r!==null&&r.memoizedState!==null,te=Js,ie=ht;if(Js=te||m,ht=ie||G,Gt(a,t),ht=ie,Js=te,qt(t),o&8192)e:for(a=t.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(r===null||G||Js||ht||wn(t)),r=null,a=t;;){if(a.tag===5||a.tag===26){if(r===null){G=r=a;try{if(b=G.stateNode,m)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{O=G.stateNode;var ue=G.memoizedProps.style,se=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;O.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(ge){$e(G,G.return,ge)}}}else if(a.tag===6){if(r===null){G=a;try{G.stateNode.nodeValue=m?"":G.memoizedProps}catch(ge){$e(G,G.return,ge)}}}else if(a.tag===18){if(r===null){G=a;try{var re=G.stateNode;m?ub(re,!0):ub(G.stateNode,!1)}catch(ge){$e(G,G.return,ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,So(t,r))));break;case 19:Gt(a,t),qt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,So(t,o)));break;case 30:break;case 21:break;default:Gt(a,t),qt(t)}}function qt(t){var a=t.flags;if(a&2){try{for(var r,o=t.return;o!==null;){if(xp(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var m=r.stateNode,b=Bu(t);wo(t,b,m);break;case 5:var k=r.stateNode;r.flags&32&&(Xn(k,""),r.flags&=-33);var O=Bu(t);wo(t,O,k);break;case 3:case 4:var G=r.stateNode.containerInfo,te=Bu(t);Ru(t,te,G);break;default:throw Error(i(161))}}catch(ie){$e(t,t.return,ie)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Np(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Np(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function ta(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)pp(t,a.alternate,a),a=a.sibling}function wn(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Ea(4,a,a.return),wn(a);break;case 1:Ls(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&up(a,a.return,r),wn(a);break;case 27:Bl(a.stateNode);case 26:case 5:Ls(a,a.return),wn(a);break;case 22:a.memoizedState===null&&wn(a);break;case 30:wn(a);break;default:wn(a)}t=t.sibling}}function sa(t,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,m=t,b=a,k=b.flags;switch(b.tag){case 0:case 11:case 15:sa(m,b,r),Sl(4,b);break;case 1:if(sa(m,b,r),o=b,m=o.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(te){$e(o,o.return,te)}if(o=b,m=o.updateQueue,m!==null){var O=o.stateNode;try{var G=m.shared.hiddenCallbacks;if(G!==null)for(m.shared.hiddenCallbacks=null,m=0;m<G.length;m++)Z0(G[m],O)}catch(te){$e(o,o.return,te)}}r&&k&64&&dp(b),Cl(b,b.return);break;case 27:hp(b);case 26:case 5:sa(m,b,r),r&&o===null&&k&4&&mp(b),Cl(b,b.return);break;case 12:sa(m,b,r);break;case 31:sa(m,b,r),r&&k&4&&jp(m,b);break;case 13:sa(m,b,r),r&&k&4&&yp(m,b);break;case 22:b.memoizedState===null&&sa(m,b,r),Cl(b,b.return);break;case 30:break;default:sa(m,b,r)}a=a.sibling}}function zu(t,a){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ul(r))}function Pu(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&ul(t))}function Ss(t,a,r,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)wp(t,a,r,o),a=a.sibling}function wp(t,a,r,o){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Ss(t,a,r,o),m&2048&&Sl(9,a);break;case 1:Ss(t,a,r,o);break;case 3:Ss(t,a,r,o),m&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&ul(t)));break;case 12:if(m&2048){Ss(t,a,r,o),t=a.stateNode;try{var b=a.memoizedProps,k=b.id,O=b.onPostCommit;typeof O=="function"&&O(k,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(G){$e(a,a.return,G)}}else Ss(t,a,r,o);break;case 31:Ss(t,a,r,o);break;case 13:Ss(t,a,r,o);break;case 23:break;case 22:b=a.stateNode,k=a.alternate,a.memoizedState!==null?b._visibility&2?Ss(t,a,r,o):kl(t,a):b._visibility&2?Ss(t,a,r,o):(b._visibility|=2,br(t,a,r,o,(a.subtreeFlags&10256)!==0||!1)),m&2048&&zu(k,a);break;case 24:Ss(t,a,r,o),m&2048&&Pu(a.alternate,a);break;default:Ss(t,a,r,o)}}function br(t,a,r,o,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=t,k=a,O=r,G=o,te=k.flags;switch(k.tag){case 0:case 11:case 15:br(b,k,O,G,m),Sl(8,k);break;case 23:break;case 22:var ie=k.stateNode;k.memoizedState!==null?ie._visibility&2?br(b,k,O,G,m):kl(b,k):(ie._visibility|=2,br(b,k,O,G,m)),m&&te&2048&&zu(k.alternate,k);break;case 24:br(b,k,O,G,m),m&&te&2048&&Pu(k.alternate,k);break;default:br(b,k,O,G,m)}a=a.sibling}}function kl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=t,o=a,m=o.flags;switch(o.tag){case 22:kl(r,o),m&2048&&zu(o.alternate,o);break;case 24:kl(r,o),m&2048&&Pu(o.alternate,o);break;default:kl(r,o)}a=a.sibling}}var Tl=8192;function gr(t,a,r){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)Sp(t,a,r),t=t.sibling}function Sp(t,a,r){switch(t.tag){case 26:gr(t,a,r),t.flags&Tl&&t.memoizedState!==null&&hw(r,ws,t.memoizedState,t.memoizedProps);break;case 5:gr(t,a,r);break;case 3:case 4:var o=ws;ws=Po(t.stateNode.containerInfo),gr(t,a,r),ws=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Tl,Tl=16777216,gr(t,a,r),Tl=o):gr(t,a,r));break;default:gr(t,a,r)}}function Cp(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Al(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];jt=o,Tp(o,t)}Cp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kp(t),t=t.sibling}function kp(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Ea(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Co(t)):Al(t);break;default:Al(t)}}function Co(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];jt=o,Tp(o,t)}Cp(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Ea(8,a,a.return),Co(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,Co(a));break;default:Co(a)}t=t.sibling}}function Tp(t,a){for(;jt!==null;){var r=jt;switch(r.tag){case 0:case 11:case 15:Ea(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ul(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,jt=o;else e:for(r=t;jt!==null;){o=jt;var m=o.sibling,b=o.return;if(bp(o),o===r){jt=null;break e}if(m!==null){m.return=b,jt=m;break e}jt=b}}}var EN={getCacheForType:function(t){var a=wt(ut),r=a.data.get(t);return r===void 0&&(r=t(),a.data.set(t,r)),r},cacheSignal:function(){return wt(ut).controller.signal}},DN=typeof WeakMap=="function"?WeakMap:Map,He=0,Ye=null,Me=null,Be=0,Ve=0,rs=null,Da=!1,jr=!1,Uu=!1,aa=0,rt=0,_a=0,Sn=0,Fu=0,ls=0,yr=0,El=null,Yt=null,Hu=!1,ko=0,Ap=0,To=1/0,Ao=null,Ma=null,bt=0,La=null,vr=null,na=0,Vu=0,$u=null,Ep=null,Dl=0,Iu=null;function is(){return(He&2)!==0&&Be!==0?Be&-Be:z.T!==null?Qu():Ih()}function Dp(){if(ls===0)if((Be&536870912)===0||Oe){var t=Ri;Ri<<=1,(Ri&3932160)===0&&(Ri=262144),ls=t}else ls=536870912;return t=as.current,t!==null&&(t.flags|=32),ls}function Wt(t,a,r){(t===Ye&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)&&(Nr(t,0),Ba(t,Be,ls,!1)),Xr(t,r),((He&2)===0||t!==Ye)&&(t===Ye&&((He&2)===0&&(Sn|=r),rt===4&&Ba(t,Be,ls,!1)),Bs(t))}function _p(t,a,r){if((He&6)!==0)throw Error(i(327));var o=!r&&(a&127)===0&&(a&t.expiredLanes)===0||Qr(t,a),m=o?LN(t,a):qu(t,a,!0),b=o;do{if(m===0){jr&&!o&&Ba(t,a,0,!1);break}else{if(r=t.current.alternate,b&&!_N(r)){m=qu(t,a,!1),b=!1;continue}if(m===2){if(b=a,t.errorRecoveryDisabledLanes&b)var k=0;else k=t.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){a=k;e:{var O=t;m=El;var G=O.current.memoizedState.isDehydrated;if(G&&(Nr(O,k).flags|=256),k=qu(O,k,!1),k!==2){if(Uu&&!G){O.errorRecoveryDisabledLanes|=b,Sn|=b,m=4;break e}b=Yt,Yt=m,b!==null&&(Yt===null?Yt=b:Yt.push.apply(Yt,b))}m=k}if(b=!1,m!==2)continue}}if(m===1){Nr(t,0),Ba(t,a,0,!0);break}e:{switch(o=t,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Ba(o,a,ls,!Da);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=ko+300-Zt(),10<m)){if(Ba(o,a,ls,!Da),zi(o,0,!0)!==0)break e;na=a,o.timeoutHandle=ob(Mp.bind(null,o,r,Yt,Ao,Hu,a,ls,Sn,yr,Da,b,"Throttled",-0,0),m);break e}Mp(o,r,Yt,Ao,Hu,a,ls,Sn,yr,Da,b,null,-0,0)}}break}while(!0);Bs(t)}function Mp(t,a,r,o,m,b,k,O,G,te,ie,ue,se,re){if(t.timeoutHandle=-1,ue=a.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$s},Sp(a,b,ue);var ge=(b&62914560)===b?ko-Zt():(b&4194048)===b?Ap-Zt():0;if(ge=fw(ue,ge),ge!==null){na=b,t.cancelPendingCommit=ge(Fp.bind(null,t,a,b,r,o,m,k,O,G,ie,ue,null,se,re)),Ba(t,b,k,!te);return}}Fp(t,a,b,r,o,m,k,O,G)}function _N(t){for(var a=t;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var m=r[o],b=m.getSnapshot;m=m.value;try{if(!ts(b(),m))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ba(t,a,r,o){a&=~Fu,a&=~Sn,t.suspendedLanes|=a,t.pingedLanes&=~a,o&&(t.warmLanes|=a),o=t.expirationTimes;for(var m=a;0<m;){var b=31-es(m),k=1<<b;o[b]=-1,m&=~k}r!==0&&Hh(t,r,a)}function Eo(){return(He&6)===0?(_l(0),!1):!0}function Gu(){if(Me!==null){if(Ve===0)var t=Me.return;else t=Me,Ys=fn=null,iu(t),mr=null,xl=0,t=Me;for(;t!==null;)cp(t.alternate,t),t=t.return;Me=null}}function Nr(t,a){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,XN(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),na=0,Gu(),Ye=t,Me=r=Gs(t.current,null),Be=a,Ve=0,rs=null,Da=!1,jr=Qr(t,a),Uu=!1,yr=ls=Fu=Sn=_a=rt=0,Yt=El=null,Hu=!1,(a&8)!==0&&(a|=a&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=a;0<o;){var m=31-es(o),b=1<<m;a|=t[m],o&=~b}return aa=a,Ki(),r}function Lp(t,a){Ee=null,z.H=vl,a===ur||a===ao?(a=W0(),Ve=3):a===Kd?(a=W0(),Ve=4):Ve=a===wu?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,rs=a,Me===null&&(rt=1,go(t,xs(a,t.current)))}function Bp(){var t=as.current;return t===null?!0:(Be&4194048)===Be?bs===null:(Be&62914560)===Be||(Be&536870912)!==0?t===bs:!1}function Rp(){var t=z.H;return z.H=vl,t===null?vl:t}function Op(){var t=z.A;return z.A=EN,t}function Do(){rt=4,Da||(Be&4194048)!==Be&&as.current!==null||(jr=!0),(_a&134217727)===0&&(Sn&134217727)===0||Ye===null||Ba(Ye,Be,ls,!1)}function qu(t,a,r){var o=He;He|=2;var m=Rp(),b=Op();(Ye!==t||Be!==a)&&(Ao=null,Nr(t,a)),a=!1;var k=rt;e:do try{if(Ve!==0&&Me!==null){var O=Me,G=rs;switch(Ve){case 8:Gu(),k=6;break e;case 3:case 2:case 9:case 6:as.current===null&&(a=!0);var te=Ve;if(Ve=0,rs=null,wr(t,O,G,te),r&&jr){k=0;break e}break;default:te=Ve,Ve=0,rs=null,wr(t,O,G,te)}}MN(),k=rt;break}catch(ie){Lp(t,ie)}while(!0);return a&&t.shellSuspendCounter++,Ys=fn=null,He=o,z.H=m,z.A=b,Me===null&&(Ye=null,Be=0,Ki()),k}function MN(){for(;Me!==null;)zp(Me)}function LN(t,a){var r=He;He|=2;var o=Rp(),m=Op();Ye!==t||Be!==a?(Ao=null,To=Zt()+500,Nr(t,a)):jr=Qr(t,a);e:do try{if(Ve!==0&&Me!==null){a=Me;var b=rs;t:switch(Ve){case 1:Ve=0,rs=null,wr(t,a,b,1);break;case 2:case 9:if(q0(b)){Ve=0,rs=null,Pp(a);break}a=function(){Ve!==2&&Ve!==9||Ye!==t||(Ve=7),Bs(t)},b.then(a,a);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:q0(b)?(Ve=0,rs=null,Pp(a)):(Ve=0,rs=null,wr(t,a,b,7));break;case 5:var k=null;switch(Me.tag){case 26:k=Me.memoizedState;case 5:case 27:var O=Me;if(k?wb(k):O.stateNode.complete){Ve=0,rs=null;var G=O.sibling;if(G!==null)Me=G;else{var te=O.return;te!==null?(Me=te,_o(te)):Me=null}break t}}Ve=0,rs=null,wr(t,a,b,5);break;case 6:Ve=0,rs=null,wr(t,a,b,6);break;case 8:Gu(),rt=6;break e;default:throw Error(i(462))}}BN();break}catch(ie){Lp(t,ie)}while(!0);return Ys=fn=null,z.H=o,z.A=m,He=r,Me!==null?0:(Ye=null,Be=0,Ki(),rt)}function BN(){for(;Me!==null&&!a1();)zp(Me)}function zp(t){var a=ip(t.alternate,t,aa);t.memoizedProps=t.pendingProps,a===null?_o(t):Me=a}function Pp(t){var a=t,r=a.alternate;switch(a.tag){case 15:case 0:a=tp(r,a,a.pendingProps,a.type,void 0,Be);break;case 11:a=tp(r,a,a.pendingProps,a.type.render,a.ref,Be);break;case 5:iu(a);default:cp(r,a),a=Me=R0(a,aa),a=ip(r,a,aa)}t.memoizedProps=t.pendingProps,a===null?_o(t):Me=a}function wr(t,a,r,o){Ys=fn=null,iu(a),mr=null,xl=0;var m=a.return;try{if(NN(t,m,a,r,Be)){rt=1,go(t,xs(r,t.current)),Me=null;return}}catch(b){if(m!==null)throw Me=m,b;rt=1,go(t,xs(r,t.current)),Me=null;return}a.flags&32768?(Oe||o===1?t=!0:jr||(Be&536870912)!==0?t=!1:(Da=t=!0,(o===2||o===9||o===3||o===6)&&(o=as.current,o!==null&&o.tag===13&&(o.flags|=16384))),Up(a,t)):_o(a)}function _o(t){var a=t;do{if((a.flags&32768)!==0){Up(a,Da);return}t=a.return;var r=CN(a.alternate,a,aa);if(r!==null){Me=r;return}if(a=a.sibling,a!==null){Me=a;return}Me=a=t}while(a!==null);rt===0&&(rt=5)}function Up(t,a){do{var r=kN(t.alternate,t);if(r!==null){r.flags&=32767,Me=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(t=t.sibling,t!==null)){Me=t;return}Me=t=r}while(t!==null);rt=6,Me=null}function Fp(t,a,r,o,m,b,k,O,G){t.cancelPendingCommit=null;do Mo();while(bt!==0);if((He&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=Bd,x1(t,r,b,k,O,G),t===Ye&&(Me=Ye=null,Be=0),vr=a,La=t,na=r,Vu=b,$u=m,Ep=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,PN(Li,function(){return Gp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=z.T,z.T=null,m=H.p,H.p=2,k=He,He|=4;try{TN(t,a,r)}finally{He=k,H.p=m,z.T=o}}bt=1,Hp(),Vp(),$p()}}function Hp(){if(bt===1){bt=0;var t=La,a=vr,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=z.T,z.T=null;var o=H.p;H.p=2;var m=He;He|=4;try{vp(a,t);var b=nm,k=k0(t.containerInfo),O=b.focusedElem,G=b.selectionRange;if(k!==O&&O&&O.ownerDocument&&C0(O.ownerDocument.documentElement,O)){if(G!==null&&Ed(O)){var te=G.start,ie=G.end;if(ie===void 0&&(ie=te),"selectionStart"in O)O.selectionStart=te,O.selectionEnd=Math.min(ie,O.value.length);else{var ue=O.ownerDocument||document,se=ue&&ue.defaultView||window;if(se.getSelection){var re=se.getSelection(),ge=O.textContent.length,Se=Math.min(G.start,ge),qe=G.end===void 0?Se:Math.min(G.end,ge);!re.extend&&Se>qe&&(k=qe,qe=Se,Se=k);var X=S0(O,Se),Y=S0(O,qe);if(X&&Y&&(re.rangeCount!==1||re.anchorNode!==X.node||re.anchorOffset!==X.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var ee=ue.createRange();ee.setStart(X.node,X.offset),re.removeAllRanges(),Se>qe?(re.addRange(ee),re.extend(Y.node,Y.offset)):(ee.setEnd(Y.node,Y.offset),re.addRange(ee))}}}}for(ue=[],re=O;re=re.parentNode;)re.nodeType===1&&ue.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ue.length;O++){var ce=ue[O];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Io=!!am,nm=am=null}finally{He=m,H.p=o,z.T=r}}t.current=a,bt=2}}function Vp(){if(bt===2){bt=0;var t=La,a=vr,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=z.T,z.T=null;var o=H.p;H.p=2;var m=He;He|=4;try{pp(t,a.alternate,a)}finally{He=m,H.p=o,z.T=r}}bt=3}}function $p(){if(bt===4||bt===3){bt=0,n1();var t=La,a=vr,r=na,o=Ep;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?bt=5:(bt=0,vr=La=null,Ip(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(Ma=null),dd(r),a=a.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Kr,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=z.T,m=H.p,H.p=2,z.T=null;try{for(var b=t.onRecoverableError,k=0;k<o.length;k++){var O=o[k];b(O.value,{componentStack:O.stack})}}finally{z.T=a,H.p=m}}(na&3)!==0&&Mo(),Bs(t),m=t.pendingLanes,(r&261930)!==0&&(m&42)!==0?t===Iu?Dl++:(Dl=0,Iu=t):Dl=0,_l(0)}}function Ip(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,ul(a)))}function Mo(){return Hp(),Vp(),$p(),Gp()}function Gp(){if(bt!==5)return!1;var t=La,a=Vu;Vu=0;var r=dd(na),o=z.T,m=H.p;try{H.p=32>r?32:r,z.T=null,r=$u,$u=null;var b=La,k=na;if(bt=0,vr=La=null,na=0,(He&6)!==0)throw Error(i(331));var O=He;if(He|=4,kp(b.current),wp(b,b.current,k,r),He=O,_l(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Kr,b)}catch{}return!0}finally{H.p=m,z.T=o,Ip(t,a)}}function qp(t,a,r){a=xs(r,a),a=Nu(t.stateNode,a,2),t=ka(t,a,2),t!==null&&(Xr(t,2),Bs(t))}function $e(t,a,r){if(t.tag===3)qp(t,t,r);else for(;a!==null;){if(a.tag===3){qp(a,t,r);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ma===null||!Ma.has(o))){t=xs(r,t),r=Yf(2),o=ka(a,r,2),o!==null&&(Wf(r,o,a,t),Xr(o,2),Bs(o));break}}a=a.return}}function Yu(t,a,r){var o=t.pingCache;if(o===null){o=t.pingCache=new DN;var m=new Set;o.set(a,m)}else m=o.get(a),m===void 0&&(m=new Set,o.set(a,m));m.has(r)||(Uu=!0,m.add(r),t=RN.bind(null,t,a,r),a.then(t,t))}function RN(t,a,r){var o=t.pingCache;o!==null&&o.delete(a),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ye===t&&(Be&r)===r&&(rt===4||rt===3&&(Be&62914560)===Be&&300>Zt()-ko?(He&2)===0&&Nr(t,0):Fu|=r,yr===Be&&(yr=0)),Bs(t)}function Yp(t,a){a===0&&(a=Fh()),t=mn(t,a),t!==null&&(Xr(t,a),Bs(t))}function ON(t){var a=t.memoizedState,r=0;a!==null&&(r=a.retryLane),Yp(t,r)}function zN(t,a){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,m=t.memoizedState;m!==null&&(r=m.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),Yp(t,r)}function PN(t,a){return ld(t,a)}var Lo=null,Sr=null,Wu=!1,Bo=!1,Ku=!1,Ra=0;function Bs(t){t!==Sr&&t.next===null&&(Sr===null?Lo=Sr=t:Sr=Sr.next=t),Bo=!0,Wu||(Wu=!0,FN())}function _l(t,a){if(!Ku&&Bo){Ku=!0;do for(var r=!1,o=Lo;o!==null;){if(t!==0){var m=o.pendingLanes;if(m===0)var b=0;else{var k=o.suspendedLanes,O=o.pingedLanes;b=(1<<31-es(42|t)+1)-1,b&=m&~(k&~O),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(r=!0,Xp(o,b))}else b=Be,b=zi(o,o===Ye?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(b&3)===0||Qr(o,b)||(r=!0,Xp(o,b));o=o.next}while(r);Ku=!1}}function UN(){Wp()}function Wp(){Bo=Wu=!1;var t=0;Ra!==0&&QN()&&(t=Ra);for(var a=Zt(),r=null,o=Lo;o!==null;){var m=o.next,b=Kp(o,a);b===0?(o.next=null,r===null?Lo=m:r.next=m,m===null&&(Sr=r)):(r=o,(t!==0||(b&3)!==0)&&(Bo=!0)),o=m}bt!==0&&bt!==5||_l(t),Ra!==0&&(Ra=0)}function Kp(t,a){for(var r=t.suspendedLanes,o=t.pingedLanes,m=t.expirationTimes,b=t.pendingLanes&-62914561;0<b;){var k=31-es(b),O=1<<k,G=m[k];G===-1?((O&r)===0||(O&o)!==0)&&(m[k]=m1(O,a)):G<=a&&(t.expiredLanes|=O),b&=~O}if(a=Ye,r=Be,r=zi(t,t===a?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===a&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&id(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Qr(t,r)){if(a=r&-r,a===t.callbackPriority)return a;switch(o!==null&&id(o),dd(r)){case 2:case 8:r=Ph;break;case 32:r=Li;break;case 268435456:r=Uh;break;default:r=Li}return o=Qp.bind(null,t),r=ld(r,o),t.callbackPriority=a,t.callbackNode=r,a}return o!==null&&o!==null&&id(o),t.callbackPriority=2,t.callbackNode=null,2}function Qp(t,a){if(bt!==0&&bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Mo()&&t.callbackNode!==r)return null;var o=Be;return o=zi(t,t===Ye?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(_p(t,o,a),Kp(t,Zt()),t.callbackNode!=null&&t.callbackNode===r?Qp.bind(null,t):null)}function Xp(t,a){if(Mo())return null;_p(t,a,!0)}function FN(){ZN(function(){(He&6)!==0?ld(zh,UN):Wp()})}function Qu(){if(Ra===0){var t=cr;t===0&&(t=Bi,Bi<<=1,(Bi&261888)===0&&(Bi=256)),Ra=t}return Ra}function Zp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hi(""+t)}function Jp(t,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,t.id&&r.setAttribute("form",t.id),a.parentNode.insertBefore(r,a),t=new FormData(t),r.parentNode.removeChild(r),t}function HN(t,a,r,o,m){if(a==="submit"&&r&&r.stateNode===m){var b=Zp((m[Vt]||null).action),k=o.submitter;k&&(a=(a=k[Vt]||null)?Zp(a.formAction):k.getAttribute("formAction"),a!==null&&(b=a,k=null));var O=new Gi("action","action",null,o,m);t.push({event:O,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ra!==0){var G=k?Jp(m,k):new FormData(m);pu(r,{pending:!0,data:G,method:m.method,action:b},null,G)}}else typeof b=="function"&&(O.preventDefault(),G=k?Jp(m,k):new FormData(m),pu(r,{pending:!0,data:G,method:m.method,action:b},b,G))},currentTarget:m}]})}}for(var Xu=0;Xu<Ld.length;Xu++){var Zu=Ld[Xu],VN=Zu.toLowerCase(),$N=Zu[0].toUpperCase()+Zu.slice(1);Ns(VN,"on"+$N)}Ns(E0,"onAnimationEnd"),Ns(D0,"onAnimationIteration"),Ns(_0,"onAnimationStart"),Ns("dblclick","onDoubleClick"),Ns("focusin","onFocus"),Ns("focusout","onBlur"),Ns(rN,"onTransitionRun"),Ns(lN,"onTransitionStart"),Ns(iN,"onTransitionCancel"),Ns(M0,"onTransitionEnd"),Kn("onMouseEnter",["mouseout","mouseover"]),Kn("onMouseLeave",["mouseout","mouseover"]),Kn("onPointerEnter",["pointerout","pointerover"]),Kn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function eb(t,a){a=(a&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],m=o.event;o=o.listeners;e:{var b=void 0;if(a)for(var k=o.length-1;0<=k;k--){var O=o[k],G=O.instance,te=O.currentTarget;if(O=O.listener,G!==b&&m.isPropagationStopped())break e;b=O,m.currentTarget=te;try{b(m)}catch(ie){Wi(ie)}m.currentTarget=null,b=G}else for(k=0;k<o.length;k++){if(O=o[k],G=O.instance,te=O.currentTarget,O=O.listener,G!==b&&m.isPropagationStopped())break e;b=O,m.currentTarget=te;try{b(m)}catch(ie){Wi(ie)}m.currentTarget=null,b=G}}}}function Le(t,a){var r=a[ud];r===void 0&&(r=a[ud]=new Set);var o=t+"__bubble";r.has(o)||(tb(a,t,2,!1),r.add(o))}function Ju(t,a,r){var o=0;a&&(o|=4),tb(r,t,o,a)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function em(t){if(!t[Ro]){t[Ro]=!0,Yh.forEach(function(r){r!=="selectionchange"&&(IN.has(r)||Ju(r,!1,t),Ju(r,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Ro]||(a[Ro]=!0,Ju("selectionchange",!1,a))}}function tb(t,a,r,o){switch(Db(a)){case 2:var m=gw;break;case 8:m=jw;break;default:m=fm}r=m.bind(null,a,r,t),m=void 0,!yd||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),o?m!==void 0?t.addEventListener(a,r,{capture:!0,passive:m}):t.addEventListener(a,r,!0):m!==void 0?t.addEventListener(a,r,{passive:m}):t.addEventListener(a,r,!1)}function tm(t,a,r,o,m){var b=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var k=o.tag;if(k===3||k===4){var O=o.stateNode.containerInfo;if(O===m)break;if(k===4)for(k=o.return;k!==null;){var G=k.tag;if((G===3||G===4)&&k.stateNode.containerInfo===m)return;k=k.return}for(;O!==null;){if(k=qn(O),k===null)return;if(G=k.tag,G===5||G===6||G===26||G===27){o=b=k;continue e}O=O.parentNode}}o=o.return}r0(function(){var te=b,ie=gd(r),ue=[];e:{var se=L0.get(t);if(se!==void 0){var re=Gi,ge=t;switch(t){case"keypress":if($i(r)===0)break e;case"keydown":case"keyup":re=z1;break;case"focusin":ge="focus",re=Sd;break;case"focusout":ge="blur",re=Sd;break;case"beforeblur":case"afterblur":re=Sd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=o0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=C1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=F1;break;case E0:case D0:case _0:re=A1;break;case M0:re=V1;break;case"scroll":case"scrollend":re=w1;break;case"wheel":re=I1;break;case"copy":case"cut":case"paste":re=D1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=d0;break;case"toggle":case"beforetoggle":re=q1}var Se=(a&4)!==0,qe=!Se&&(t==="scroll"||t==="scrollend"),X=Se?se!==null?se+"Capture":null:se;Se=[];for(var Y=te,ee;Y!==null;){var ce=Y;if(ee=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ee===null||X===null||(ce=el(Y,X),ce!=null&&Se.push(Ll(Y,ce,ee))),qe)break;Y=Y.return}0<Se.length&&(se=new re(se,ge,null,r,ie),ue.push({event:se,listeners:Se}))}}if((a&7)===0){e:{if(se=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",se&&r!==bd&&(ge=r.relatedTarget||r.fromElement)&&(qn(ge)||ge[Gn]))break e;if((re||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,re?(ge=r.relatedTarget||r.toElement,re=te,ge=ge?qn(ge):null,ge!==null&&(qe=u(ge),Se=ge.tag,ge!==qe||Se!==5&&Se!==27&&Se!==6)&&(ge=null)):(re=null,ge=te),re!==ge)){if(Se=o0,ce="onMouseLeave",X="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(Se=d0,ce="onPointerLeave",X="onPointerEnter",Y="pointer"),qe=re==null?se:Jr(re),ee=ge==null?se:Jr(ge),se=new Se(ce,Y+"leave",re,r,ie),se.target=qe,se.relatedTarget=ee,ce=null,qn(ie)===te&&(Se=new Se(X,Y+"enter",ge,r,ie),Se.target=ee,Se.relatedTarget=qe,ce=Se),qe=ce,re&&ge)t:{for(Se=GN,X=re,Y=ge,ee=0,ce=X;ce;ce=Se(ce))ee++;ce=0;for(var Ne=Y;Ne;Ne=Se(Ne))ce++;for(;0<ee-ce;)X=Se(X),ee--;for(;0<ce-ee;)Y=Se(Y),ce--;for(;ee--;){if(X===Y||Y!==null&&X===Y.alternate){Se=X;break t}X=Se(X),Y=Se(Y)}Se=null}else Se=null;re!==null&&sb(ue,se,re,Se,!1),ge!==null&&qe!==null&&sb(ue,qe,ge,Se,!0)}}e:{if(se=te?Jr(te):window,re=se.nodeName&&se.nodeName.toLowerCase(),re==="select"||re==="input"&&se.type==="file")var Pe=g0;else if(p0(se))if(j0)Pe=sN;else{Pe=eN;var je=J1}else re=se.nodeName,!re||re.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?te&&pd(te.elementType)&&(Pe=g0):Pe=tN;if(Pe&&(Pe=Pe(t,te))){b0(ue,Pe,r,ie);break e}je&&je(t,se,te),t==="focusout"&&te&&se.type==="number"&&te.memoizedProps.value!=null&&fd(se,"number",se.value)}switch(je=te?Jr(te):window,t){case"focusin":(p0(je)||je.contentEditable==="true")&&(tr=je,Dd=te,ol=null);break;case"focusout":ol=Dd=tr=null;break;case"mousedown":_d=!0;break;case"contextmenu":case"mouseup":case"dragend":_d=!1,T0(ue,r,ie);break;case"selectionchange":if(nN)break;case"keydown":case"keyup":T0(ue,r,ie)}var _e;if(kd)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else er?h0(t,r)&&(Re="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Re="onCompositionStart");Re&&(u0&&r.locale!=="ko"&&(er||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&er&&(_e=l0()):(ja=ie,vd="value"in ja?ja.value:ja.textContent,er=!0)),je=Oo(te,Re),0<je.length&&(Re=new c0(Re,t,null,r,ie),ue.push({event:Re,listeners:je}),_e?Re.data=_e:(_e=f0(r),_e!==null&&(Re.data=_e)))),(_e=W1?K1(t,r):Q1(t,r))&&(Re=Oo(te,"onBeforeInput"),0<Re.length&&(je=new c0("onBeforeInput","beforeinput",null,r,ie),ue.push({event:je,listeners:Re}),je.data=_e)),HN(ue,t,te,r,ie)}eb(ue,a)})}function Ll(t,a,r){return{instance:t,listener:a,currentTarget:r}}function Oo(t,a){for(var r=a+"Capture",o=[];t!==null;){var m=t,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=el(t,r),m!=null&&o.unshift(Ll(t,m,b)),m=el(t,a),m!=null&&o.push(Ll(t,m,b))),t.tag===3)return o;t=t.return}return[]}function GN(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sb(t,a,r,o,m){for(var b=a._reactName,k=[];r!==null&&r!==o;){var O=r,G=O.alternate,te=O.stateNode;if(O=O.tag,G!==null&&G===o)break;O!==5&&O!==26&&O!==27||te===null||(G=te,m?(te=el(r,b),te!=null&&k.unshift(Ll(r,te,G))):m||(te=el(r,b),te!=null&&k.push(Ll(r,te,G)))),r=r.return}k.length!==0&&t.push({event:a,listeners:k})}var qN=/\r\n?/g,YN=/\u0000|\uFFFD/g;function ab(t){return(typeof t=="string"?t:""+t).replace(qN,`
`).replace(YN,"")}function nb(t,a){return a=ab(a),ab(t)===a}function Ge(t,a,r,o,m,b){switch(r){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||Xn(t,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&Xn(t,""+o);break;case"className":Ui(t,"class",o);break;case"tabIndex":Ui(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ui(t,r,o);break;case"style":a0(t,o,b);break;case"data":if(a!=="object"){Ui(t,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Hi(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(r==="formAction"?(a!=="input"&&Ge(t,a,"name",m.name,m,null),Ge(t,a,"formEncType",m.formEncType,m,null),Ge(t,a,"formMethod",m.formMethod,m,null),Ge(t,a,"formTarget",m.formTarget,m,null)):(Ge(t,a,"encType",m.encType,m,null),Ge(t,a,"method",m.method,m,null),Ge(t,a,"target",m.target,m,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Hi(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=$s);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(m.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Hi(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Pi(t,"popover",o);break;case"xlinkActuate":Vs(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Vs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Vs(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Vs(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Vs(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Vs(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Vs(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Vs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Vs(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Pi(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=v1.get(r)||r,Pi(t,r,o))}}function sm(t,a,r,o,m,b){switch(r){case"style":a0(t,o,b);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(m.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Xn(t,o):(typeof o=="number"||typeof o=="bigint")&&Xn(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=$s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wh.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(m=r.endsWith("Capture"),a=r.slice(2,m?r.length-7:void 0),b=t[Vt]||null,b=b!=null?b[r]:null,typeof b=="function"&&t.removeEventListener(a,b,m),typeof o=="function")){typeof b!="function"&&b!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(a,o,m);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Pi(t,r,o)}}}function Ct(t,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,m=!1,b;for(b in r)if(r.hasOwnProperty(b)){var k=r[b];if(k!=null)switch(b){case"src":o=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ge(t,a,b,k,r,null)}}m&&Ge(t,a,"srcSet",r.srcSet,r,null),o&&Ge(t,a,"src",r.src,r,null);return;case"input":Le("invalid",t);var O=b=k=m=null,G=null,te=null;for(o in r)if(r.hasOwnProperty(o)){var ie=r[o];if(ie!=null)switch(o){case"name":m=ie;break;case"type":k=ie;break;case"checked":G=ie;break;case"defaultChecked":te=ie;break;case"value":b=ie;break;case"defaultValue":O=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:Ge(t,a,o,ie,r,null)}}Jh(t,b,O,G,te,k,m,!1);return;case"select":Le("invalid",t),o=k=b=null;for(m in r)if(r.hasOwnProperty(m)&&(O=r[m],O!=null))switch(m){case"value":b=O;break;case"defaultValue":k=O;break;case"multiple":o=O;default:Ge(t,a,m,O,r,null)}a=b,r=k,t.multiple=!!o,a!=null?Qn(t,!!o,a,!1):r!=null&&Qn(t,!!o,r,!0);return;case"textarea":Le("invalid",t),b=m=o=null;for(k in r)if(r.hasOwnProperty(k)&&(O=r[k],O!=null))switch(k){case"value":o=O;break;case"defaultValue":m=O;break;case"children":b=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:Ge(t,a,k,O,r,null)}t0(t,o,m,b);return;case"option":for(G in r)if(r.hasOwnProperty(G)&&(o=r[G],o!=null))switch(G){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ge(t,a,G,o,r,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<Ml.length;o++)Le(Ml[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in r)if(r.hasOwnProperty(te)&&(o=r[te],o!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ge(t,a,te,o,r,null)}return;default:if(pd(a)){for(ie in r)r.hasOwnProperty(ie)&&(o=r[ie],o!==void 0&&sm(t,a,ie,o,r,void 0));return}}for(O in r)r.hasOwnProperty(O)&&(o=r[O],o!=null&&Ge(t,a,O,o,r,null))}function WN(t,a,r,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,k=null,O=null,G=null,te=null,ie=null;for(re in r){var ue=r[re];if(r.hasOwnProperty(re)&&ue!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":G=ue;default:o.hasOwnProperty(re)||Ge(t,a,re,null,o,ue)}}for(var se in o){var re=o[se];if(ue=r[se],o.hasOwnProperty(se)&&(re!=null||ue!=null))switch(se){case"type":b=re;break;case"name":m=re;break;case"checked":te=re;break;case"defaultChecked":ie=re;break;case"value":k=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,a));break;default:re!==ue&&Ge(t,a,se,re,o,ue)}}hd(t,k,O,G,te,ie,b,m);return;case"select":re=k=O=se=null;for(b in r)if(G=r[b],r.hasOwnProperty(b)&&G!=null)switch(b){case"value":break;case"multiple":re=G;default:o.hasOwnProperty(b)||Ge(t,a,b,null,o,G)}for(m in o)if(b=o[m],G=r[m],o.hasOwnProperty(m)&&(b!=null||G!=null))switch(m){case"value":se=b;break;case"defaultValue":O=b;break;case"multiple":k=b;default:b!==G&&Ge(t,a,m,b,o,G)}a=O,r=k,o=re,se!=null?Qn(t,!!r,se,!1):!!o!=!!r&&(a!=null?Qn(t,!!r,a,!0):Qn(t,!!r,r?[]:"",!1));return;case"textarea":re=se=null;for(O in r)if(m=r[O],r.hasOwnProperty(O)&&m!=null&&!o.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Ge(t,a,O,null,o,m)}for(k in o)if(m=o[k],b=r[k],o.hasOwnProperty(k)&&(m!=null||b!=null))switch(k){case"value":se=m;break;case"defaultValue":re=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&Ge(t,a,k,m,o,b)}e0(t,se,re);return;case"option":for(var ge in r)if(se=r[ge],r.hasOwnProperty(ge)&&se!=null&&!o.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:Ge(t,a,ge,null,o,se)}for(G in o)if(se=o[G],re=r[G],o.hasOwnProperty(G)&&se!==re&&(se!=null||re!=null))switch(G){case"selected":t.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Ge(t,a,G,se,o,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in r)se=r[Se],r.hasOwnProperty(Se)&&se!=null&&!o.hasOwnProperty(Se)&&Ge(t,a,Se,null,o,se);for(te in o)if(se=o[te],re=r[te],o.hasOwnProperty(te)&&se!==re&&(se!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,a));break;default:Ge(t,a,te,se,o,re)}return;default:if(pd(a)){for(var qe in r)se=r[qe],r.hasOwnProperty(qe)&&se!==void 0&&!o.hasOwnProperty(qe)&&sm(t,a,qe,void 0,o,se);for(ie in o)se=o[ie],re=r[ie],!o.hasOwnProperty(ie)||se===re||se===void 0&&re===void 0||sm(t,a,ie,se,o,re);return}}for(var X in r)se=r[X],r.hasOwnProperty(X)&&se!=null&&!o.hasOwnProperty(X)&&Ge(t,a,X,null,o,se);for(ue in o)se=o[ue],re=r[ue],!o.hasOwnProperty(ue)||se===re||se==null&&re==null||Ge(t,a,ue,se,o,re)}function rb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var m=r[o],b=m.transferSize,k=m.initiatorType,O=m.duration;if(b&&O&&rb(k)){for(k=0,O=m.responseEnd,o+=1;o<r.length;o++){var G=r[o],te=G.startTime;if(te>O)break;var ie=G.transferSize,ue=G.initiatorType;ie&&rb(ue)&&(G=G.responseEnd,k+=ie*(G<O?1:(O-te)/(G-te)))}if(--o,a+=8*(b+k)/(m.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var am=null,nm=null;function zo(t){return t.nodeType===9?t:t.ownerDocument}function lb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ib(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function rm(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lm=null;function QN(){var t=window.event;return t&&t.type==="popstate"?t===lm?!1:(lm=t,!0):(lm=null,!1)}var ob=typeof setTimeout=="function"?setTimeout:void 0,XN=typeof clearTimeout=="function"?clearTimeout:void 0,cb=typeof Promise=="function"?Promise:void 0,ZN=typeof queueMicrotask=="function"?queueMicrotask:typeof cb<"u"?function(t){return cb.resolve(null).then(t).catch(JN)}:ob;function JN(t){setTimeout(function(){throw t})}function Oa(t){return t==="head"}function db(t,a){var r=a,o=0;do{var m=r.nextSibling;if(t.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(m),Ar(a);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Bl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Bl(r);for(var b=r.firstChild;b;){var k=b.nextSibling,O=b.nodeName;b[Zr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||r.removeChild(b),b=k}}else r==="body"&&Bl(t.ownerDocument.body);r=m}while(r);Ar(a)}function ub(t,a){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?a?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(a?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function im(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":im(r),md(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function ew(t,a,r,o){for(;t.nodeType===1;){var m=r;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Zr])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(b=t.getAttribute("rel"),b==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(b!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(b=t.getAttribute("src"),(b!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===b)return t}else return t;if(t=gs(t.nextSibling),t===null)break}return null}function tw(t,a,r){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=gs(t.nextSibling),t===null))return null;return t}function mb(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=gs(t.nextSibling),t===null))return null;return t}function om(t){return t.data==="$?"||t.data==="$~"}function cm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sw(t,a){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||r.readyState!=="loading")a();else{var o=function(){a(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function gs(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var dm=null;function xb(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(a===0)return gs(t.nextSibling);a--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||a++}t=t.nextSibling}return null}function hb(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(a===0)return t;a--}else r!=="/$"&&r!=="/&"||a++}t=t.previousSibling}return null}function fb(t,a,r){switch(a=zo(r),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Bl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);md(t)}var js=new Map,pb=new Set;function Po(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ra=H.d;H.d={f:aw,r:nw,D:rw,C:lw,L:iw,m:ow,X:dw,S:cw,M:uw};function aw(){var t=ra.f(),a=Eo();return t||a}function nw(t){var a=Yn(t);a!==null&&a.tag===5&&a.type==="form"?Lf(a):ra.r(t)}var Cr=typeof document>"u"?null:document;function bb(t,a,r){var o=Cr;if(o&&typeof a=="string"&&a){var m=us(a);m='link[rel="'+t+'"][href="'+m+'"]',typeof r=="string"&&(m+='[crossorigin="'+r+'"]'),pb.has(m)||(pb.add(m),t={rel:t,crossOrigin:r,href:a},o.querySelector(m)===null&&(a=o.createElement("link"),Ct(a,"link",t),gt(a),o.head.appendChild(a)))}}function rw(t){ra.D(t),bb("dns-prefetch",t,null)}function lw(t,a){ra.C(t,a),bb("preconnect",t,a)}function iw(t,a,r){ra.L(t,a,r);var o=Cr;if(o&&t&&a){var m='link[rel="preload"][as="'+us(a)+'"]';a==="image"&&r&&r.imageSrcSet?(m+='[imagesrcset="'+us(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(m+='[imagesizes="'+us(r.imageSizes)+'"]')):m+='[href="'+us(t)+'"]';var b=m;switch(a){case"style":b=kr(t);break;case"script":b=Tr(t)}js.has(b)||(t=g({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:t,as:a},r),js.set(b,t),o.querySelector(m)!==null||a==="style"&&o.querySelector(Rl(b))||a==="script"&&o.querySelector(Ol(b))||(a=o.createElement("link"),Ct(a,"link",t),gt(a),o.head.appendChild(a)))}}function ow(t,a){ra.m(t,a);var r=Cr;if(r&&t){var o=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+us(o)+'"][href="'+us(t)+'"]',b=m;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Tr(t)}if(!js.has(b)&&(t=g({rel:"modulepreload",href:t},a),js.set(b,t),r.querySelector(m)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ol(b)))return}o=r.createElement("link"),Ct(o,"link",t),gt(o),r.head.appendChild(o)}}}function cw(t,a,r){ra.S(t,a,r);var o=Cr;if(o&&t){var m=Wn(o).hoistableStyles,b=kr(t);a=a||"default";var k=m.get(b);if(!k){var O={loading:0,preload:null};if(k=o.querySelector(Rl(b)))O.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":a},r),(r=js.get(b))&&um(t,r);var G=k=o.createElement("link");gt(G),Ct(G,"link",t),G._p=new Promise(function(te,ie){G.onload=te,G.onerror=ie}),G.addEventListener("load",function(){O.loading|=1}),G.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Uo(k,a,o)}k={type:"stylesheet",instance:k,count:1,state:O},m.set(b,k)}}}function dw(t,a){ra.X(t,a);var r=Cr;if(r&&t){var o=Wn(r).hoistableScripts,m=Tr(t),b=o.get(m);b||(b=r.querySelector(Ol(m)),b||(t=g({src:t,async:!0},a),(a=js.get(m))&&mm(t,a),b=r.createElement("script"),gt(b),Ct(b,"link",t),r.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},o.set(m,b))}}function uw(t,a){ra.M(t,a);var r=Cr;if(r&&t){var o=Wn(r).hoistableScripts,m=Tr(t),b=o.get(m);b||(b=r.querySelector(Ol(m)),b||(t=g({src:t,async:!0,type:"module"},a),(a=js.get(m))&&mm(t,a),b=r.createElement("script"),gt(b),Ct(b,"link",t),r.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},o.set(m,b))}}function gb(t,a,r,o){var m=(m=be.current)?Po(m):null;if(!m)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=kr(r.href),r=Wn(m).hoistableStyles,o=r.get(a),o||(o={type:"style",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=kr(r.href);var b=Wn(m).hoistableStyles,k=b.get(t);if(k||(m=m.ownerDocument||m,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(t,k),(b=m.querySelector(Rl(t)))&&!b._p&&(k.instance=b,k.state.loading=5),js.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},js.set(t,r),b||mw(m,t,r,k.state))),a&&o===null)throw Error(i(528,""));return k}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Tr(r),r=Wn(m).hoistableScripts,o=r.get(a),o||(o={type:"script",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function kr(t){return'href="'+us(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function jb(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function mw(t,a,r,o){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=t.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Ct(a,"link",r),gt(a),t.head.appendChild(a))}function Tr(t){return'[src="'+us(t)+'"]'}function Ol(t){return"script[async]"+t}function yb(t,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var o=t.querySelector('style[data-href~="'+us(r.href)+'"]');if(o)return a.instance=o,gt(o),o;var m=g({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),gt(o),Ct(o,"style",m),Uo(o,r.precedence,t),a.instance=o;case"stylesheet":m=kr(r.href);var b=t.querySelector(Rl(m));if(b)return a.state.loading|=4,a.instance=b,gt(b),b;o=jb(r),(m=js.get(m))&&um(o,m),b=(t.ownerDocument||t).createElement("link"),gt(b);var k=b;return k._p=new Promise(function(O,G){k.onload=O,k.onerror=G}),Ct(b,"link",o),a.state.loading|=4,Uo(b,r.precedence,t),a.instance=b;case"script":return b=Tr(r.src),(m=t.querySelector(Ol(b)))?(a.instance=m,gt(m),m):(o=r,(m=js.get(b))&&(o=g({},r),mm(o,m)),t=t.ownerDocument||t,m=t.createElement("script"),gt(m),Ct(m,"link",o),t.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,Uo(o,r.precedence,t));return a.instance}function Uo(t,a,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=o.length?o[o.length-1]:null,b=m,k=0;k<o.length;k++){var O=o[k];if(O.dataset.precedence===a)b=O;else if(b!==m)break}b?b.parentNode.insertBefore(t,b.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(t,a.firstChild))}function um(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function mm(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Fo=null;function vb(t,a,r){if(Fo===null){var o=new Map,m=Fo=new Map;m.set(r,o)}else m=Fo,o=m.get(r),o||(o=new Map,m.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),m=0;m<r.length;m++){var b=r[m];if(!(b[Zr]||b[vt]||t==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(a)||"";k=t+k;var O=o.get(k);O?O.push(b):o.set(k,[b])}}return o}function Nb(t,a,r){t=t.ownerDocument||t,t.head.insertBefore(r,a==="title"?t.querySelector("head > title"):null)}function xw(t,a,r){if(r===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function wb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function hw(t,a,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=kr(o.href),b=a.querySelector(Rl(m));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=Ho.bind(t),a.then(t,t)),r.state.loading|=4,r.instance=b,gt(b);return}b=a.ownerDocument||a,o=jb(o),(m=js.get(m))&&um(o,m),b=b.createElement("link"),gt(b);var k=b;k._p=new Promise(function(O,G){k.onload=O,k.onerror=G}),Ct(b,"link",o),r.instance=b}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,a),(a=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ho.bind(t),a.addEventListener("load",r),a.addEventListener("error",r))}}var xm=0;function fw(t,a){return t.stylesheets&&t.count===0&&$o(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&$o(t,t.stylesheets),t.unsuspend){var b=t.unsuspend;t.unsuspend=null,b()}},6e4+a);0<t.imgBytes&&xm===0&&(xm=62500*KN());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$o(t,t.stylesheets),t.unsuspend)){var b=t.unsuspend;t.unsuspend=null,b()}},(t.imgBytes>xm?50:800)+a);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(m)}}:null}function Ho(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$o(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vo=null;function $o(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vo=new Map,a.forEach(pw,t),Vo=null,Ho.call(t))}function pw(t,a){if(!(a.state.loading&4)){var r=Vo.get(t);if(r)var o=r.get(null);else{r=new Map,Vo.set(t,r);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var k=m[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(r.set(k.dataset.precedence,k),o=k)}o&&r.set(null,o)}m=a.instance,k=m.getAttribute("data-precedence"),b=r.get(k)||o,b===o&&r.set(null,m),r.set(k,m),this.count++,o=Ho.bind(this),m.addEventListener("load",o),m.addEventListener("error",o),b?b.parentNode.insertBefore(m,b.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),a.state.loading|=4}}var zl={$$typeof:S,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function bw(t,a,r,o,m,b,k,O,G){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=od(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=od(0),this.hiddenUpdates=od(null),this.identifierPrefix=o,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Sb(t,a,r,o,m,b,k,O,G,te,ie,ue){return t=new bw(t,a,r,k,G,te,ie,ue,O),a=1,b===!0&&(a|=24),b=ss(3,null,null,a),t.current=b,b.stateNode=t,a=qd(),a.refCount++,t.pooledCache=a,a.refCount++,b.memoizedState={element:o,isDehydrated:r,cache:a},Qd(b),t}function Cb(t){return t?(t=nr,t):nr}function kb(t,a,r,o,m,b){m=Cb(m),o.context===null?o.context=m:o.pendingContext=m,o=Ca(a),o.payload={element:r},b=b===void 0?null:b,b!==null&&(o.callback=b),r=ka(t,o,a),r!==null&&(Wt(r,t,a),fl(r,t,a))}function Tb(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<a?r:a}}function hm(t,a){Tb(t,a),(t=t.alternate)&&Tb(t,a)}function Ab(t){if(t.tag===13||t.tag===31){var a=mn(t,67108864);a!==null&&Wt(a,t,67108864),hm(t,67108864)}}function Eb(t){if(t.tag===13||t.tag===31){var a=is();a=cd(a);var r=mn(t,a);r!==null&&Wt(r,t,a),hm(t,a)}}var Io=!0;function gw(t,a,r,o){var m=z.T;z.T=null;var b=H.p;try{H.p=2,fm(t,a,r,o)}finally{H.p=b,z.T=m}}function jw(t,a,r,o){var m=z.T;z.T=null;var b=H.p;try{H.p=8,fm(t,a,r,o)}finally{H.p=b,z.T=m}}function fm(t,a,r,o){if(Io){var m=pm(o);if(m===null)tm(t,a,o,Go,r),_b(t,o);else if(vw(m,t,a,r,o))o.stopPropagation();else if(_b(t,o),a&4&&-1<yw.indexOf(t)){for(;m!==null;){var b=Yn(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=ln(b.pendingLanes);if(k!==0){var O=b;for(O.pendingLanes|=2,O.entangledLanes|=2;k;){var G=1<<31-es(k);O.entanglements[1]|=G,k&=~G}Bs(b),(He&6)===0&&(To=Zt()+500,_l(0))}}break;case 31:case 13:O=mn(b,2),O!==null&&Wt(O,b,2),Eo(),hm(b,2)}if(b=pm(o),b===null&&tm(t,a,o,Go,r),b===m)break;m=b}m!==null&&o.stopPropagation()}else tm(t,a,o,null,r)}}function pm(t){return t=gd(t),bm(t)}var Go=null;function bm(t){if(Go=null,t=qn(t),t!==null){var a=u(t);if(a===null)t=null;else{var r=a.tag;if(r===13){if(t=d(a),t!==null)return t;t=null}else if(r===31){if(t=h(a),t!==null)return t;t=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Go=t,null}function Db(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(r1()){case zh:return 2;case Ph:return 8;case Li:case l1:return 32;case Uh:return 268435456;default:return 32}default:return 32}}var gm=!1,za=null,Pa=null,Ua=null,Pl=new Map,Ul=new Map,Fa=[],yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _b(t,a){switch(t){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":Pl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(a.pointerId)}}function Fl(t,a,r,o,m,b){return t===null||t.nativeEvent!==b?(t={blockedOn:a,domEventName:r,eventSystemFlags:o,nativeEvent:b,targetContainers:[m]},a!==null&&(a=Yn(a),a!==null&&Ab(a)),t):(t.eventSystemFlags|=o,a=t.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),t)}function vw(t,a,r,o,m){switch(a){case"focusin":return za=Fl(za,t,a,r,o,m),!0;case"dragenter":return Pa=Fl(Pa,t,a,r,o,m),!0;case"mouseover":return Ua=Fl(Ua,t,a,r,o,m),!0;case"pointerover":var b=m.pointerId;return Pl.set(b,Fl(Pl.get(b)||null,t,a,r,o,m)),!0;case"gotpointercapture":return b=m.pointerId,Ul.set(b,Fl(Ul.get(b)||null,t,a,r,o,m)),!0}return!1}function Mb(t){var a=qn(t.target);if(a!==null){var r=u(a);if(r!==null){if(a=r.tag,a===13){if(a=d(r),a!==null){t.blockedOn=a,Gh(t.priority,function(){Eb(r)});return}}else if(a===31){if(a=h(r),a!==null){t.blockedOn=a,Gh(t.priority,function(){Eb(r)});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qo(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var r=pm(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);bd=o,r.target.dispatchEvent(o),bd=null}else return a=Yn(r),a!==null&&Ab(a),t.blockedOn=r,!1;a.shift()}return!0}function Lb(t,a,r){qo(t)&&r.delete(a)}function Nw(){gm=!1,za!==null&&qo(za)&&(za=null),Pa!==null&&qo(Pa)&&(Pa=null),Ua!==null&&qo(Ua)&&(Ua=null),Pl.forEach(Lb),Ul.forEach(Lb)}function Yo(t,a){t.blockedOn===a&&(t.blockedOn=null,gm||(gm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Nw)))}var Wo=null;function Bb(t){Wo!==t&&(Wo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Wo===t&&(Wo=null);for(var a=0;a<t.length;a+=3){var r=t[a],o=t[a+1],m=t[a+2];if(typeof o!="function"){if(bm(o||r)===null)continue;break}var b=Yn(r);b!==null&&(t.splice(a,3),a-=3,pu(b,{pending:!0,data:m,method:r.method,action:o},o,m))}}))}function Ar(t){function a(G){return Yo(G,t)}za!==null&&Yo(za,t),Pa!==null&&Yo(Pa,t),Ua!==null&&Yo(Ua,t),Pl.forEach(a),Ul.forEach(a);for(var r=0;r<Fa.length;r++){var o=Fa[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Fa.length&&(r=Fa[0],r.blockedOn===null);)Mb(r),r.blockedOn===null&&Fa.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var m=r[o],b=r[o+1],k=m[Vt]||null;if(typeof b=="function")k||Bb(r);else if(k){var O=null;if(b&&b.hasAttribute("formAction")){if(m=b,k=b[Vt]||null)O=k.formAction;else if(bm(m)!==null)continue}else O=k.action;typeof O=="function"?r[o+1]=O:(r.splice(o,3),o-=3),Bb(r)}}}function Rb(){function t(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(k){return m=k})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function jm(t){this._internalRoot=t}Ko.prototype.render=jm.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,o=is();kb(r,o,t,a,null,null)},Ko.prototype.unmount=jm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;kb(t.current,2,null,t,null,null),Eo(),a[Gn]=null}};function Ko(t){this._internalRoot=t}Ko.prototype.unstable_scheduleHydration=function(t){if(t){var a=Ih();t={blockedOn:null,target:t,priority:a};for(var r=0;r<Fa.length&&a!==0&&a<Fa[r].priority;r++);Fa.splice(r,0,t),r===0&&Mb(t)}};var Ob=n.version;if(Ob!=="19.2.0")throw Error(i(527,Ob,"19.2.0"));H.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=x(a),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var ww={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qo.isDisabled&&Qo.supportsFiber)try{Kr=Qo.inject(ww),Jt=Qo}catch{}}return Vl.createRoot=function(t,a){if(!c(t))throw Error(i(299));var r=!1,o="",m=$f,b=If,k=Gf;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError)),a=Sb(t,1,!1,null,null,r,o,null,m,b,k,Rb),t[Gn]=a.current,em(t),new jm(a)},Vl.hydrateRoot=function(t,a,r){if(!c(t))throw Error(i(299));var o=!1,m="",b=$f,k=If,O=Gf,G=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(b=r.onUncaughtError),r.onCaughtError!==void 0&&(k=r.onCaughtError),r.onRecoverableError!==void 0&&(O=r.onRecoverableError),r.formState!==void 0&&(G=r.formState)),a=Sb(t,1,!0,a,r??null,o,m,G,b,k,O,Rb),a.context=Cb(null),r=a.current,o=is(),o=cd(o),m=Ca(o),m.callback=null,ka(r,m,o),r=o,a.current.lanes=r,Xr(a,r),Bs(a),t[Gn]=a.current,em(t),new Ko(a)},Vl.version="19.2.0",Vl}var qb;function Bw(){if(qb)return Nm.exports;qb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Nm.exports=Lw(),Nm.exports}var Rw=Bw();by();function di(){return di=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i])}return s},di.apply(this,arguments)}var Ya;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Ya||(Ya={}));const Yb="popstate";function Ow(s){s===void 0&&(s={});function n(i,c){let{pathname:u,search:d,hash:h}=i.location;return Tx("",{pathname:u,search:d,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function l(i,c){return typeof c=="string"?c:gc(c)}return Pw(n,l,null,s)}function ct(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function gy(s,n){if(!s){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function zw(){return Math.random().toString(36).substr(2,8)}function Wb(s,n){return{usr:s.state,key:s.key,idx:n}}function Tx(s,n,l,i){return l===void 0&&(l=null),di({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof n=="string"?Ir(n):n,{state:l,key:n&&n.key||i||zw()})}function gc(s){let{pathname:n="/",search:l="",hash:i=""}=s;return l&&l!=="?"&&(n+=l.charAt(0)==="?"?l:"?"+l),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Ir(s){let n={};if(s){let l=s.indexOf("#");l>=0&&(n.hash=s.substr(l),s=s.substr(0,l));let i=s.indexOf("?");i>=0&&(n.search=s.substr(i),s=s.substr(0,i)),s&&(n.pathname=s)}return n}function Pw(s,n,l,i){i===void 0&&(i={});let{window:c=document.defaultView,v5Compat:u=!1}=i,d=c.history,h=Ya.Pop,f=null,x=p();x==null&&(x=0,d.replaceState(di({},d.state,{idx:x}),""));function p(){return(d.state||{idx:null}).idx}function g(){h=Ya.Pop;let T=p(),A=T==null?null:T-x;x=T,f&&f({action:h,location:y.location,delta:A})}function N(T,A){h=Ya.Push;let E=Tx(y.location,T,A);x=p()+1;let S=Wb(E,x),M=y.createHref(E);try{d.pushState(S,"",M)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;c.location.assign(M)}u&&f&&f({action:h,location:y.location,delta:1})}function w(T,A){h=Ya.Replace;let E=Tx(y.location,T,A);x=p();let S=Wb(E,x),M=y.createHref(E);d.replaceState(S,"",M),u&&f&&f({action:h,location:y.location,delta:0})}function v(T){let A=c.location.origin!=="null"?c.location.origin:c.location.href,E=typeof T=="string"?T:gc(T);return E=E.replace(/ $/,"%20"),ct(A,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,A)}let y={get action(){return h},get location(){return s(c,d)},listen(T){if(f)throw new Error("A history only accepts one active listener");return c.addEventListener(Yb,g),f=T,()=>{c.removeEventListener(Yb,g),f=null}},createHref(T){return n(c,T)},createURL:v,encodeLocation(T){let A=v(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:N,replace:w,go(T){return d.go(T)}};return y}var Kb;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Kb||(Kb={}));function Uw(s,n,l){return l===void 0&&(l="/"),Fw(s,n,l)}function Fw(s,n,l,i){let c=typeof n=="string"?Ir(n):n,u=Jx(c.pathname||"/",l);if(u==null)return null;let d=jy(s);Hw(d);let h=null;for(let f=0;h==null&&f<d.length;++f){let x=Jw(u);h=Qw(d[f],x)}return h}function jy(s,n,l,i){n===void 0&&(n=[]),l===void 0&&(l=[]),i===void 0&&(i="");let c=(u,d,h)=>{let f={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};f.relativePath.startsWith("/")&&(ct(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let x=Ka([i,f.relativePath]),p=l.concat(f);u.children&&u.children.length>0&&(ct(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),jy(u.children,n,p,x)),!(u.path==null&&!u.index)&&n.push({path:x,score:Ww(x,u.index),routesMeta:p})};return s.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))c(u,d);else for(let f of yy(u.path))c(u,d,f)}),n}function yy(s){let n=s.split("/");if(n.length===0)return[];let[l,...i]=n,c=l.endsWith("?"),u=l.replace(/\?$/,"");if(i.length===0)return c?[u,""]:[u];let d=yy(i.join("/")),h=[];return h.push(...d.map(f=>f===""?u:[u,f].join("/"))),c&&h.push(...d),h.map(f=>s.startsWith("/")&&f===""?"/":f)}function Hw(s){s.sort((n,l)=>n.score!==l.score?l.score-n.score:Kw(n.routesMeta.map(i=>i.childrenIndex),l.routesMeta.map(i=>i.childrenIndex)))}const Vw=/^:[\w-]+$/,$w=3,Iw=2,Gw=1,qw=10,Yw=-2,Qb=s=>s==="*";function Ww(s,n){let l=s.split("/"),i=l.length;return l.some(Qb)&&(i+=Yw),n&&(i+=Iw),l.filter(c=>!Qb(c)).reduce((c,u)=>c+(Vw.test(u)?$w:u===""?Gw:qw),i)}function Kw(s,n){return s.length===n.length&&s.slice(0,-1).every((i,c)=>i===n[c])?s[s.length-1]-n[n.length-1]:0}function Qw(s,n,l){let{routesMeta:i}=s,c={},u="/",d=[];for(let h=0;h<i.length;++h){let f=i[h],x=h===i.length-1,p=u==="/"?n:n.slice(u.length)||"/",g=Xw({path:f.relativePath,caseSensitive:f.caseSensitive,end:x},p),N=f.route;if(!g)return null;Object.assign(c,g.params),d.push({params:c,pathname:Ka([u,g.pathname]),pathnameBase:a4(Ka([u,g.pathnameBase])),route:N}),g.pathnameBase!=="/"&&(u=Ka([u,g.pathnameBase]))}return d}function Xw(s,n){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[l,i]=Zw(s.path,s.caseSensitive,s.end),c=n.match(l);if(!c)return null;let u=c[0],d=u.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:i.reduce((x,p,g)=>{let{paramName:N,isOptional:w}=p;if(N==="*"){let y=h[g]||"";d=u.slice(0,u.length-y.length).replace(/(.)\/+$/,"$1")}const v=h[g];return w&&!v?x[N]=void 0:x[N]=(v||"").replace(/%2F/g,"/"),x},{}),pathname:u,pathnameBase:d,pattern:s}}function Zw(s,n,l){n===void 0&&(n=!1),l===void 0&&(l=!0),gy(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let i=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),i]}function Jw(s){try{return s.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return gy(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),s}}function Jx(s,n){if(n==="/")return s;if(!s.toLowerCase().startsWith(n.toLowerCase()))return null;let l=n.endsWith("/")?n.length-1:n.length,i=s.charAt(l);return i&&i!=="/"?null:s.slice(l)||"/"}function e4(s,n){n===void 0&&(n="/");let{pathname:l,search:i="",hash:c=""}=typeof s=="string"?Ir(s):s;return{pathname:l?l.startsWith("/")?l:t4(l,n):n,search:n4(i),hash:r4(c)}}function t4(s,n){let l=n.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?l.length>1&&l.pop():c!=="."&&l.push(c)}),l.length>1?l.join("/"):"/"}function km(s,n,l,i){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+l+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s4(s){return s.filter((n,l)=>l===0||n.route.path&&n.route.path.length>0)}function eh(s,n){let l=s4(s);return n?l.map((i,c)=>c===l.length-1?i.pathname:i.pathnameBase):l.map(i=>i.pathnameBase)}function th(s,n,l,i){i===void 0&&(i=!1);let c;typeof s=="string"?c=Ir(s):(c=di({},s),ct(!c.pathname||!c.pathname.includes("?"),km("?","pathname","search",c)),ct(!c.pathname||!c.pathname.includes("#"),km("#","pathname","hash",c)),ct(!c.search||!c.search.includes("#"),km("#","search","hash",c)));let u=s===""||c.pathname==="",d=u?"/":c.pathname,h;if(d==null)h=l;else{let g=n.length-1;if(!i&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),g-=1;c.pathname=N.join("/")}h=g>=0?n[g]:"/"}let f=e4(c,h),x=d&&d!=="/"&&d.endsWith("/"),p=(u||d===".")&&l.endsWith("/");return!f.pathname.endsWith("/")&&(x||p)&&(f.pathname+="/"),f}const Ka=s=>s.join("/").replace(/\/\/+/g,"/"),a4=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),n4=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,r4=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function l4(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const vy=["post","put","patch","delete"];new Set(vy);const i4=["get",...vy];new Set(i4);function ui(){return ui=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i])}return s},ui.apply(this,arguments)}const sh=j.createContext(null),o4=j.createContext(null),sn=j.createContext(null),Oc=j.createContext(null),Hs=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Ny=j.createContext(null);function c4(s,n){let{relative:l}=n===void 0?{}:n;Gr()||ct(!1);let{basename:i,navigator:c}=j.useContext(sn),{hash:u,pathname:d,search:h}=Sy(s,{relative:l}),f=d;return i!=="/"&&(f=d==="/"?i:Ka([i,d])),c.createHref({pathname:f,search:h,hash:u})}function Gr(){return j.useContext(Oc)!=null}function an(){return Gr()||ct(!1),j.useContext(Oc).location}function wy(s){j.useContext(sn).static||j.useLayoutEffect(s)}function kt(){let{isDataRoute:s}=j.useContext(Hs);return s?S4():d4()}function d4(){Gr()||ct(!1);let s=j.useContext(sh),{basename:n,future:l,navigator:i}=j.useContext(sn),{matches:c}=j.useContext(Hs),{pathname:u}=an(),d=JSON.stringify(eh(c,l.v7_relativeSplatPath)),h=j.useRef(!1);return wy(()=>{h.current=!0}),j.useCallback(function(x,p){if(p===void 0&&(p={}),!h.current)return;if(typeof x=="number"){i.go(x);return}let g=th(x,JSON.parse(d),u,p.relative==="path");s==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Ka([n,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[n,i,d,u,s])}const u4=j.createContext(null);function m4(s){let n=j.useContext(Hs).outlet;return n&&j.createElement(u4.Provider,{value:s},n)}function ji(){let{matches:s}=j.useContext(Hs),n=s[s.length-1];return n?n.params:{}}function Sy(s,n){let{relative:l}=n===void 0?{}:n,{future:i}=j.useContext(sn),{matches:c}=j.useContext(Hs),{pathname:u}=an(),d=JSON.stringify(eh(c,i.v7_relativeSplatPath));return j.useMemo(()=>th(s,JSON.parse(d),u,l==="path"),[s,d,u,l])}function x4(s,n){return h4(s,n)}function h4(s,n,l,i){Gr()||ct(!1);let{navigator:c}=j.useContext(sn),{matches:u}=j.useContext(Hs),d=u[u.length-1],h=d?d.params:{};d&&d.pathname;let f=d?d.pathnameBase:"/";d&&d.route;let x=an(),p;if(n){var g;let T=typeof n=="string"?Ir(n):n;f==="/"||(g=T.pathname)!=null&&g.startsWith(f)||ct(!1),p=T}else p=x;let N=p.pathname||"/",w=N;if(f!=="/"){let T=f.replace(/^\//,"").split("/");w="/"+N.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=Uw(s,{pathname:w}),y=j4(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:Ka([f,c.encodeLocation?c.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Ka([f,c.encodeLocation?c.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),u,l,i);return n&&y?j.createElement(Oc.Provider,{value:{location:ui({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ya.Pop}},y):y}function f4(){let s=w4(),n=l4(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),l=s instanceof Error?s.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},n),l?j.createElement("pre",{style:c},l):null,null)}const p4=j.createElement(f4,null);class b4 extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,l){return l.location!==n.location||l.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:l.error,location:l.location,revalidation:n.revalidation||l.revalidation}}componentDidCatch(n,l){console.error("React Router caught the following error during render",n,l)}render(){return this.state.error!==void 0?j.createElement(Hs.Provider,{value:this.props.routeContext},j.createElement(Ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g4(s){let{routeContext:n,match:l,children:i}=s,c=j.useContext(sh);return c&&c.static&&c.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=l.route.id),j.createElement(Hs.Provider,{value:n},i)}function j4(s,n,l,i){var c;if(n===void 0&&(n=[]),l===void 0&&(l=null),i===void 0&&(i=null),s==null){var u;if(!l)return null;if(l.errors)s=l.matches;else if((u=i)!=null&&u.v7_partialHydration&&n.length===0&&!l.initialized&&l.matches.length>0)s=l.matches;else return null}let d=s,h=(c=l)==null?void 0:c.errors;if(h!=null){let p=d.findIndex(g=>g.route.id&&h?.[g.route.id]!==void 0);p>=0||ct(!1),d=d.slice(0,Math.min(d.length,p+1))}let f=!1,x=-1;if(l&&i&&i.v7_partialHydration)for(let p=0;p<d.length;p++){let g=d[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(x=p),g.route.id){let{loaderData:N,errors:w}=l,v=g.route.loader&&N[g.route.id]===void 0&&(!w||w[g.route.id]===void 0);if(g.route.lazy||v){f=!0,x>=0?d=d.slice(0,x+1):d=[d[0]];break}}}return d.reduceRight((p,g,N)=>{let w,v=!1,y=null,T=null;l&&(w=h&&g.route.id?h[g.route.id]:void 0,y=g.route.errorElement||p4,f&&(x<0&&N===0?(C4("route-fallback"),v=!0,T=null):x===N&&(v=!0,T=g.route.hydrateFallbackElement||null)));let A=n.concat(d.slice(0,N+1)),E=()=>{let S;return w?S=y:v?S=T:g.route.Component?S=j.createElement(g.route.Component,null):g.route.element?S=g.route.element:S=p,j.createElement(g4,{match:g,routeContext:{outlet:p,matches:A,isDataRoute:l!=null},children:S})};return l&&(g.route.ErrorBoundary||g.route.errorElement||N===0)?j.createElement(b4,{location:l.location,revalidation:l.revalidation,component:y,error:w,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):E()},null)}var Cy=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Cy||{}),ky=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(ky||{});function y4(s){let n=j.useContext(sh);return n||ct(!1),n}function v4(s){let n=j.useContext(o4);return n||ct(!1),n}function N4(s){let n=j.useContext(Hs);return n||ct(!1),n}function Ty(s){let n=N4(),l=n.matches[n.matches.length-1];return l.route.id||ct(!1),l.route.id}function w4(){var s;let n=j.useContext(Ny),l=v4(),i=Ty();return n!==void 0?n:(s=l.errors)==null?void 0:s[i]}function S4(){let{router:s}=y4(Cy.UseNavigateStable),n=Ty(ky.UseNavigateStable),l=j.useRef(!1);return wy(()=>{l.current=!0}),j.useCallback(function(c,u){u===void 0&&(u={}),l.current&&(typeof c=="number"?s.navigate(c):s.navigate(c,ui({fromRouteId:n},u)))},[s,n])}const Xb={};function C4(s,n,l){Xb[s]||(Xb[s]=!0)}function k4(s,n){s?.v7_startTransition,s?.v7_relativeSplatPath}function Va(s){let{to:n,replace:l,state:i,relative:c}=s;Gr()||ct(!1);let{future:u,static:d}=j.useContext(sn),{matches:h}=j.useContext(Hs),{pathname:f}=an(),x=kt(),p=th(n,eh(h,u.v7_relativeSplatPath),f,c==="path"),g=JSON.stringify(p);return j.useEffect(()=>x(JSON.parse(g),{replace:l,state:i,relative:c}),[x,g,c,l,i]),null}function T4(s){return m4(s.context)}function pe(s){ct(!1)}function A4(s){let{basename:n="/",children:l=null,location:i,navigationType:c=Ya.Pop,navigator:u,static:d=!1,future:h}=s;Gr()&&ct(!1);let f=n.replace(/^\/*/,"/"),x=j.useMemo(()=>({basename:f,navigator:u,static:d,future:ui({v7_relativeSplatPath:!1},h)}),[f,h,u,d]);typeof i=="string"&&(i=Ir(i));let{pathname:p="/",search:g="",hash:N="",state:w=null,key:v="default"}=i,y=j.useMemo(()=>{let T=Jx(p,f);return T==null?null:{location:{pathname:T,search:g,hash:N,state:w,key:v},navigationType:c}},[f,p,g,N,w,v,c]);return y==null?null:j.createElement(sn.Provider,{value:x},j.createElement(Oc.Provider,{children:l,value:y}))}function E4(s){let{children:n,location:l}=s;return x4(Ax(n),l)}new Promise(()=>{});function Ax(s,n){n===void 0&&(n=[]);let l=[];return j.Children.forEach(s,(i,c)=>{if(!j.isValidElement(i))return;let u=[...n,c];if(i.type===j.Fragment){l.push.apply(l,Ax(i.props.children,u));return}i.type!==pe&&ct(!1),!i.props.index||!i.props.children||ct(!1);let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Ax(i.props.children,u)),l.push(d)}),l}function Ex(){return Ex=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i])}return s},Ex.apply(this,arguments)}function D4(s,n){if(s==null)return{};var l={},i=Object.keys(s),c,u;for(u=0;u<i.length;u++)c=i[u],!(n.indexOf(c)>=0)&&(l[c]=s[c]);return l}function _4(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function M4(s,n){return s.button===0&&(!n||n==="_self")&&!_4(s)}function Dx(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((n,l)=>{let i=s[l];return n.concat(Array.isArray(i)?i.map(c=>[l,c]):[[l,i]])},[]))}function L4(s,n){let l=Dx(s);return n&&n.forEach((i,c)=>{l.has(c)||n.getAll(c).forEach(u=>{l.append(c,u)})}),l}const B4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],R4="6";try{window.__reactRouterVersion=R4}catch{}const O4="startTransition",Zb=Ew[O4];function z4(s){let{basename:n,children:l,future:i,window:c}=s,u=j.useRef();u.current==null&&(u.current=Ow({window:c,v5Compat:!0}));let d=u.current,[h,f]=j.useState({action:d.action,location:d.location}),{v7_startTransition:x}=i||{},p=j.useCallback(g=>{x&&Zb?Zb(()=>f(g)):f(g)},[f,x]);return j.useLayoutEffect(()=>d.listen(p),[d,p]),j.useEffect(()=>k4(i),[i]),j.createElement(A4,{basename:n,children:l,location:h.location,navigationType:h.action,navigator:d,future:i})}const P4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,si=j.forwardRef(function(n,l){let{onClick:i,relative:c,reloadDocument:u,replace:d,state:h,target:f,to:x,preventScrollReset:p,viewTransition:g}=n,N=D4(n,B4),{basename:w}=j.useContext(sn),v,y=!1;if(typeof x=="string"&&U4.test(x)&&(v=x,P4))try{let S=new URL(window.location.href),M=x.startsWith("//")?new URL(S.protocol+x):new URL(x),L=Jx(M.pathname,w);M.origin===S.origin&&L!=null?x=L+M.search+M.hash:y=!0}catch{}let T=c4(x,{relative:c}),A=F4(x,{replace:d,state:h,target:f,preventScrollReset:p,relative:c,viewTransition:g});function E(S){i&&i(S),S.defaultPrevented||A(S)}return j.createElement("a",Ex({},N,{href:v||T,onClick:y||u?i:E,ref:l,target:f}))});var Jb;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Jb||(Jb={}));var eg;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(eg||(eg={}));function F4(s,n){let{target:l,replace:i,state:c,preventScrollReset:u,relative:d,viewTransition:h}=n===void 0?{}:n,f=kt(),x=an(),p=Sy(s,{relative:d});return j.useCallback(g=>{if(M4(g,l)){g.preventDefault();let N=i!==void 0?i:gc(x)===gc(p);f(s,{replace:N,state:c,preventScrollReset:u,relative:d,viewTransition:h})}},[x,f,p,i,c,l,s,u,d,h])}function H4(s){let n=j.useRef(Dx(s)),l=j.useRef(!1),i=an(),c=j.useMemo(()=>L4(i.search,l.current?null:n.current),[i.search]),u=kt(),d=j.useCallback((h,f)=>{const x=Dx(typeof h=="function"?h(c):h);l.current=!0,u("?"+x,f)},[u,c]);return[c,d]}let V4={data:""},$4=s=>{if(typeof window=="object"){let n=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return n.nonce=window.__nonce__,n.parentNode||(s||document.head).appendChild(n),n.firstChild}return s||V4},I4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,G4=/\/\*[^]*?\*\/|  +/g,tg=/\n+/g,qa=(s,n)=>{let l="",i="",c="";for(let u in s){let d=s[u];u[0]=="@"?u[1]=="i"?l=u+" "+d+";":i+=u[1]=="f"?qa(d,u):u+"{"+qa(d,u[1]=="k"?"":n)+"}":typeof d=="object"?i+=qa(d,n?n.replace(/([^,])+/g,h=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,h):h?h+" "+f:f)):u):d!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),c+=qa.p?qa.p(u,d):u+":"+d+";")}return l+(n&&c?n+"{"+c+"}":c)+i},la={},Ay=s=>{if(typeof s=="object"){let n="";for(let l in s)n+=l+Ay(s[l]);return n}return s},q4=(s,n,l,i,c)=>{let u=Ay(s),d=la[u]||(la[u]=(f=>{let x=0,p=11;for(;x<f.length;)p=101*p+f.charCodeAt(x++)>>>0;return"go"+p})(u));if(!la[d]){let f=u!==s?s:(x=>{let p,g,N=[{}];for(;p=I4.exec(x.replace(G4,""));)p[4]?N.shift():p[3]?(g=p[3].replace(tg," ").trim(),N.unshift(N[0][g]=N[0][g]||{})):N[0][p[1]]=p[2].replace(tg," ").trim();return N[0]})(s);la[d]=qa(c?{["@keyframes "+d]:f}:f,l?"":"."+d)}let h=l&&la.g?la.g:null;return l&&(la.g=la[d]),((f,x,p,g)=>{g?x.data=x.data.replace(g,f):x.data.indexOf(f)===-1&&(x.data=p?f+x.data:x.data+f)})(la[d],n,i,h),d},Y4=(s,n,l)=>s.reduce((i,c,u)=>{let d=n[u];if(d&&d.call){let h=d(l),f=h&&h.props&&h.props.className||/^go/.test(h)&&h;d=f?"."+f:h&&typeof h=="object"?h.props?"":qa(h,""):h===!1?"":h}return i+c+(d??"")},"");function zc(s){let n=this||{},l=s.call?s(n.p):s;return q4(l.unshift?l.raw?Y4(l,[].slice.call(arguments,1),n.p):l.reduce((i,c)=>Object.assign(i,c&&c.call?c(n.p):c),{}):l,$4(n.target),n.g,n.o,n.k)}let Ey,_x,Mx;zc.bind({g:1});let ua=zc.bind({k:1});function W4(s,n,l,i){qa.p=n,Ey=s,_x=l,Mx=i}function nn(s,n){let l=this||{};return function(){let i=arguments;function c(u,d){let h=Object.assign({},u),f=h.className||c.className;l.p=Object.assign({theme:_x&&_x()},h),l.o=/ *go\d+/.test(f),h.className=zc.apply(l,i)+(f?" "+f:"");let x=s;return s[0]&&(x=h.as||s,delete h.as),Mx&&x[0]&&Mx(h),Ey(x,h)}return c}}var K4=s=>typeof s=="function",jc=(s,n)=>K4(s)?s(n):s,Q4=(()=>{let s=0;return()=>(++s).toString()})(),Dy=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");s=!n||n.matches}return s}})(),X4=20,ah="default",_y=(s,n)=>{let{toastLimit:l}=s.settings;switch(n.type){case 0:return{...s,toasts:[n.toast,...s.toasts].slice(0,l)};case 1:return{...s,toasts:s.toasts.map(d=>d.id===n.toast.id?{...d,...n.toast}:d)};case 2:let{toast:i}=n;return _y(s,{type:s.toasts.find(d=>d.id===i.id)?1:0,toast:i});case 3:let{toastId:c}=n;return{...s,toasts:s.toasts.map(d=>d.id===c||c===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return n.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(d=>d.id!==n.toastId)};case 5:return{...s,pausedAt:n.time};case 6:let u=n.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+u}))}}},cc=[],My={toasts:[],pausedAt:void 0,settings:{toastLimit:X4}},Ps={},Ly=(s,n=ah)=>{Ps[n]=_y(Ps[n]||My,s),cc.forEach(([l,i])=>{l===n&&i(Ps[n])})},By=s=>Object.keys(Ps).forEach(n=>Ly(s,n)),Z4=s=>Object.keys(Ps).find(n=>Ps[n].toasts.some(l=>l.id===s)),Pc=(s=ah)=>n=>{Ly(n,s)},J4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},e5=(s={},n=ah)=>{let[l,i]=j.useState(Ps[n]||My),c=j.useRef(Ps[n]);j.useEffect(()=>(c.current!==Ps[n]&&i(Ps[n]),cc.push([n,i]),()=>{let d=cc.findIndex(([h])=>h===n);d>-1&&cc.splice(d,1)}),[n]);let u=l.toasts.map(d=>{var h,f,x;return{...s,...s[d.type],...d,removeDelay:d.removeDelay||((h=s[d.type])==null?void 0:h.removeDelay)||s?.removeDelay,duration:d.duration||((f=s[d.type])==null?void 0:f.duration)||s?.duration||J4[d.type],style:{...s.style,...(x=s[d.type])==null?void 0:x.style,...d.style}}});return{...l,toasts:u}},t5=(s,n="blank",l)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...l,id:l?.id||Q4()}),yi=s=>(n,l)=>{let i=t5(n,s,l);return Pc(i.toasterId||Z4(i.id))({type:2,toast:i}),i.id},pt=(s,n)=>yi("blank")(s,n);pt.error=yi("error");pt.success=yi("success");pt.loading=yi("loading");pt.custom=yi("custom");pt.dismiss=(s,n)=>{let l={type:3,toastId:s};n?Pc(n)(l):By(l)};pt.dismissAll=s=>pt.dismiss(void 0,s);pt.remove=(s,n)=>{let l={type:4,toastId:s};n?Pc(n)(l):By(l)};pt.removeAll=s=>pt.remove(void 0,s);pt.promise=(s,n,l)=>{let i=pt.loading(n.loading,{...l,...l?.loading});return typeof s=="function"&&(s=s()),s.then(c=>{let u=n.success?jc(n.success,c):void 0;return u?pt.success(u,{id:i,...l,...l?.success}):pt.dismiss(i),c}).catch(c=>{let u=n.error?jc(n.error,c):void 0;u?pt.error(u,{id:i,...l,...l?.error}):pt.dismiss(i)}),s};var s5=1e3,a5=(s,n="default")=>{let{toasts:l,pausedAt:i}=e5(s,n),c=j.useRef(new Map).current,u=j.useCallback((g,N=s5)=>{if(c.has(g))return;let w=setTimeout(()=>{c.delete(g),d({type:4,toastId:g})},N);c.set(g,w)},[]);j.useEffect(()=>{if(i)return;let g=Date.now(),N=l.map(w=>{if(w.duration===1/0)return;let v=(w.duration||0)+w.pauseDuration-(g-w.createdAt);if(v<0){w.visible&&pt.dismiss(w.id);return}return setTimeout(()=>pt.dismiss(w.id,n),v)});return()=>{N.forEach(w=>w&&clearTimeout(w))}},[l,i,n]);let d=j.useCallback(Pc(n),[n]),h=j.useCallback(()=>{d({type:5,time:Date.now()})},[d]),f=j.useCallback((g,N)=>{d({type:1,toast:{id:g,height:N}})},[d]),x=j.useCallback(()=>{i&&d({type:6,time:Date.now()})},[i,d]),p=j.useCallback((g,N)=>{let{reverseOrder:w=!1,gutter:v=8,defaultPosition:y}=N||{},T=l.filter(S=>(S.position||y)===(g.position||y)&&S.height),A=T.findIndex(S=>S.id===g.id),E=T.filter((S,M)=>M<A&&S.visible).length;return T.filter(S=>S.visible).slice(...w?[E+1]:[0,E]).reduce((S,M)=>S+(M.height||0)+v,0)},[l]);return j.useEffect(()=>{l.forEach(g=>{if(g.dismissed)u(g.id,g.removeDelay);else{let N=c.get(g.id);N&&(clearTimeout(N),c.delete(g.id))}})},[l,u]),{toasts:l,handlers:{updateHeight:f,startPause:h,endPause:x,calculateOffset:p}}},n5=ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,r5=ua`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,l5=ua`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,i5=nn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${n5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${r5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${l5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,o5=ua`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,c5=nn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${o5} 1s linear infinite;
`,d5=ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,u5=ua`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,m5=nn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${d5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${u5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,x5=nn("div")`
  position: absolute;
`,h5=nn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,f5=ua`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,p5=nn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${f5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,b5=({toast:s})=>{let{icon:n,type:l,iconTheme:i}=s;return n!==void 0?typeof n=="string"?j.createElement(p5,null,n):n:l==="blank"?null:j.createElement(h5,null,j.createElement(c5,{...i}),l!=="loading"&&j.createElement(x5,null,l==="error"?j.createElement(i5,{...i}):j.createElement(m5,{...i})))},g5=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,j5=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,y5="0%{opacity:0;} 100%{opacity:1;}",v5="0%{opacity:1;} 100%{opacity:0;}",N5=nn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,w5=nn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,S5=(s,n)=>{let l=s.includes("top")?1:-1,[i,c]=Dy()?[y5,v5]:[g5(l),j5(l)];return{animation:n?`${ua(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ua(c)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},C5=j.memo(({toast:s,position:n,style:l,children:i})=>{let c=s.height?S5(s.position||n||"top-center",s.visible):{opacity:0},u=j.createElement(b5,{toast:s}),d=j.createElement(w5,{...s.ariaProps},jc(s.message,s));return j.createElement(N5,{className:s.className,style:{...c,...l,...s.style}},typeof i=="function"?i({icon:u,message:d}):j.createElement(j.Fragment,null,u,d))});W4(j.createElement);var k5=({id:s,className:n,style:l,onHeightUpdate:i,children:c})=>{let u=j.useCallback(d=>{if(d){let h=()=>{let f=d.getBoundingClientRect().height;i(s,f)};h(),new MutationObserver(h).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[s,i]);return j.createElement("div",{ref:u,className:n,style:l},c)},T5=(s,n)=>{let l=s.includes("top"),i=l?{top:0}:{bottom:0},c=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Dy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(l?1:-1)}px)`,...i,...c}},A5=zc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xo=16,E5=({reverseOrder:s,position:n="top-center",toastOptions:l,gutter:i,children:c,toasterId:u,containerStyle:d,containerClassName:h})=>{let{toasts:f,handlers:x}=a5(l,u);return j.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Xo,left:Xo,right:Xo,bottom:Xo,pointerEvents:"none",...d},className:h,onMouseEnter:x.startPause,onMouseLeave:x.endPause},f.map(p=>{let g=p.position||n,N=x.calculateOffset(p,{reverseOrder:s,gutter:i,defaultPosition:n}),w=T5(g,N);return j.createElement(k5,{id:p.id,key:p.id,onHeightUpdate:x.updateHeight,className:p.visible?A5:"",style:w},p.type==="custom"?jc(p.message,p):c?c(p):j.createElement(C5,{toast:p,position:g}))}))},U=pt;const D5={},sg=s=>{let n;const l=new Set,i=(p,g)=>{const N=typeof p=="function"?p(n):p;if(!Object.is(N,n)){const w=n;n=g??(typeof N!="object"||N===null)?N:Object.assign({},n,N),l.forEach(v=>v(n,w))}},c=()=>n,f={setState:i,getState:c,getInitialState:()=>x,subscribe:p=>(l.add(p),()=>l.delete(p)),destroy:()=>{(D5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),l.clear()}},x=n=s(i,c,f);return f},_5=s=>s?sg(s):sg;var Tm={exports:{}},Am={},Em={exports:{}},Dm={};var ag;function M5(){if(ag)return Dm;ag=1;var s=gi();function n(g,N){return g===N&&(g!==0||1/g===1/N)||g!==g&&N!==N}var l=typeof Object.is=="function"?Object.is:n,i=s.useState,c=s.useEffect,u=s.useLayoutEffect,d=s.useDebugValue;function h(g,N){var w=N(),v=i({inst:{value:w,getSnapshot:N}}),y=v[0].inst,T=v[1];return u(function(){y.value=w,y.getSnapshot=N,f(y)&&T({inst:y})},[g,w,N]),c(function(){return f(y)&&T({inst:y}),g(function(){f(y)&&T({inst:y})})},[g]),d(w),w}function f(g){var N=g.getSnapshot;g=g.value;try{var w=N();return!l(g,w)}catch{return!0}}function x(g,N){return N()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:h;return Dm.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:p,Dm}var ng;function L5(){return ng||(ng=1,Em.exports=M5()),Em.exports}var rg;function B5(){if(rg)return Am;rg=1;var s=gi(),n=L5();function l(x,p){return x===p&&(x!==0||1/x===1/p)||x!==x&&p!==p}var i=typeof Object.is=="function"?Object.is:l,c=n.useSyncExternalStore,u=s.useRef,d=s.useEffect,h=s.useMemo,f=s.useDebugValue;return Am.useSyncExternalStoreWithSelector=function(x,p,g,N,w){var v=u(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=h(function(){function A(B){if(!E){if(E=!0,S=B,B=N(B),w!==void 0&&y.hasValue){var D=y.value;if(w(D,B))return M=D}return M=B}if(D=M,i(S,B))return D;var C=N(B);return w!==void 0&&w(D,C)?(S=B,D):(S=B,M=C)}var E=!1,S,M,L=g===void 0?null:g;return[function(){return A(p())},L===null?void 0:function(){return A(L())}]},[p,g,N,w]);var T=c(x,v[0],v[1]);return d(function(){y.hasValue=!0,y.value=T},[T]),f(T),T},Am}var lg;function R5(){return lg||(lg=1,Tm.exports=B5()),Tm.exports}var O5=R5();const z5=Rc(O5),Ry={},{useDebugValue:P5}=Ut,{useSyncExternalStoreWithSelector:U5}=z5;let ig=!1;const F5=s=>s;function H5(s,n=F5,l){(Ry?"production":void 0)!=="production"&&l&&!ig&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ig=!0);const i=U5(s.subscribe,s.getState,s.getServerState||s.getInitialState,n,l);return P5(i),i}const V5=s=>{(Ry?"production":void 0)!=="production"&&typeof s!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof s=="function"?_5(s):s,l=(i,c)=>H5(n,i,c);return Object.assign(l,n),l},$5=s=>V5,I5={};function G5(s,n){let l;try{l=s()}catch{return}return{getItem:c=>{var u;const d=f=>f===null?null:JSON.parse(f,void 0),h=(u=l.getItem(c))!=null?u:null;return h instanceof Promise?h.then(d):d(h)},setItem:(c,u)=>l.setItem(c,JSON.stringify(u,void 0)),removeItem:c=>l.removeItem(c)}}const mi=s=>n=>{try{const l=s(n);return l instanceof Promise?l:{then(i){return mi(i)(l)},catch(i){return this}}}catch(l){return{then(i){return this},catch(i){return mi(i)(l)}}}},q5=(s,n)=>(l,i,c)=>{let u={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:T=>T,version:0,merge:(T,A)=>({...A,...T}),...n},d=!1;const h=new Set,f=new Set;let x;try{x=u.getStorage()}catch{}if(!x)return s((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),l(...T)},i,c);const p=mi(u.serialize),g=()=>{const T=u.partialize({...i()});let A;const E=p({state:T,version:u.version}).then(S=>x.setItem(u.name,S)).catch(S=>{A=S});if(A)throw A;return E},N=c.setState;c.setState=(T,A)=>{N(T,A),g()};const w=s((...T)=>{l(...T),g()},i,c);let v;const y=()=>{var T;if(!x)return;d=!1,h.forEach(E=>E(i()));const A=((T=u.onRehydrateStorage)==null?void 0:T.call(u,i()))||void 0;return mi(x.getItem.bind(x))(u.name).then(E=>{if(E)return u.deserialize(E)}).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==u.version){if(u.migrate)return u.migrate(E.state,E.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return E.state}).then(E=>{var S;return v=u.merge(E,(S=i())!=null?S:w),l(v,!0),g()}).then(()=>{A?.(v,void 0),d=!0,f.forEach(E=>E(v))}).catch(E=>{A?.(void 0,E)})};return c.persist={setOptions:T=>{u={...u,...T},T.getStorage&&(x=T.getStorage())},clearStorage:()=>{x?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>y(),hasHydrated:()=>d,onHydrate:T=>(h.add(T),()=>{h.delete(T)}),onFinishHydration:T=>(f.add(T),()=>{f.delete(T)})},y(),v||w},Y5=(s,n)=>(l,i,c)=>{let u={storage:G5(()=>localStorage),partialize:y=>y,version:0,merge:(y,T)=>({...T,...y}),...n},d=!1;const h=new Set,f=new Set;let x=u.storage;if(!x)return s((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),l(...y)},i,c);const p=()=>{const y=u.partialize({...i()});return x.setItem(u.name,{state:y,version:u.version})},g=c.setState;c.setState=(y,T)=>{g(y,T),p()};const N=s((...y)=>{l(...y),p()},i,c);c.getInitialState=()=>N;let w;const v=()=>{var y,T;if(!x)return;d=!1,h.forEach(E=>{var S;return E((S=i())!=null?S:N)});const A=((T=u.onRehydrateStorage)==null?void 0:T.call(u,(y=i())!=null?y:N))||void 0;return mi(x.getItem.bind(x))(u.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==u.version){if(u.migrate)return[!0,u.migrate(E.state,E.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var S;const[M,L]=E;if(w=u.merge(L,(S=i())!=null?S:N),l(w,!0),M)return p()}).then(()=>{A?.(w,void 0),w=i(),d=!0,f.forEach(E=>E(w))}).catch(E=>{A?.(void 0,E)})};return c.persist={setOptions:y=>{u={...u,...y},y.storage&&(x=y.storage)},clearStorage:()=>{x?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>v(),hasHydrated:()=>d,onHydrate:y=>(h.add(y),()=>{h.delete(y)}),onFinishHydration:y=>(f.add(y),()=>{f.delete(y)})},u.skipHydration||v(),w||N},W5=(s,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((I5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),q5(s,n)):Y5(s,n),K5=W5;function Oy(s,n){return function(){return s.apply(n,arguments)}}const{toString:Q5}=Object.prototype,{getPrototypeOf:nh}=Object,{iterator:Uc,toStringTag:zy}=Symbol,Fc=(s=>n=>{const l=Q5.call(n);return s[l]||(s[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Es=s=>(s=s.toLowerCase(),n=>Fc(n)===s),Hc=s=>n=>typeof n===s,{isArray:qr}=Array,Pr=Hc("undefined");function vi(s){return s!==null&&!Pr(s)&&s.constructor!==null&&!Pr(s.constructor)&&Kt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Py=Es("ArrayBuffer");function X5(s){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(s):n=s&&s.buffer&&Py(s.buffer),n}const Z5=Hc("string"),Kt=Hc("function"),Uy=Hc("number"),Ni=s=>s!==null&&typeof s=="object",J5=s=>s===!0||s===!1,dc=s=>{if(Fc(s)!=="object")return!1;const n=nh(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(zy in s)&&!(Uc in s)},e3=s=>{if(!Ni(s)||vi(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},t3=Es("Date"),s3=Es("File"),a3=Es("Blob"),n3=Es("FileList"),r3=s=>Ni(s)&&Kt(s.pipe),l3=s=>{let n;return s&&(typeof FormData=="function"&&s instanceof FormData||Kt(s.append)&&((n=Fc(s))==="formdata"||n==="object"&&Kt(s.toString)&&s.toString()==="[object FormData]"))},i3=Es("URLSearchParams"),[o3,c3,d3,u3]=["ReadableStream","Request","Response","Headers"].map(Es),m3=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wi(s,n,{allOwnKeys:l=!1}={}){if(s===null||typeof s>"u")return;let i,c;if(typeof s!="object"&&(s=[s]),qr(s))for(i=0,c=s.length;i<c;i++)n.call(null,s[i],i,s);else{if(vi(s))return;const u=l?Object.getOwnPropertyNames(s):Object.keys(s),d=u.length;let h;for(i=0;i<d;i++)h=u[i],n.call(null,s[h],h,s)}}function Fy(s,n){if(vi(s))return null;n=n.toLowerCase();const l=Object.keys(s);let i=l.length,c;for(;i-- >0;)if(c=l[i],n===c.toLowerCase())return c;return null}const En=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Hy=s=>!Pr(s)&&s!==En;function Lx(){const{caseless:s,skipUndefined:n}=Hy(this)&&this||{},l={},i=(c,u)=>{const d=s&&Fy(l,u)||u;dc(l[d])&&dc(c)?l[d]=Lx(l[d],c):dc(c)?l[d]=Lx({},c):qr(c)?l[d]=c.slice():(!n||!Pr(c))&&(l[d]=c)};for(let c=0,u=arguments.length;c<u;c++)arguments[c]&&wi(arguments[c],i);return l}const x3=(s,n,l,{allOwnKeys:i}={})=>(wi(n,(c,u)=>{l&&Kt(c)?s[u]=Oy(c,l):s[u]=c},{allOwnKeys:i}),s),h3=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),f3=(s,n,l,i)=>{s.prototype=Object.create(n.prototype,i),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:n.prototype}),l&&Object.assign(s.prototype,l)},p3=(s,n,l,i)=>{let c,u,d;const h={};if(n=n||{},s==null)return n;do{for(c=Object.getOwnPropertyNames(s),u=c.length;u-- >0;)d=c[u],(!i||i(d,s,n))&&!h[d]&&(n[d]=s[d],h[d]=!0);s=l!==!1&&nh(s)}while(s&&(!l||l(s,n))&&s!==Object.prototype);return n},b3=(s,n,l)=>{s=String(s),(l===void 0||l>s.length)&&(l=s.length),l-=n.length;const i=s.indexOf(n,l);return i!==-1&&i===l},g3=s=>{if(!s)return null;if(qr(s))return s;let n=s.length;if(!Uy(n))return null;const l=new Array(n);for(;n-- >0;)l[n]=s[n];return l},j3=(s=>n=>s&&n instanceof s)(typeof Uint8Array<"u"&&nh(Uint8Array)),y3=(s,n)=>{const i=(s&&s[Uc]).call(s);let c;for(;(c=i.next())&&!c.done;){const u=c.value;n.call(s,u[0],u[1])}},v3=(s,n)=>{let l;const i=[];for(;(l=s.exec(n))!==null;)i.push(l);return i},N3=Es("HTMLFormElement"),w3=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,i,c){return i.toUpperCase()+c}),og=(({hasOwnProperty:s})=>(n,l)=>s.call(n,l))(Object.prototype),S3=Es("RegExp"),Vy=(s,n)=>{const l=Object.getOwnPropertyDescriptors(s),i={};wi(l,(c,u)=>{let d;(d=n(c,u,s))!==!1&&(i[u]=d||c)}),Object.defineProperties(s,i)},C3=s=>{Vy(s,(n,l)=>{if(Kt(s)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const i=s[l];if(Kt(i)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},k3=(s,n)=>{const l={},i=c=>{c.forEach(u=>{l[u]=!0})};return qr(s)?i(s):i(String(s).split(n)),l},T3=()=>{},A3=(s,n)=>s!=null&&Number.isFinite(s=+s)?s:n;function E3(s){return!!(s&&Kt(s.append)&&s[zy]==="FormData"&&s[Uc])}const D3=s=>{const n=new Array(10),l=(i,c)=>{if(Ni(i)){if(n.indexOf(i)>=0)return;if(vi(i))return i;if(!("toJSON"in i)){n[c]=i;const u=qr(i)?[]:{};return wi(i,(d,h)=>{const f=l(d,c+1);!Pr(f)&&(u[h]=f)}),n[c]=void 0,u}}return i};return l(s,0)},_3=Es("AsyncFunction"),M3=s=>s&&(Ni(s)||Kt(s))&&Kt(s.then)&&Kt(s.catch),$y=((s,n)=>s?setImmediate:n?((l,i)=>(En.addEventListener("message",({source:c,data:u})=>{c===En&&u===l&&i.length&&i.shift()()},!1),c=>{i.push(c),En.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",Kt(En.postMessage)),L3=typeof queueMicrotask<"u"?queueMicrotask.bind(En):typeof process<"u"&&process.nextTick||$y,B3=s=>s!=null&&Kt(s[Uc]),ne={isArray:qr,isArrayBuffer:Py,isBuffer:vi,isFormData:l3,isArrayBufferView:X5,isString:Z5,isNumber:Uy,isBoolean:J5,isObject:Ni,isPlainObject:dc,isEmptyObject:e3,isReadableStream:o3,isRequest:c3,isResponse:d3,isHeaders:u3,isUndefined:Pr,isDate:t3,isFile:s3,isBlob:a3,isRegExp:S3,isFunction:Kt,isStream:r3,isURLSearchParams:i3,isTypedArray:j3,isFileList:n3,forEach:wi,merge:Lx,extend:x3,trim:m3,stripBOM:h3,inherits:f3,toFlatObject:p3,kindOf:Fc,kindOfTest:Es,endsWith:b3,toArray:g3,forEachEntry:y3,matchAll:v3,isHTMLForm:N3,hasOwnProperty:og,hasOwnProp:og,reduceDescriptors:Vy,freezeMethods:C3,toObjectSet:k3,toCamelCase:w3,noop:T3,toFiniteNumber:A3,findKey:Fy,global:En,isContextDefined:Hy,isSpecCompliantForm:E3,toJSONObject:D3,isAsyncFn:_3,isThenable:M3,setImmediate:$y,asap:L3,isIterable:B3};function De(s,n,l,i,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",n&&(this.code=n),l&&(this.config=l),i&&(this.request=i),c&&(this.response=c,this.status=c.status?c.status:null)}ne.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const Iy=De.prototype,Gy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Gy[s]={value:s}});Object.defineProperties(De,Gy);Object.defineProperty(Iy,"isAxiosError",{value:!0});De.from=(s,n,l,i,c,u)=>{const d=Object.create(Iy);ne.toFlatObject(s,d,function(p){return p!==Error.prototype},x=>x!=="isAxiosError");const h=s&&s.message?s.message:"Error",f=n==null&&s?s.code:n;return De.call(d,h,f,l,i,c),s&&d.cause==null&&Object.defineProperty(d,"cause",{value:s,configurable:!0}),d.name=s&&s.name||"Error",u&&Object.assign(d,u),d};const R3=null;function Bx(s){return ne.isPlainObject(s)||ne.isArray(s)}function qy(s){return ne.endsWith(s,"[]")?s.slice(0,-2):s}function cg(s,n,l){return s?s.concat(n).map(function(c,u){return c=qy(c),!l&&u?"["+c+"]":c}).join(l?".":""):n}function O3(s){return ne.isArray(s)&&!s.some(Bx)}const z3=ne.toFlatObject(ne,{},null,function(n){return/^is[A-Z]/.test(n)});function Vc(s,n,l){if(!ne.isObject(s))throw new TypeError("target must be an object");n=n||new FormData,l=ne.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,T){return!ne.isUndefined(T[y])});const i=l.metaTokens,c=l.visitor||p,u=l.dots,d=l.indexes,f=(l.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(n);if(!ne.isFunction(c))throw new TypeError("visitor must be a function");function x(v){if(v===null)return"";if(ne.isDate(v))return v.toISOString();if(ne.isBoolean(v))return v.toString();if(!f&&ne.isBlob(v))throw new De("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(v)||ne.isTypedArray(v)?f&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,y,T){let A=v;if(v&&!T&&typeof v=="object"){if(ne.endsWith(y,"{}"))y=i?y:y.slice(0,-2),v=JSON.stringify(v);else if(ne.isArray(v)&&O3(v)||(ne.isFileList(v)||ne.endsWith(y,"[]"))&&(A=ne.toArray(v)))return y=qy(y),A.forEach(function(S,M){!(ne.isUndefined(S)||S===null)&&n.append(d===!0?cg([y],M,u):d===null?y:y+"[]",x(S))}),!1}return Bx(v)?!0:(n.append(cg(T,y,u),x(v)),!1)}const g=[],N=Object.assign(z3,{defaultVisitor:p,convertValue:x,isVisitable:Bx});function w(v,y){if(!ne.isUndefined(v)){if(g.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));g.push(v),ne.forEach(v,function(A,E){(!(ne.isUndefined(A)||A===null)&&c.call(n,A,ne.isString(E)?E.trim():E,y,N))===!0&&w(A,y?y.concat(E):[E])}),g.pop()}}if(!ne.isObject(s))throw new TypeError("data must be an object");return w(s),n}function dg(s){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function rh(s,n){this._pairs=[],s&&Vc(s,this,n)}const Yy=rh.prototype;Yy.append=function(n,l){this._pairs.push([n,l])};Yy.toString=function(n){const l=n?function(i){return n.call(this,i,dg)}:dg;return this._pairs.map(function(c){return l(c[0])+"="+l(c[1])},"").join("&")};function P3(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Wy(s,n,l){if(!n)return s;const i=l&&l.encode||P3;ne.isFunction(l)&&(l={serialize:l});const c=l&&l.serialize;let u;if(c?u=c(n,l):u=ne.isURLSearchParams(n)?n.toString():new rh(n,l).toString(i),u){const d=s.indexOf("#");d!==-1&&(s=s.slice(0,d)),s+=(s.indexOf("?")===-1?"?":"&")+u}return s}class ug{constructor(){this.handlers=[]}use(n,l,i){return this.handlers.push({fulfilled:n,rejected:l,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ne.forEach(this.handlers,function(i){i!==null&&n(i)})}}const Ky={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U3=typeof URLSearchParams<"u"?URLSearchParams:rh,F3=typeof FormData<"u"?FormData:null,H3=typeof Blob<"u"?Blob:null,V3={isBrowser:!0,classes:{URLSearchParams:U3,FormData:F3,Blob:H3},protocols:["http","https","file","blob","url","data"]},lh=typeof window<"u"&&typeof document<"u",Rx=typeof navigator=="object"&&navigator||void 0,$3=lh&&(!Rx||["ReactNative","NativeScript","NS"].indexOf(Rx.product)<0),I3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",G3=lh&&window.location.href||"http://localhost",q3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lh,hasStandardBrowserEnv:$3,hasStandardBrowserWebWorkerEnv:I3,navigator:Rx,origin:G3},Symbol.toStringTag,{value:"Module"})),Et={...q3,...V3};function Y3(s,n){return Vc(s,new Et.classes.URLSearchParams,{visitor:function(l,i,c,u){return Et.isNode&&ne.isBuffer(l)?(this.append(i,l.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...n})}function W3(s){return ne.matchAll(/\w+|\[(\w*)]/g,s).map(n=>n[0]==="[]"?"":n[1]||n[0])}function K3(s){const n={},l=Object.keys(s);let i;const c=l.length;let u;for(i=0;i<c;i++)u=l[i],n[u]=s[u];return n}function Qy(s){function n(l,i,c,u){let d=l[u++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),f=u>=l.length;return d=!d&&ne.isArray(c)?c.length:d,f?(ne.hasOwnProp(c,d)?c[d]=[c[d],i]:c[d]=i,!h):((!c[d]||!ne.isObject(c[d]))&&(c[d]=[]),n(l,i,c[d],u)&&ne.isArray(c[d])&&(c[d]=K3(c[d])),!h)}if(ne.isFormData(s)&&ne.isFunction(s.entries)){const l={};return ne.forEachEntry(s,(i,c)=>{n(W3(i),c,l,0)}),l}return null}function Q3(s,n,l){if(ne.isString(s))try{return(n||JSON.parse)(s),ne.trim(s)}catch(i){if(i.name!=="SyntaxError")throw i}return(l||JSON.stringify)(s)}const Si={transitional:Ky,adapter:["xhr","http","fetch"],transformRequest:[function(n,l){const i=l.getContentType()||"",c=i.indexOf("application/json")>-1,u=ne.isObject(n);if(u&&ne.isHTMLForm(n)&&(n=new FormData(n)),ne.isFormData(n))return c?JSON.stringify(Qy(n)):n;if(ne.isArrayBuffer(n)||ne.isBuffer(n)||ne.isStream(n)||ne.isFile(n)||ne.isBlob(n)||ne.isReadableStream(n))return n;if(ne.isArrayBufferView(n))return n.buffer;if(ne.isURLSearchParams(n))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(u){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Y3(n,this.formSerializer).toString();if((h=ne.isFileList(n))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Vc(h?{"files[]":n}:n,f&&new f,this.formSerializer)}}return u||c?(l.setContentType("application/json",!1),Q3(n)):n}],transformResponse:[function(n){const l=this.transitional||Si.transitional,i=l&&l.forcedJSONParsing,c=this.responseType==="json";if(ne.isResponse(n)||ne.isReadableStream(n))return n;if(n&&ne.isString(n)&&(i&&!this.responseType||c)){const d=!(l&&l.silentJSONParsing)&&c;try{return JSON.parse(n,this.parseReviver)}catch(h){if(d)throw h.name==="SyntaxError"?De.from(h,De.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],s=>{Si.headers[s]={}});const X3=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Z3=s=>{const n={};let l,i,c;return s&&s.split(`
`).forEach(function(d){c=d.indexOf(":"),l=d.substring(0,c).trim().toLowerCase(),i=d.substring(c+1).trim(),!(!l||n[l]&&X3[l])&&(l==="set-cookie"?n[l]?n[l].push(i):n[l]=[i]:n[l]=n[l]?n[l]+", "+i:i)}),n},mg=Symbol("internals");function $l(s){return s&&String(s).trim().toLowerCase()}function uc(s){return s===!1||s==null?s:ne.isArray(s)?s.map(uc):String(s)}function J3(s){const n=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=l.exec(s);)n[i[1]]=i[2];return n}const e6=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function _m(s,n,l,i,c){if(ne.isFunction(i))return i.call(this,n,l);if(c&&(n=l),!!ne.isString(n)){if(ne.isString(i))return n.indexOf(i)!==-1;if(ne.isRegExp(i))return i.test(n)}}function t6(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,l,i)=>l.toUpperCase()+i)}function s6(s,n){const l=ne.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(s,i+l,{value:function(c,u,d){return this[i].call(this,n,c,u,d)},configurable:!0})})}let Qt=class{constructor(n){n&&this.set(n)}set(n,l,i){const c=this;function u(h,f,x){const p=$l(f);if(!p)throw new Error("header name must be a non-empty string");const g=ne.findKey(c,p);(!g||c[g]===void 0||x===!0||x===void 0&&c[g]!==!1)&&(c[g||f]=uc(h))}const d=(h,f)=>ne.forEach(h,(x,p)=>u(x,p,f));if(ne.isPlainObject(n)||n instanceof this.constructor)d(n,l);else if(ne.isString(n)&&(n=n.trim())&&!e6(n))d(Z3(n),l);else if(ne.isObject(n)&&ne.isIterable(n)){let h={},f,x;for(const p of n){if(!ne.isArray(p))throw TypeError("Object iterator must return a key-value pair");h[x=p[0]]=(f=h[x])?ne.isArray(f)?[...f,p[1]]:[f,p[1]]:p[1]}d(h,l)}else n!=null&&u(l,n,i);return this}get(n,l){if(n=$l(n),n){const i=ne.findKey(this,n);if(i){const c=this[i];if(!l)return c;if(l===!0)return J3(c);if(ne.isFunction(l))return l.call(this,c,i);if(ne.isRegExp(l))return l.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,l){if(n=$l(n),n){const i=ne.findKey(this,n);return!!(i&&this[i]!==void 0&&(!l||_m(this,this[i],i,l)))}return!1}delete(n,l){const i=this;let c=!1;function u(d){if(d=$l(d),d){const h=ne.findKey(i,d);h&&(!l||_m(i,i[h],h,l))&&(delete i[h],c=!0)}}return ne.isArray(n)?n.forEach(u):u(n),c}clear(n){const l=Object.keys(this);let i=l.length,c=!1;for(;i--;){const u=l[i];(!n||_m(this,this[u],u,n,!0))&&(delete this[u],c=!0)}return c}normalize(n){const l=this,i={};return ne.forEach(this,(c,u)=>{const d=ne.findKey(i,u);if(d){l[d]=uc(c),delete l[u];return}const h=n?t6(u):String(u).trim();h!==u&&delete l[u],l[h]=uc(c),i[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const l=Object.create(null);return ne.forEach(this,(i,c)=>{i!=null&&i!==!1&&(l[c]=n&&ne.isArray(i)?i.join(", "):i)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,l])=>n+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...l){const i=new this(n);return l.forEach(c=>i.set(c)),i}static accessor(n){const i=(this[mg]=this[mg]={accessors:{}}).accessors,c=this.prototype;function u(d){const h=$l(d);i[h]||(s6(c,d),i[h]=!0)}return ne.isArray(n)?n.forEach(u):u(n),this}};Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(Qt.prototype,({value:s},n)=>{let l=n[0].toUpperCase()+n.slice(1);return{get:()=>s,set(i){this[l]=i}}});ne.freezeMethods(Qt);function Mm(s,n){const l=this||Si,i=n||l,c=Qt.from(i.headers);let u=i.data;return ne.forEach(s,function(h){u=h.call(l,u,c.normalize(),n?n.status:void 0)}),c.normalize(),u}function Xy(s){return!!(s&&s.__CANCEL__)}function Yr(s,n,l){De.call(this,s??"canceled",De.ERR_CANCELED,n,l),this.name="CanceledError"}ne.inherits(Yr,De,{__CANCEL__:!0});function Zy(s,n,l){const i=l.config.validateStatus;!l.status||!i||i(l.status)?s(l):n(new De("Request failed with status code "+l.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function a6(s){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return n&&n[1]||""}function n6(s,n){s=s||10;const l=new Array(s),i=new Array(s);let c=0,u=0,d;return n=n!==void 0?n:1e3,function(f){const x=Date.now(),p=i[u];d||(d=x),l[c]=f,i[c]=x;let g=u,N=0;for(;g!==c;)N+=l[g++],g=g%s;if(c=(c+1)%s,c===u&&(u=(u+1)%s),x-d<n)return;const w=p&&x-p;return w?Math.round(N*1e3/w):void 0}}function r6(s,n){let l=0,i=1e3/n,c,u;const d=(x,p=Date.now())=>{l=p,c=null,u&&(clearTimeout(u),u=null),s(...x)};return[(...x)=>{const p=Date.now(),g=p-l;g>=i?d(x,p):(c=x,u||(u=setTimeout(()=>{u=null,d(c)},i-g)))},()=>c&&d(c)]}const yc=(s,n,l=3)=>{let i=0;const c=n6(50,250);return r6(u=>{const d=u.loaded,h=u.lengthComputable?u.total:void 0,f=d-i,x=c(f),p=d<=h;i=d;const g={loaded:d,total:h,progress:h?d/h:void 0,bytes:f,rate:x||void 0,estimated:x&&h&&p?(h-d)/x:void 0,event:u,lengthComputable:h!=null,[n?"download":"upload"]:!0};s(g)},l)},xg=(s,n)=>{const l=s!=null;return[i=>n[0]({lengthComputable:l,total:s,loaded:i}),n[1]]},hg=s=>(...n)=>ne.asap(()=>s(...n)),l6=Et.hasStandardBrowserEnv?((s,n)=>l=>(l=new URL(l,Et.origin),s.protocol===l.protocol&&s.host===l.host&&(n||s.port===l.port)))(new URL(Et.origin),Et.navigator&&/(msie|trident)/i.test(Et.navigator.userAgent)):()=>!0,i6=Et.hasStandardBrowserEnv?{write(s,n,l,i,c,u,d){if(typeof document>"u")return;const h=[`${s}=${encodeURIComponent(n)}`];ne.isNumber(l)&&h.push(`expires=${new Date(l).toUTCString()}`),ne.isString(i)&&h.push(`path=${i}`),ne.isString(c)&&h.push(`domain=${c}`),u===!0&&h.push("secure"),ne.isString(d)&&h.push(`SameSite=${d}`),document.cookie=h.join("; ")},read(s){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function o6(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function c6(s,n){return n?s.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):s}function Jy(s,n,l){let i=!o6(n);return s&&(i||l==!1)?c6(s,n):n}const fg=s=>s instanceof Qt?{...s}:s;function On(s,n){n=n||{};const l={};function i(x,p,g,N){return ne.isPlainObject(x)&&ne.isPlainObject(p)?ne.merge.call({caseless:N},x,p):ne.isPlainObject(p)?ne.merge({},p):ne.isArray(p)?p.slice():p}function c(x,p,g,N){if(ne.isUndefined(p)){if(!ne.isUndefined(x))return i(void 0,x,g,N)}else return i(x,p,g,N)}function u(x,p){if(!ne.isUndefined(p))return i(void 0,p)}function d(x,p){if(ne.isUndefined(p)){if(!ne.isUndefined(x))return i(void 0,x)}else return i(void 0,p)}function h(x,p,g){if(g in n)return i(x,p);if(g in s)return i(void 0,x)}const f={url:u,method:u,data:u,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(x,p,g)=>c(fg(x),fg(p),g,!0)};return ne.forEach(Object.keys({...s,...n}),function(p){const g=f[p]||c,N=g(s[p],n[p],p);ne.isUndefined(N)&&g!==h||(l[p]=N)}),l}const ev=s=>{const n=On({},s);let{data:l,withXSRFToken:i,xsrfHeaderName:c,xsrfCookieName:u,headers:d,auth:h}=n;if(n.headers=d=Qt.from(d),n.url=Wy(Jy(n.baseURL,n.url,n.allowAbsoluteUrls),s.params,s.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),ne.isFormData(l)){if(Et.hasStandardBrowserEnv||Et.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(ne.isFunction(l.getHeaders)){const f=l.getHeaders(),x=["content-type","content-length"];Object.entries(f).forEach(([p,g])=>{x.includes(p.toLowerCase())&&d.set(p,g)})}}if(Et.hasStandardBrowserEnv&&(i&&ne.isFunction(i)&&(i=i(n)),i||i!==!1&&l6(n.url))){const f=c&&u&&i6.read(u);f&&d.set(c,f)}return n},d6=typeof XMLHttpRequest<"u",u6=d6&&function(s){return new Promise(function(l,i){const c=ev(s);let u=c.data;const d=Qt.from(c.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:x}=c,p,g,N,w,v;function y(){w&&w(),v&&v(),c.cancelToken&&c.cancelToken.unsubscribe(p),c.signal&&c.signal.removeEventListener("abort",p)}let T=new XMLHttpRequest;T.open(c.method.toUpperCase(),c.url,!0),T.timeout=c.timeout;function A(){if(!T)return;const S=Qt.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),L={data:!h||h==="text"||h==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:S,config:s,request:T};Zy(function(D){l(D),y()},function(D){i(D),y()},L),T=null}"onloadend"in T?T.onloadend=A:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(A)},T.onabort=function(){T&&(i(new De("Request aborted",De.ECONNABORTED,s,T)),T=null)},T.onerror=function(M){const L=M&&M.message?M.message:"Network Error",B=new De(L,De.ERR_NETWORK,s,T);B.event=M||null,i(B),T=null},T.ontimeout=function(){let M=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const L=c.transitional||Ky;c.timeoutErrorMessage&&(M=c.timeoutErrorMessage),i(new De(M,L.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,s,T)),T=null},u===void 0&&d.setContentType(null),"setRequestHeader"in T&&ne.forEach(d.toJSON(),function(M,L){T.setRequestHeader(L,M)}),ne.isUndefined(c.withCredentials)||(T.withCredentials=!!c.withCredentials),h&&h!=="json"&&(T.responseType=c.responseType),x&&([N,v]=yc(x,!0),T.addEventListener("progress",N)),f&&T.upload&&([g,w]=yc(f),T.upload.addEventListener("progress",g),T.upload.addEventListener("loadend",w)),(c.cancelToken||c.signal)&&(p=S=>{T&&(i(!S||S.type?new Yr(null,s,T):S),T.abort(),T=null)},c.cancelToken&&c.cancelToken.subscribe(p),c.signal&&(c.signal.aborted?p():c.signal.addEventListener("abort",p)));const E=a6(c.url);if(E&&Et.protocols.indexOf(E)===-1){i(new De("Unsupported protocol "+E+":",De.ERR_BAD_REQUEST,s));return}T.send(u||null)})},m6=(s,n)=>{const{length:l}=s=s?s.filter(Boolean):[];if(n||l){let i=new AbortController,c;const u=function(x){if(!c){c=!0,h();const p=x instanceof Error?x:this.reason;i.abort(p instanceof De?p:new Yr(p instanceof Error?p.message:p))}};let d=n&&setTimeout(()=>{d=null,u(new De(`timeout ${n} of ms exceeded`,De.ETIMEDOUT))},n);const h=()=>{s&&(d&&clearTimeout(d),d=null,s.forEach(x=>{x.unsubscribe?x.unsubscribe(u):x.removeEventListener("abort",u)}),s=null)};s.forEach(x=>x.addEventListener("abort",u));const{signal:f}=i;return f.unsubscribe=()=>ne.asap(h),f}},x6=function*(s,n){let l=s.byteLength;if(l<n){yield s;return}let i=0,c;for(;i<l;)c=i+n,yield s.slice(i,c),i=c},h6=async function*(s,n){for await(const l of f6(s))yield*x6(l,n)},f6=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const n=s.getReader();try{for(;;){const{done:l,value:i}=await n.read();if(l)break;yield i}}finally{await n.cancel()}},pg=(s,n,l,i)=>{const c=h6(s,n);let u=0,d,h=f=>{d||(d=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:x,value:p}=await c.next();if(x){h(),f.close();return}let g=p.byteLength;if(l){let N=u+=g;l(N)}f.enqueue(new Uint8Array(p))}catch(x){throw h(x),x}},cancel(f){return h(f),c.return()}},{highWaterMark:2})},bg=64*1024,{isFunction:Zo}=ne,p6=(({Request:s,Response:n})=>({Request:s,Response:n}))(ne.global),{ReadableStream:gg,TextEncoder:jg}=ne.global,yg=(s,...n)=>{try{return!!s(...n)}catch{return!1}},b6=s=>{s=ne.merge.call({skipUndefined:!0},p6,s);const{fetch:n,Request:l,Response:i}=s,c=n?Zo(n):typeof fetch=="function",u=Zo(l),d=Zo(i);if(!c)return!1;const h=c&&Zo(gg),f=c&&(typeof jg=="function"?(v=>y=>v.encode(y))(new jg):async v=>new Uint8Array(await new l(v).arrayBuffer())),x=u&&h&&yg(()=>{let v=!1;const y=new l(Et.origin,{body:new gg,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!y}),p=d&&h&&yg(()=>ne.isReadableStream(new i("").body)),g={stream:p&&(v=>v.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!g[v]&&(g[v]=(y,T)=>{let A=y&&y[v];if(A)return A.call(y);throw new De(`Response type '${v}' is not supported`,De.ERR_NOT_SUPPORT,T)})});const N=async v=>{if(v==null)return 0;if(ne.isBlob(v))return v.size;if(ne.isSpecCompliantForm(v))return(await new l(Et.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(v)||ne.isArrayBuffer(v))return v.byteLength;if(ne.isURLSearchParams(v)&&(v=v+""),ne.isString(v))return(await f(v)).byteLength},w=async(v,y)=>{const T=ne.toFiniteNumber(v.getContentLength());return T??N(y)};return async v=>{let{url:y,method:T,data:A,signal:E,cancelToken:S,timeout:M,onDownloadProgress:L,onUploadProgress:B,responseType:D,headers:C,withCredentials:R="same-origin",fetchOptions:$}=ev(v),q=n||fetch;D=D?(D+"").toLowerCase():"text";let P=m6([E,S&&S.toAbortSignal()],M),V=null;const K=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let W;try{if(B&&x&&T!=="get"&&T!=="head"&&(W=await w(C,A))!==0){let _=new l(y,{method:"POST",body:A,duplex:"half"}),I;if(ne.isFormData(A)&&(I=_.headers.get("content-type"))&&C.setContentType(I),_.body){const[ae,de]=xg(W,yc(hg(B)));A=pg(_.body,bg,ae,de)}}ne.isString(R)||(R=R?"include":"omit");const z=u&&"credentials"in l.prototype,H={...$,signal:P,method:T.toUpperCase(),headers:C.normalize().toJSON(),body:A,duplex:"half",credentials:z?R:void 0};V=u&&new l(y,H);let F=await(u?q(V,$):q(y,H));const le=p&&(D==="stream"||D==="response");if(p&&(L||le&&K)){const _={};["status","statusText","headers"].forEach(he=>{_[he]=F[he]});const I=ne.toFiniteNumber(F.headers.get("content-length")),[ae,de]=L&&xg(I,yc(hg(L),!0))||[];F=new i(pg(F.body,bg,ae,()=>{de&&de(),K&&K()}),_)}D=D||"text";let oe=await g[ne.findKey(g,D)||"text"](F,v);return!le&&K&&K(),await new Promise((_,I)=>{Zy(_,I,{data:oe,headers:Qt.from(F.headers),status:F.status,statusText:F.statusText,config:v,request:V})})}catch(z){throw K&&K(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,v,V),{cause:z.cause||z}):De.from(z,z&&z.code,v,V)}}},g6=new Map,tv=s=>{let n=s&&s.env||{};const{fetch:l,Request:i,Response:c}=n,u=[i,c,l];let d=u.length,h=d,f,x,p=g6;for(;h--;)f=u[h],x=p.get(f),x===void 0&&p.set(f,x=h?new Map:b6(n)),p=x;return x};tv();const ih={http:R3,xhr:u6,fetch:{get:tv}};ne.forEach(ih,(s,n)=>{if(s){try{Object.defineProperty(s,"name",{value:n})}catch{}Object.defineProperty(s,"adapterName",{value:n})}});const vg=s=>`- ${s}`,j6=s=>ne.isFunction(s)||s===null||s===!1;function y6(s,n){s=ne.isArray(s)?s:[s];const{length:l}=s;let i,c;const u={};for(let d=0;d<l;d++){i=s[d];let h;if(c=i,!j6(i)&&(c=ih[(h=String(i)).toLowerCase()],c===void 0))throw new De(`Unknown adapter '${h}'`);if(c&&(ne.isFunction(c)||(c=c.get(n))))break;u[h||"#"+d]=c}if(!c){const d=Object.entries(u).map(([f,x])=>`adapter ${f} `+(x===!1?"is not supported by the environment":"is not available in the build"));let h=l?d.length>1?`since :
`+d.map(vg).join(`
`):" "+vg(d[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const sv={getAdapter:y6,adapters:ih};function Lm(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Yr(null,s)}function Ng(s){return Lm(s),s.headers=Qt.from(s.headers),s.data=Mm.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),sv.getAdapter(s.adapter||Si.adapter,s)(s).then(function(i){return Lm(s),i.data=Mm.call(s,s.transformResponse,i),i.headers=Qt.from(i.headers),i},function(i){return Xy(i)||(Lm(s),i&&i.response&&(i.response.data=Mm.call(s,s.transformResponse,i.response),i.response.headers=Qt.from(i.response.headers))),Promise.reject(i)})}const av="1.13.2",$c={};["object","boolean","number","function","string","symbol"].forEach((s,n)=>{$c[s]=function(i){return typeof i===s||"a"+(n<1?"n ":" ")+s}});const wg={};$c.transitional=function(n,l,i){function c(u,d){return"[Axios v"+av+"] Transitional option '"+u+"'"+d+(i?". "+i:"")}return(u,d,h)=>{if(n===!1)throw new De(c(d," has been removed"+(l?" in "+l:"")),De.ERR_DEPRECATED);return l&&!wg[d]&&(wg[d]=!0,console.warn(c(d," has been deprecated since v"+l+" and will be removed in the near future"))),n?n(u,d,h):!0}};$c.spelling=function(n){return(l,i)=>(console.warn(`${i} is likely a misspelling of ${n}`),!0)};function v6(s,n,l){if(typeof s!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const i=Object.keys(s);let c=i.length;for(;c-- >0;){const u=i[c],d=n[u];if(d){const h=s[u],f=h===void 0||d(h,u,s);if(f!==!0)throw new De("option "+u+" must be "+f,De.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new De("Unknown option "+u,De.ERR_BAD_OPTION)}}const mc={assertOptions:v6,validators:$c},Rs=mc.validators;let Ln=class{constructor(n){this.defaults=n||{},this.interceptors={request:new ug,response:new ug}}async request(n,l){try{return await this._request(n,l)}catch(i){if(i instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const u=c.stack?c.stack.replace(/^.+\n/,""):"";try{i.stack?u&&!String(i.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+u):i.stack=u}catch{}}throw i}}_request(n,l){typeof n=="string"?(l=l||{},l.url=n):l=n||{},l=On(this.defaults,l);const{transitional:i,paramsSerializer:c,headers:u}=l;i!==void 0&&mc.assertOptions(i,{silentJSONParsing:Rs.transitional(Rs.boolean),forcedJSONParsing:Rs.transitional(Rs.boolean),clarifyTimeoutError:Rs.transitional(Rs.boolean)},!1),c!=null&&(ne.isFunction(c)?l.paramsSerializer={serialize:c}:mc.assertOptions(c,{encode:Rs.function,serialize:Rs.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),mc.assertOptions(l,{baseUrl:Rs.spelling("baseURL"),withXsrfToken:Rs.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let d=u&&ne.merge(u.common,u[l.method]);u&&ne.forEach(["delete","get","head","post","put","patch","common"],v=>{delete u[v]}),l.headers=Qt.concat(d,u);const h=[];let f=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(l)===!1||(f=f&&y.synchronous,h.unshift(y.fulfilled,y.rejected))});const x=[];this.interceptors.response.forEach(function(y){x.push(y.fulfilled,y.rejected)});let p,g=0,N;if(!f){const v=[Ng.bind(this),void 0];for(v.unshift(...h),v.push(...x),N=v.length,p=Promise.resolve(l);g<N;)p=p.then(v[g++],v[g++]);return p}N=h.length;let w=l;for(;g<N;){const v=h[g++],y=h[g++];try{w=v(w)}catch(T){y.call(this,T);break}}try{p=Ng.call(this,w)}catch(v){return Promise.reject(v)}for(g=0,N=x.length;g<N;)p=p.then(x[g++],x[g++]);return p}getUri(n){n=On(this.defaults,n);const l=Jy(n.baseURL,n.url,n.allowAbsoluteUrls);return Wy(l,n.params,n.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(n){Ln.prototype[n]=function(l,i){return this.request(On(i||{},{method:n,url:l,data:(i||{}).data}))}});ne.forEach(["post","put","patch"],function(n){function l(i){return function(u,d,h){return this.request(On(h||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:u,data:d}))}}Ln.prototype[n]=l(),Ln.prototype[n+"Form"]=l(!0)});let N6=class nv{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(u){l=u});const i=this;this.promise.then(c=>{if(!i._listeners)return;let u=i._listeners.length;for(;u-- >0;)i._listeners[u](c);i._listeners=null}),this.promise.then=c=>{let u;const d=new Promise(h=>{i.subscribe(h),u=h}).then(c);return d.cancel=function(){i.unsubscribe(u)},d},n(function(u,d,h){i.reason||(i.reason=new Yr(u,d,h),l(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const l=this._listeners.indexOf(n);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const n=new AbortController,l=i=>{n.abort(i)};return this.subscribe(l),n.signal.unsubscribe=()=>this.unsubscribe(l),n.signal}static source(){let n;return{token:new nv(function(c){n=c}),cancel:n}}};function w6(s){return function(l){return s.apply(null,l)}}function S6(s){return ne.isObject(s)&&s.isAxiosError===!0}const Ox={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ox).forEach(([s,n])=>{Ox[n]=s});function rv(s){const n=new Ln(s),l=Oy(Ln.prototype.request,n);return ne.extend(l,Ln.prototype,n,{allOwnKeys:!0}),ne.extend(l,n,null,{allOwnKeys:!0}),l.create=function(c){return rv(On(s,c))},l}const tt=rv(Si);tt.Axios=Ln;tt.CanceledError=Yr;tt.CancelToken=N6;tt.isCancel=Xy;tt.VERSION=av;tt.toFormData=Vc;tt.AxiosError=De;tt.Cancel=tt.CanceledError;tt.all=function(n){return Promise.all(n)};tt.spread=w6;tt.isAxiosError=S6;tt.mergeConfig=On;tt.AxiosHeaders=Qt;tt.formToJSON=s=>Qy(ne.isHTMLForm(s)?new FormData(s):s);tt.getAdapter=sv.getAdapter;tt.HttpStatusCode=Ox;tt.default=tt;const{Axios:gE,AxiosError:jE,CanceledError:yE,isCancel:vE,CancelToken:NE,VERSION:wE,all:SE,Cancel:CE,isAxiosError:kE,spread:TE,toFormData:AE,AxiosHeaders:EE,HttpStatusCode:DE,formToJSON:_E,getAdapter:ME,mergeConfig:LE}=tt,C6="http://localhost:3001",k6="/api/v1",J=tt.create({baseURL:`${C6}${k6}/admin`,timeout:3e4,headers:{"Content-Type":"application/json"},withCredentials:!0});J.interceptors.request.use(s=>{const n=localStorage.getItem("admin_selector"),l=localStorage.getItem("admin_token");return n&&l&&s.headers&&(s.headers.Authorization=`Bearer ${n}`),s},s=>Promise.reject(s));J.interceptors.response.use(s=>s,async s=>{if(s.response?.status===401)return localStorage.removeItem("admin_token"),localStorage.removeItem("admin_selector"),localStorage.removeItem("admin_user"),localStorage.removeItem("admin-storage"),U.error(" "),setTimeout(()=>{window.location.replace("/admin/login")},500),Promise.reject(s);const n=s.response?.data?.message||" ";return[400,404,422].includes(s.response?.status||0)||U.error(n),Promise.reject(s)});const Bm={login:async s=>(await J.post("/login",s)).data.data,logout:async()=>{await J.post("/logout"),localStorage.removeItem("admin_token"),localStorage.removeItem("admin_selector"),localStorage.removeItem("admin_user")},getCurrentAdmin:async()=>(await J.get("/me")).data.data},Sg={getStats:async s=>(await J.get("/dashboard/stats",{params:{period:s}})).data.data,getRecentTransactions:async(s=10)=>(await J.get("/dashboard/transactions/recent",{params:{limit:s}})).data.data},lv={addCredit:async s=>(await J.post("/credit/add",s)).data.data,deductCredit:async s=>(await J.post("/credit/deduct",s)).data.data,getMemberCreditHistory:async(s,n=1,l=20)=>(await J.get(`/credit/members/${s}/history`,{params:{page:n,pageSize:l}})).data.data,getCreditStats:async(s,n)=>(await J.get("/credit/stats",{params:{startDate:s,endDate:n}})).data.data},Jl={getDeposits:async s=>(await J.get("/deposits",{params:s})).data.data,getPendingDeposits:async(s=1,n=20)=>(await J.get("/deposits/pending",{params:{page:s,pageSize:n}})).data.data,getDepositDetails:async s=>(await J.get(`/deposits/${s}`)).data.data,approveDeposit:async(s,n)=>(await J.post(`/deposits/${s}/approve`,n)).data.data,rejectDeposit:async(s,n)=>(await J.post(`/deposits/${s}/reject`,n)).data.data,bulkApproveDeposits:async(s,n)=>(await J.post("/deposits/bulk-approve",{depositIds:s,pinCode:n})).data.data,getDepositHistory:async s=>(await J.get("/deposits/history",{params:s})).data.data},T6={getWithdrawals:async s=>(await J.get("/withdrawals",{params:s})).data.data,getPendingWithdrawals:async(s=1,n=20)=>(await J.get("/withdrawals/pending",{params:{page:s,pageSize:n}})).data.data,getWithdrawalDetails:async s=>(await J.get(`/withdrawals/${s}`)).data.data,approveWithdrawal:async(s,n)=>(await J.post(`/withdrawals/${s}/approve`,n)).data.data,rejectWithdrawal:async(s,n)=>(await J.post(`/withdrawals/${s}/reject`,n)).data.data,bulkApproveWithdrawals:async(s,n)=>(await J.post("/withdrawals/bulk-approve",{withdrawalIds:s,...n})).data.data,getWithdrawalHistory:async s=>(await J.get("/withdrawals/history",{params:s})).data.data},Ts={listMembers:async s=>{const n={};return s.page&&s.pageSize&&(n.limit=s.pageSize,n.offset=(s.page-1)*s.pageSize),s.search&&(n.search=s.search),s.status&&(n.status=s.status),s.startDate&&(n.startDate=s.startDate),s.endDate&&(n.endDate=s.endDate),s.sortBy&&(n.sortBy=s.sortBy),s.sortOrder&&(n.sortOrder=s.sortOrder),(await J.get("/members",{params:n})).data.data},getMemberDetails:async s=>(await J.get(`/members/${s}`)).data.data,createMember:async s=>(await J.post("/members",s)).data.data,updateMember:async(s,n)=>(await J.put(`/members/${s}`,n)).data.data,updateMemberStatus:async(s,n)=>(await J.put(`/members/${s}/status`,{status:n})).data.data,resetMemberPassword:async(s,n)=>(await J.post(`/members/${s}/reset-password`,{newPassword:n})).data.data,getMemberTransactions:async(s,n=1,l=20)=>(await J.get(`/members/${s}/transactions`,{params:{page:n,pageSize:l}})).data.data,getMemberGameHistory:async(s,n)=>(await J.get(`/members/${s}/game-history`,{params:n})).data.data},Rm={getCashbackList:async s=>(await J.get("/cashback",{params:s})).data.data,approveCashback:async(s,n)=>(await J.post(`/cashback/${s}/approve`,n||{})).data.data,cancelCashback:async s=>(await J.post(`/cashback/${s}/cancel`)).data.data,calculateCashback:async s=>(await J.post("/cashback/calculate",s)).data.data,getCashbackSettings:async()=>(await J.get("/cashback/settings")).data.data,updateCashbackSettings:async s=>(await J.put("/cashback/settings",s)).data.data},A6={uploadSlip:async s=>{const n=new FormData;return n.append("file",s),(await J.post("/upload/slip",n,{headers:{"Content-Type":"multipart/form-data"}})).data.data}},_t={getTransferLogs:async s=>(await J.get("/transfers/logs",{params:s})).data.data,getPendingTransfers:async s=>(await J.get("/pending/transfers",{params:s})).data.data,reconcileTransfer:async(s,n)=>(await J.post(`/pending/transfers/${s}/reconcile`,{remark:n})).data,refundTransfer:async(s,n,l)=>(await J.post(`/pending/transfers/${s}/refund`,{amount:n,reason:l})).data,getSCBStatements:async s=>(await J.get("/pending/scb",{params:s})).data.data,getPendingDepositsForSCB:async s=>(await J.get("/pending/scb/deposits",{params:s})).data.data,matchSCBDeposit:async s=>(await J.post("/pending/scb/match",s)).data,unmatchSCBDeposit:async s=>(await J.post(`/pending/scb/${s}/unmatch`)).data,getTrueWalletStatements:async s=>(await J.get("/pending/truewallet",{params:s})).data.data,getPendingDepositsForTrueWallet:async s=>(await J.get("/pending/truewallet/deposits",{params:s})).data.data,matchTrueWalletDeposit:async s=>(await J.post("/pending/truewallet/match",s)).data,unmatchTrueWalletDeposit:async s=>(await J.post(`/pending/truewallet/${s}/unmatch`)).data,getKBANKStatements:async s=>(await J.get("/pending/kbank",{params:s})).data.data,getPendingDepositsForKBANK:async s=>(await J.get("/pending/kbank/deposits",{params:s})).data.data,matchKBANKDeposit:async s=>(await J.post("/pending/kbank/match",s)).data,unmatchKBANKDeposit:async s=>(await J.post(`/pending/kbank/${s}/unmatch`)).data},Bn={getProfitReport:async s=>(await J.get("/reports/profit",{params:s})).data.data,getProfitSummary:async s=>(await J.get("/reports/profit/summary",{params:s})).data.data,getDailyProfitReport:async s=>(await J.get("/reports/profit/daily",{params:s})).data.data,getBankSCBReport:async s=>(await J.get("/reports/bank-scb",{params:s})).data.data,getPincodeReport:async s=>(await J.get("/reports/pincode",{params:s})).data.data,getReviews:async s=>(await J.get("/reports/reviews",{params:s})).data.data,approveReview:async(s,n)=>(await J.post(`/reports/reviews/${s}/approve`,{isDisplayed:n})).data,rejectReview:async(s,n)=>(await J.post(`/reports/reviews/${s}/reject`,{reason:n})).data},Er={getAllStaff:async s=>(await J.get("/system/staff",{params:s})).data.data,getStaffByID:async s=>(await J.get(`/system/staff/${s}`)).data.data,createStaff:async s=>(await J.post("/system/staff",s)).data.data,updateStaff:async(s,n)=>(await J.put(`/system/staff/${s}`,n)).data.data,updateStaffStatus:async(s,n)=>(await J.put(`/system/staff/${s}/status`,n)).data,deleteStaff:async s=>(await J.delete(`/system/staff/${s}`)).data,resetPassword:async(s,n)=>(await J.post(`/system/staff/${s}/reset-password`,n)).data},E6={getAdminLogs:async s=>(await J.get("/system/logs",{params:s})).data.data},Il={getAllGames:async s=>(await J.get("/system/games",{params:s})).data.data,getGameByID:async s=>(await J.get(`/system/games/${s}`)).data.data,updateGame:async(s,n)=>(await J.put(`/system/games/${s}`,n)).data.data,toggleGameStatus:async s=>(await J.post(`/system/games/${s}/toggle`)).data.data},xi=$5()(K5((s,n)=>({admin:null,token:null,isAuthenticated:!1,isLoading:!1,login:async l=>{try{s({isLoading:!0});const i=await Bm.login(l),c=i.selector;localStorage.setItem("admin_selector",c),localStorage.setItem("admin_token",i.token),localStorage.setItem("admin_user",JSON.stringify(i.admin)),s({admin:i.admin,token:c,isAuthenticated:!0,isLoading:!1}),U.success(` ${i.admin.name||i.admin.username}`)}catch(i){s({isLoading:!1});const c=i.response?.data?.message||"";throw U.error(c),i}},logout:async()=>{try{await Bm.logout()}catch{}finally{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_selector"),localStorage.removeItem("admin_user"),s({admin:null,token:null,isAuthenticated:!1}),U.success("")}},getCurrentAdmin:async()=>{try{s({isLoading:!0});const l=await Bm.getCurrentAdmin();s({admin:l,isAuthenticated:!0,isLoading:!1})}catch{s({admin:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("admin_token"),localStorage.removeItem("admin_selector"),localStorage.removeItem("admin_user")}},setAdmin:l=>{s({admin:l,isAuthenticated:!!l})},setToken:l=>{s({token:l}),l?localStorage.setItem("admin_selector",l):localStorage.removeItem("admin_selector")}}),{name:"admin-storage",partialize:s=>({admin:s.admin,token:s.token,isAuthenticated:s.isAuthenticated})})),iv="http://localhost:3001",ov="/api/v1",ke=tt.create({baseURL:`${iv}${ov}/admin`,timeout:3e4,headers:{"Content-Type":"application/json"},withCredentials:!0}),Jo=tt.create({baseURL:`${iv}${ov}`,timeout:3e4,headers:{"Content-Type":"application/json"},withCredentials:!0});ke.interceptors.request.use(s=>{const n=localStorage.getItem("admin_selector"),l=localStorage.getItem("admin_token");return n&&l&&s.headers&&(s.headers.Authorization=`Bearer ${n}:${l}`),s},s=>Promise.reject(s));ke.interceptors.response.use(s=>s,async s=>{if(s.response?.status===401)return localStorage.removeItem("admin_token"),localStorage.removeItem("admin_selector"),localStorage.removeItem("admin_user"),localStorage.removeItem("admin-storage"),U.error(" "),setTimeout(()=>{window.location.replace("/login")},500),Promise.reject(s);const n=s.response?.data?.message||" ";return[400,404,422].includes(s.response?.status||0)||U.error(n),Promise.reject(s)});const Rt={getPromotions:(s="home")=>Jo.get(`/public/promotions?location=${s}`),getGameCategories:()=>Jo.get("/public/game-categories"),getGameProviders:s=>Jo.get(`/public/game-providers${s?"?featured=true":""}`),getSiteSettings:()=>Jo.get("/public/settings"),admin:{getSiteImages:s=>ke.get("/site-images",{params:s}),getSiteImageByID:s=>ke.get(`/site-images/${s}`),uploadImage:s=>ke.post("/site-images/upload",s,{headers:{"Content-Type":"multipart/form-data"}}),updateImage:(s,n)=>ke.put(`/site-images/${s}`,n),deleteImage:s=>ke.delete(`/site-images/${s}`),getImageCategories:()=>ke.get("/site-images/categories"),getPromotionBanners:s=>ke.get(`/promotion-banners${s?`?location=${s}`:""}`),getPromotionBannerByID:s=>ke.get(`/promotion-banners/${s}`),createPromotionBanner:s=>ke.post("/promotion-banners",s),updatePromotionBanner:(s,n)=>ke.put(`/promotion-banners/${s}`,n),deletePromotionBanner:s=>ke.delete(`/promotion-banners/${s}`),getGameCategories:s=>ke.get(`/game-categories${s!==void 0?`?is_active=${s}`:""}`),getGameCategoryByID:s=>ke.get(`/game-categories/${s}`),createGameCategory:s=>ke.post("/game-categories",s),updateGameCategory:(s,n)=>ke.put(`/game-categories/${s}`,n),deleteGameCategory:s=>ke.delete(`/game-categories/${s}`),getGameProviders:s=>ke.get("/game-providers",{params:s}),getGameProviderByID:s=>ke.get(`/game-providers/${s}`),createGameProvider:s=>ke.post("/game-providers",s),updateGameProvider:(s,n)=>ke.put(`/game-providers/${s}`,n),deleteGameProvider:s=>ke.delete(`/game-providers/${s}`),getSiteSettings:s=>ke.get(`/site-settings${s?`?group_name=${s}`:""}`),getSiteSettingByKey:s=>ke.get(`/site-settings/${s}`),updateSiteSettings:s=>ke.post("/site-settings/bulk-update",s)}},D6=tt.create({baseURL:"http://localhost:3000/api/v1/member/chat",headers:{"Content-Type":"application/json"}});D6.interceptors.request.use(s=>{const n=localStorage.getItem("memberToken");return n&&(s.headers.Authorization=`Bearer ${n}`),s});const Mr={getRooms:()=>J.get("/chat/rooms"),getRoomMessages:s=>J.get(`/chat/rooms/${s}`),uploadImage:s=>{const n=new FormData;return n.append("image",s),J.post("/chat/upload",n,{headers:{"Content-Type":"multipart/form-data"}})},sendMessage:(s,n,l)=>J.post(`/chat/rooms/${s}/send`,{message:n,imageUrl:l}),markAsRead:s=>J.post(`/chat/rooms/${s}/mark-read`),deleteRoom:s=>J.delete(`/chat/rooms/${s}`)};var cv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cg=Ut.createContext&&Ut.createContext(cv),Qa=function(){return Qa=Object.assign||function(s){for(var n,l=1,i=arguments.length;l<i;l++){n=arguments[l];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(s[c]=n[c])}return s},Qa.apply(this,arguments)},_6=function(s,n){var l={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&n.indexOf(i)<0&&(l[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(s);c<i.length;c++)n.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(s,i[c])&&(l[i[c]]=s[i[c]]);return l};function dv(s){return s&&s.map(function(n,l){return Ut.createElement(n.tag,Qa({key:l},n.attr),dv(n.child))})}function me(s){return function(n){return Ut.createElement(M6,Qa({attr:Qa({},s.attr)},n),dv(s.child))}}function M6(s){var n=function(l){var i=s.attr,c=s.size,u=s.title,d=_6(s,["attr","size","title"]),h=c||l.size||"1em",f;return l.className&&(f=l.className),s.className&&(f=(f?f+" ":"")+s.className),Ut.createElement("svg",Qa({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},l.attr,i,d,{className:f,style:Qa(Qa({color:s.color||l.color},l.style),s.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),u&&Ut.createElement("title",null,u),s.children)};return Cg!==void 0?Ut.createElement(Cg.Consumer,null,function(l){return n(l)}):n(cv)}function L6(s){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"}}]})(s)}function B6(s){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(s)}function R6(s){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"}}]})(s)}function ai(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"}}]})(s)}function zx(s){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(s)}function Dn(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(s)}function ma(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(s)}function O6(s){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(s)}function z6(s){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"}}]})(s)}function P6(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"}}]})(s)}function Ur(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(s)}function Ic(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"}}]})(s)}function ni(s){return me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(s)}function zn(s){return me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(s)}function kg(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"}}]})(s)}function uv(s){return me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(s)}function oh(s){return me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(s)}function U6(s){return me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(s)}function mv(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(s)}function F6(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"}}]})(s)}function Wa(s){return me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"}}]})(s)}function Tg(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"}}]})(s)}function xv(s){return me({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"}}]})(s)}function Pn(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(s)}function Ag(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"}}]})(s)}function ch(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(s)}function hv(s){return me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(s)}function H6(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(s)}function V6(s){return me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M109.25 173.25c24.99-24.99 24.99-65.52 0-90.51-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 25 25 65.52 25 90.51 0zm256 165.49c-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 24.99 24.99 65.52 24.99 90.51 0 25-24.99 25-65.51 0-90.51zm-1.94-231.43l-22.62-22.62c-12.5-12.5-32.76-12.5-45.25 0L20.69 359.44c-12.5 12.5-12.5 32.76 0 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.25 0l274.75-274.75c12.5-12.49 12.5-32.75 0-45.25z"}}]})(s)}function $6(s){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(s)}function dh(s){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(s)}function I6(s){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(s)}function Ci(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(s)}function Ot(s){return me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(s)}function G6(s){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"}}]})(s)}function uh(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"}}]})(s)}function Om(s){return me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"}}]})(s)}function hi(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(s)}function Dt(s){return me({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(s)}function Un(s){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(s)}function zm(s){return me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"}}]})(s)}function q6(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"}}]})(s)}function Pm(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(s)}function Y6(s){return me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"}}]})(s)}function fv(s){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(s)}function W6(s){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"}}]})(s)}function K6(s){return me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"}}]})(s)}const Q6=()=>{const s=kt(),[n,l]=j.useState([]),[i,c]=j.useState(!1),[u,d]=j.useState(0);j.useEffect(()=>{h();const p=setInterval(h,5e3);return()=>clearInterval(p)},[]),j.useEffect(()=>{const p=n.reduce((g,N)=>g+N.unreadCount,0);p>u&&u>0&&pt("",{icon:"",duration:3e3}),d(p)},[n]);const h=async()=>{try{const p=await Mr.getRooms();p.data.success&&l(p.data.data)}catch(p){console.error("Failed to load chat rooms:",p)}},f=()=>{s("/admin/chat"),c(!1)},x=n.filter(p=>p.unreadCount>0);return u===0?null:e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>c(!i),className:"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white shadow-2xl hover:scale-110 transition-transform duration-300 z-50",title:"",children:[e.jsx(ni,{className:"text-2xl"}),u>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center",children:u>9?"9+":u})]}),i&&e.jsxs("div",{className:"fixed bottom-24 right-6 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 z-50 max-h-96 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx(ni,{}),e.jsxs("span",{className:"font-bold",children:[" (",u,")"]})]}),e.jsx("button",{onClick:()=>c(!1),className:"text-white hover:text-gray-200 transition-colors",children:e.jsx(Dt,{})})]}),e.jsx("div",{className:"overflow-y-auto flex-1",children:x.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:""}):e.jsx("div",{className:"divide-y divide-gray-200",children:x.map(p=>e.jsxs("button",{onClick:f,className:"w-full p-4 hover:bg-blue-50 transition-colors text-left",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-semibold text-gray-800",children:p.memberFullname||p.memberPhone}),e.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:p.unreadCount})]}),e.jsx("div",{className:"text-sm text-gray-500",children:p.memberPhone})]},p.id))})}),e.jsx("div",{className:"border-t border-gray-200 p-3",children:e.jsx("button",{onClick:f,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-semibold transition-colors",children:""})})]})]})};function Px(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(s)}function Ft(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(s)}function zr(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(s)}function pv(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"polyline",attr:{points:"19 12 12 19 5 12"}}]})(s)}function ki(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(s)}function bv(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"}},{tag:"polyline",attr:{points:"5 12 12 5 19 12"}}]})(s)}function os(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"}},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"}}]})(s)}function gv(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"}}]})(s)}function xc(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"}}]})(s)}function yt(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(s)}function Fe(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(s)}function zs(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(s)}function X6(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(s)}function Z6(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(s)}function J6(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(s)}function Qe(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(s)}function Eg(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}}]})(s)}function Gc(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"}}]})(s)}function ze(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(s)}function Fr(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(s)}function Ti(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(s)}function qc(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(s)}function eS(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(s)}function xa(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(s)}function vc(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(s)}function Fs(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(s)}function tS(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}}]})(s)}function zt(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"}},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"}},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"}},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"}}]})(s)}function sS(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(s)}function aS(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(s)}function ia(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(s)}function Nc(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"}}]})(s)}function mh(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}}]})(s)}function ri(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"}}]})(s)}function Ai(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(s)}function Dg(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(s)}function nS(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(s)}function rS(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}}]})(s)}function jv(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(s)}function yv(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"}},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"}},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"}}]})(s)}function lS(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(s)}function iS(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"}}]})(s)}function vv(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(s)}function Yc(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(s)}function dt(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(s)}function Nv(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 1 21 5 17 9"}},{tag:"path",attr:{d:"M3 11V9a4 4 0 0 1 4-4h14"}},{tag:"polyline",attr:{points:"7 23 3 19 7 15"}},{tag:"path",attr:{d:"M21 13v2a4 4 0 0 1-4 4H3"}}]})(s)}function ha(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(s)}function Ja(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(s)}function ei(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"}},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"}}]})(s)}function Wc(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(s)}function Kc(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}}]})(s)}function oS(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}}]})(s)}function wc(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(s)}function wv(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"}},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"}}]})(s)}function Sv(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"}},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"}}]})(s)}function Fn(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(s)}function Pt(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"}},{tag:"polyline",attr:{points:"17 18 23 18 23 12"}}]})(s)}function Mt(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(s)}function cS(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"}}]})(s)}function Xa(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(s)}function Sc(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(s)}function dS(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"}},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"}}]})(s)}function Cc(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(s)}function As(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(s)}function fa(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}}]})(s)}function We(s){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(s)}function uS(){const s=an(),n=kt(),{admin:l,logout:i}=xi(),[c,u]=j.useState(!0),[d,h]=j.useState(null),[f,x]=j.useState("bicycle678");j.useEffect(()=>{(async()=>{try{const T=(await Rt.getSiteSettings()).data.data;T.site_name&&x(T.site_name)}catch(y){console.error("Failed to load site settings:",y)}})()},[]);const p=[{name:"Dashboard",path:"/admin/dashboard",icon:e.jsx(aS,{className:"w-5 h-5"})},{name:"/",path:"/admin/transactions",icon:e.jsx(ze,{className:"w-5 h-5"}),children:[{name:"",path:"/admin/deposits/pending",icon:null},{name:"",path:"/admin/withdrawals/pending",icon:null},{name:"",path:"/admin/cashback",icon:null}]},{name:"",path:"/admin/pending",icon:e.jsx(Fs,{className:"w-5 h-5"}),children:[{name:" SCB",path:"/admin/deposits/pending-scb",icon:null,badge:0},{name:" TrueWallet",path:"/admin/deposits/pending-truewallet",icon:null,badge:0},{name:" KBANK",path:"/admin/deposits/pending-kbank",icon:null,badge:0},{name:"",path:"/admin/deposits/pending",icon:null,badge:0},{name:"",path:"/admin/withdrawals/pending",icon:null,badge:0},{name:" ",path:"/admin/transfers/pending",icon:null,badge:0}]},{name:"",path:"/admin/customers",icon:e.jsx(As,{className:"w-5 h-5"}),children:[{name:"",path:"/admin/customers/today",icon:null},{name:"",path:"/admin/members",icon:null},{name:"",path:"/admin/transfers/log",icon:null},{name:"",path:"/admin/chat",icon:e.jsx(rS,{className:"w-4 h-4"})}]},{name:"",path:"/admin/lottery",icon:e.jsx(os,{className:"w-5 h-5"}),children:[{name:"",path:"/admin/lottery",icon:null},{name:"",path:"/admin/lottery/daily",icon:null},{name:"",path:"/admin/lottery/bets",icon:null}]},{name:"/",path:"/admin/reports",icon:e.jsx(gv,{className:"w-5 h-5"}),children:[{name:"",path:"/admin/reports/profit",icon:null},{name:" SCB",path:"/admin/reports/bank-scb",icon:null},{name:" Pincode",path:"/admin/reports/pincode",icon:null},{name:"",path:"/admin/games/reviews",icon:null}]},{name:"",path:"/admin/turnover",icon:e.jsx(Nv,{className:"w-5 h-5"}),children:[{name:"",path:"/admin/turnover/overview",icon:null},{name:"",path:"/admin/turnover/members",icon:null},{name:"",path:"/admin/turnover/redemptions",icon:null},{name:"",path:"/admin/turnover/settings",icon:null}]},{name:"",path:"/admin/site",icon:e.jsx(ia,{className:"w-5 h-5"}),children:[{name:"",path:"/admin/site-images",icon:null},{name:"",path:"/admin/promotions",icon:null},{name:"",path:"/admin/games/providers",icon:null},{name:"",path:"/admin/games",icon:null},{name:"",path:"/admin/settings",icon:null}]},{name:"",path:"/admin/promotion",icon:e.jsx(zt,{className:"w-5 h-5"}),children:[{name:"",path:"/admin/promotion-settings",icon:null},{name:"",path:"/admin/promotion-summary",icon:null},{name:" Logs",path:"/admin/promotion-logs",icon:null}]},{name:"",path:"/admin/referral",icon:e.jsx(Sc,{className:"w-5 h-5"}),children:[{name:"",path:"/admin/referral",icon:null},{name:"",path:"/admin/referral/settings",icon:null}]},{name:"",path:"/admin/lucky-wheel",icon:e.jsx(zt,{className:"w-5 h-5"})},...l?.role==="SUPER_ADMIN"?[{name:"",path:"/admin/system",icon:e.jsx(Kc,{className:"w-5 h-5"}),children:[{name:"",path:"/admin/staff",icon:null},{name:"",path:"/admin/logs",icon:null}]}]:[]],g=async()=>{await i(),n("/admin/login")},N=v=>{h(d===v?null:v)},w=v=>s.pathname===v||s.pathname.startsWith(v+"/");return e.jsxs("div",{className:"flex h-screen bg-admin-bg overflow-hidden",children:[e.jsxs("aside",{className:`${c?"w-64":"w-20"} bg-admin-card border-r border-admin-border transition-all duration-300 flex flex-col`,children:[e.jsx("div",{className:"h-16 flex items-center justify-between px-4 border-b border-admin-border",children:c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gold-500 to-gold-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"B"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-gold-500 font-display font-bold text-lg",children:f}),e.jsx("p",{className:"text-brown-400 text-xs",children:"Admin Panel"})]})]}),e.jsx("button",{onClick:()=>u(!1),className:"text-brown-400 hover:text-gold-500 transition-colors",children:e.jsx(We,{className:"w-5 h-5"})})]}):e.jsx("button",{onClick:()=>u(!0),className:"text-brown-400 hover:text-gold-500 transition-colors mx-auto",children:e.jsx(nS,{className:"w-6 h-6"})})}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2",children:p.map(v=>e.jsx("div",{children:v.children?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>N(v.name),className:`w-full flex items-center justify-between px-3 py-3 rounded-lg transition-all mb-1 ${w(v.path)?"bg-gold-500/10 text-gold-500":"text-brown-300 hover:bg-admin-hover hover:text-gold-500"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[v.icon,c&&e.jsx("span",{className:"font-medium",children:v.name})]}),c&&e.jsx(X6,{className:`w-4 h-4 transition-transform ${d===v.name?"rotate-180":""}`})]}),c&&d===v.name&&e.jsx("div",{className:"ml-8 mb-2",children:v.children.map(y=>e.jsxs(si,{to:y.path,className:`flex items-center justify-between px-3 py-2 rounded-lg text-sm mb-1 transition-all ${w(y.path)?"bg-gold-500/10 text-gold-500":"text-brown-400 hover:bg-admin-hover hover:text-gold-500"}`,children:[e.jsx("span",{children:y.name}),y.badge!==void 0&&y.badge>0&&e.jsx("span",{className:"bg-error text-white text-xs px-2 py-0.5 rounded-full",children:y.badge})]},y.path))})]}):e.jsxs(si,{to:v.path,className:`flex items-center gap-3 px-3 py-3 rounded-lg transition-all mb-1 ${w(v.path)?"bg-gold-500/10 text-gold-500":"text-brown-300 hover:bg-admin-hover hover:text-gold-500"}`,title:c?"":v.name,children:[v.icon,c&&e.jsx("span",{className:"font-medium",children:v.name}),c&&v.badge&&e.jsx("span",{className:"ml-auto bg-error text-white text-xs px-2 py-1 rounded-full",children:v.badge})]})},v.name))}),e.jsx("div",{className:"border-t border-admin-border p-4",children:c?e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gold-500 to-brown-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:l?.name?.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-brown-200 font-medium truncate",children:l?.name}),e.jsx("p",{className:"text-brown-400 text-xs truncate",children:l?.role})]}),e.jsx(Q6,{})]}),e.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-error/10 hover:bg-error/20 text-error rounded-lg transition-all",children:[e.jsx(Dg,{className:"w-4 h-4"}),e.jsx("span",{children:""})]})]}):e.jsx("button",{onClick:g,className:"w-full flex items-center justify-center p-3 bg-error/10 hover:bg-error/20 text-error rounded-lg transition-all",title:"",children:e.jsx(Dg,{className:"w-5 h-5"})})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsx(T4,{})})]})}function mS(){const s=kt(),n=xi(N=>N.login),l=xi(N=>N.isLoading),[i,c]=j.useState(""),[u,d]=j.useState(""),[h,f]=j.useState(!1),[x,p]=j.useState("bicycle678");j.useEffect(()=>{(async()=>{try{const v=(await Rt.getSiteSettings()).data.data;v.site_name&&p(v.site_name)}catch(w){console.error("Failed to load site settings:",w)}})()},[]);const g=async N=>{if(N.preventDefault(),!i||!u){U.error("");return}try{await n({username:i,password:u}),s("/admin/dashboard")}catch{}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-admin-bg via-brown-900 to-admin-bg flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgxOTYsMTY5LDk4LDAuMSkiIHN0cm9rZS13aWR0aD0iMSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNncmlkKSIvPjwvc3ZnPg==')] opacity-30"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-gold-500 via-gold-600 to-brown-500 rounded-2xl blur-xl opacity-30 animate-pulse"}),e.jsxs("div",{className:"relative bg-admin-card border border-admin-border rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-gold-500 to-gold-600 rounded-full mb-4 shadow-lg",children:e.jsx("span",{className:"text-3xl font-bold text-white",children:"B"})}),e.jsx("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2",children:"Admin Portal"}),e.jsxs("p",{className:"text-brown-300 text-sm",children:[" ",x]})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Cc,{className:"h-5 w-5 text-brown-400"})}),e.jsx("input",{id:"username",type:"text",value:i,onChange:N=>c(N.target.value),className:"block w-full pl-12 pr-4 py-3 bg-admin-bg border border-admin-border rounded-lg text-brown-100 placeholder-brown-500 focus:outline-none focus:ring-2 focus:ring-gold-500 focus:border-transparent transition-all",placeholder:"",disabled:l,autoComplete:"username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Ai,{className:"h-5 w-5 text-brown-400"})}),e.jsx("input",{id:"password",type:h?"text":"password",value:u,onChange:N=>d(N.target.value),className:"block w-full pl-12 pr-12 py-3 bg-admin-bg border border-admin-border rounded-lg text-brown-100 placeholder-brown-500 focus:outline-none focus:ring-2 focus:ring-gold-500 focus:border-transparent transition-all",placeholder:"",disabled:l,autoComplete:"current-password"}),e.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-brown-400 hover:text-gold-500 transition-colors",disabled:l,children:h?e.jsx(eS,{className:"h-5 w-5"}):e.jsx(xa,{className:"h-5 w-5"})})]})]}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-gold-500 to-gold-600 hover:from-gold-600 hover:to-gold-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg",children:l?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):""})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-admin-border text-center",children:e.jsxs("p",{className:"text-sm text-brown-400",children:[" 2024 ",x,". All rights reserved."]})})]})]})]})}var hc={exports:{}},xS=hc.exports,_g;function Cv(){return _g||(_g=1,(function(s,n){(function(l,i){s.exports=i()})(xS,(function(){var l=1e3,i=6e4,c=36e5,u="millisecond",d="second",h="minute",f="hour",x="day",p="week",g="month",N="quarter",w="year",v="date",y="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(K){var W=["th","st","nd","rd"],z=K%100;return"["+K+(W[(z-20)%10]||W[z]||W[0])+"]"}},S=function(K,W,z){var H=String(K);return!H||H.length>=W?K:""+Array(W+1-H.length).join(z)+K},M={s:S,z:function(K){var W=-K.utcOffset(),z=Math.abs(W),H=Math.floor(z/60),F=z%60;return(W<=0?"+":"-")+S(H,2,"0")+":"+S(F,2,"0")},m:function K(W,z){if(W.date()<z.date())return-K(z,W);var H=12*(z.year()-W.year())+(z.month()-W.month()),F=W.clone().add(H,g),le=z-F<0,oe=W.clone().add(H+(le?-1:1),g);return+(-(H+(z-F)/(le?F-oe:oe-F))||0)},a:function(K){return K<0?Math.ceil(K)||0:Math.floor(K)},p:function(K){return{M:g,y:w,w:p,d:x,D:v,h:f,m:h,s:d,ms:u,Q:N}[K]||String(K||"").toLowerCase().replace(/s$/,"")},u:function(K){return K===void 0}},L="en",B={};B[L]=E;var D="$isDayjsObject",C=function(K){return K instanceof P||!(!K||!K[D])},R=function K(W,z,H){var F;if(!W)return L;if(typeof W=="string"){var le=W.toLowerCase();B[le]&&(F=le),z&&(B[le]=z,F=le);var oe=W.split("-");if(!F&&oe.length>1)return K(oe[0])}else{var _=W.name;B[_]=W,F=_}return!H&&F&&(L=F),F||!H&&L},$=function(K,W){if(C(K))return K.clone();var z=typeof W=="object"?W:{};return z.date=K,z.args=arguments,new P(z)},q=M;q.l=R,q.i=C,q.w=function(K,W){return $(K,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var P=(function(){function K(z){this.$L=R(z.locale,null,!0),this.parse(z),this.$x=this.$x||z.x||{},this[D]=!0}var W=K.prototype;return W.parse=function(z){this.$d=(function(H){var F=H.date,le=H.utc;if(F===null)return new Date(NaN);if(q.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var oe=F.match(T);if(oe){var _=oe[2]-1||0,I=(oe[7]||"0").substring(0,3);return le?new Date(Date.UTC(oe[1],_,oe[3]||1,oe[4]||0,oe[5]||0,oe[6]||0,I)):new Date(oe[1],_,oe[3]||1,oe[4]||0,oe[5]||0,oe[6]||0,I)}}return new Date(F)})(z),this.init()},W.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},W.$utils=function(){return q},W.isValid=function(){return this.$d.toString()!==y},W.isSame=function(z,H){var F=$(z);return this.startOf(H)<=F&&F<=this.endOf(H)},W.isAfter=function(z,H){return $(z)<this.startOf(H)},W.isBefore=function(z,H){return this.endOf(H)<$(z)},W.$g=function(z,H,F){return q.u(z)?this[H]:this.set(F,z)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(z,H){var F=this,le=!!q.u(H)||H,oe=q.p(z),_=function(ve,xe){var Z=q.w(F.$u?Date.UTC(F.$y,xe,ve):new Date(F.$y,xe,ve),F);return le?Z:Z.endOf(x)},I=function(ve,xe){return q.w(F.toDate()[ve].apply(F.toDate("s"),(le?[0,0,0,0]:[23,59,59,999]).slice(xe)),F)},ae=this.$W,de=this.$M,he=this.$D,be="set"+(this.$u?"UTC":"");switch(oe){case w:return le?_(1,0):_(31,11);case g:return le?_(1,de):_(0,de+1);case p:var fe=this.$locale().weekStart||0,Ae=(ae<fe?ae+7:ae)-fe;return _(le?he-Ae:he+(6-Ae),de);case x:case v:return I(be+"Hours",0);case f:return I(be+"Minutes",1);case h:return I(be+"Seconds",2);case d:return I(be+"Milliseconds",3);default:return this.clone()}},W.endOf=function(z){return this.startOf(z,!1)},W.$set=function(z,H){var F,le=q.p(z),oe="set"+(this.$u?"UTC":""),_=(F={},F[x]=oe+"Date",F[v]=oe+"Date",F[g]=oe+"Month",F[w]=oe+"FullYear",F[f]=oe+"Hours",F[h]=oe+"Minutes",F[d]=oe+"Seconds",F[u]=oe+"Milliseconds",F)[le],I=le===x?this.$D+(H-this.$W):H;if(le===g||le===w){var ae=this.clone().set(v,1);ae.$d[_](I),ae.init(),this.$d=ae.set(v,Math.min(this.$D,ae.daysInMonth())).$d}else _&&this.$d[_](I);return this.init(),this},W.set=function(z,H){return this.clone().$set(z,H)},W.get=function(z){return this[q.p(z)]()},W.add=function(z,H){var F,le=this;z=Number(z);var oe=q.p(H),_=function(de){var he=$(le);return q.w(he.date(he.date()+Math.round(de*z)),le)};if(oe===g)return this.set(g,this.$M+z);if(oe===w)return this.set(w,this.$y+z);if(oe===x)return _(1);if(oe===p)return _(7);var I=(F={},F[h]=i,F[f]=c,F[d]=l,F)[oe]||1,ae=this.$d.getTime()+z*I;return q.w(ae,this)},W.subtract=function(z,H){return this.add(-1*z,H)},W.format=function(z){var H=this,F=this.$locale();if(!this.isValid())return F.invalidDate||y;var le=z||"YYYY-MM-DDTHH:mm:ssZ",oe=q.z(this),_=this.$H,I=this.$m,ae=this.$M,de=F.weekdays,he=F.months,be=F.meridiem,fe=function(xe,Z,Q,ye){return xe&&(xe[Z]||xe(H,le))||Q[Z].slice(0,ye)},Ae=function(xe){return q.s(_%12||12,xe,"0")},ve=be||function(xe,Z,Q){var ye=xe<12?"AM":"PM";return Q?ye.toLowerCase():ye};return le.replace(A,(function(xe,Z){return Z||(function(Q){switch(Q){case"YY":return String(H.$y).slice(-2);case"YYYY":return q.s(H.$y,4,"0");case"M":return ae+1;case"MM":return q.s(ae+1,2,"0");case"MMM":return fe(F.monthsShort,ae,he,3);case"MMMM":return fe(he,ae);case"D":return H.$D;case"DD":return q.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return fe(F.weekdaysMin,H.$W,de,2);case"ddd":return fe(F.weekdaysShort,H.$W,de,3);case"dddd":return de[H.$W];case"H":return String(_);case"HH":return q.s(_,2,"0");case"h":return Ae(1);case"hh":return Ae(2);case"a":return ve(_,I,!0);case"A":return ve(_,I,!1);case"m":return String(I);case"mm":return q.s(I,2,"0");case"s":return String(H.$s);case"ss":return q.s(H.$s,2,"0");case"SSS":return q.s(H.$ms,3,"0");case"Z":return oe}return null})(xe)||oe.replace(":","")}))},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(z,H,F){var le,oe=this,_=q.p(H),I=$(z),ae=(I.utcOffset()-this.utcOffset())*i,de=this-I,he=function(){return q.m(oe,I)};switch(_){case w:le=he()/12;break;case g:le=he();break;case N:le=he()/3;break;case p:le=(de-ae)/6048e5;break;case x:le=(de-ae)/864e5;break;case f:le=de/c;break;case h:le=de/i;break;case d:le=de/l;break;default:le=de}return F?le:q.a(le)},W.daysInMonth=function(){return this.endOf(g).$D},W.$locale=function(){return B[this.$L]},W.locale=function(z,H){if(!z)return this.$L;var F=this.clone(),le=R(z,H,!0);return le&&(F.$L=le),F},W.clone=function(){return q.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},K})(),V=P.prototype;return $.prototype=V,[["$ms",u],["$s",d],["$m",h],["$H",f],["$W",x],["$M",g],["$y",w],["$D",v]].forEach((function(K){V[K[1]]=function(W){return this.$g(W,K[0],K[1])}})),$.extend=function(K,W){return K.$i||(K(W,P,$),K.$i=!0),$},$.locale=R,$.isDayjs=C,$.unix=function(K){return $(1e3*K)},$.en=B[L],$.Ls=B,$.p={},$}))})(hc)),hc.exports}var hS=Cv();const we=Rc(hS);var fc={exports:{}},fS=fc.exports,Mg;function pS(){return Mg||(Mg=1,(function(s,n){(function(l,i){s.exports=i(Cv())})(fS,(function(l){function i(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var c=i(l),u={name:"th",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},ordinal:function(d){return d+"."}};return c.default.locale(u,null,!0),u}))})(fc)),fc.exports}pS();we.locale("th");function bS(){const[s,n]=j.useState(null),[l,i]=j.useState([]),[c,u]=j.useState("today"),[d,h]=j.useState(!0),[f,x]=j.useState("bicycle678");j.useEffect(()=>{(async()=>{try{const A=(await Rt.getSiteSettings()).data.data;A.site_name&&x(A.site_name)}catch(T){console.error("Failed to load site settings:",T)}})()},[]),j.useEffect(()=>{p()},[c]);const p=async()=>{try{h(!0);const[y,T]=await Promise.all([Sg.getStats(c),Sg.getRecentTransactions(10)]);n(y),i(T||[])}catch(y){console.error("Failed to fetch dashboard data:",y),n({today:{totalDeposits:0,totalWithdrawals:0,totalMembers:0,activeMembers:0,pendingDeposits:0,pendingWithdrawals:0,profit:0},thisWeek:{totalDeposits:0,totalWithdrawals:0,newMembers:0,profit:0},thisMonth:{totalDeposits:0,totalWithdrawals:0,newMembers:0,profit:0}}),i([])}finally{h(!1)}},g=y=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0,maximumFractionDigits:0}).format(y),N=y=>{switch(y){case"completed":case"approved":return"text-success bg-success/10";case"pending":return"text-warning bg-warning/10";case"rejected":case"cancelled":return"text-error bg-error/10";default:return"text-brown-400 bg-brown-400/10"}},w=y=>{switch(y){case"completed":return"";case"approved":return"";case"pending":return"";case"rejected":return"";case"cancelled":return"";default:return y}},v=y=>{switch(y){case"deposit":return"";case"withdrawal":return"";case"credit_adjustment":return"";case"game_transfer":return"";default:return y}};return d?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-admin-bg",children:e.jsx("div",{className:"text-gold-500",children:"..."})}):e.jsxs("div",{className:"min-h-screen bg-admin-bg",children:[e.jsx("div",{className:"bg-gradient-to-r from-admin-card to-brown-900 border-b border-admin-border shadow-xl",children:e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2",children:""}),e.jsxs("p",{className:"text-brown-300",children:[" ",f]})]}),e.jsxs("div",{className:"flex gap-2 bg-admin-bg rounded-lg p-1",children:[e.jsx("button",{onClick:()=>u("today"),className:`px-4 py-2 rounded-md font-medium transition-all ${c==="today"?"bg-gold-500 text-white shadow-lg":"text-brown-300 hover:text-gold-500"}`,children:""}),e.jsx("button",{onClick:()=>u("week"),className:`px-4 py-2 rounded-md font-medium transition-all ${c==="week"?"bg-gold-500 text-white shadow-lg":"text-brown-300 hover:text-gold-500"}`,children:""}),e.jsx("button",{onClick:()=>u("month"),className:`px-4 py-2 rounded-md font-medium transition-all ${c==="month"?"bg-gold-500 text-white shadow-lg":"text-brown-300 hover:text-gold-500"}`,children:""})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 hover:border-gold-500/50 hover:shadow-[0_0_30px_rgba(234,179,8,0.2)] transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-success/10 rounded-lg group-hover:bg-success/20 transition-colors",children:e.jsx(Mt,{className:"w-6 h-6 text-success"})}),e.jsx("span",{className:"text-xs text-brown-400 font-medium",children:""})]}),e.jsx("div",{className:"text-3xl font-bold text-gold-500 mb-1 drop-shadow-lg",children:g(s?.today.totalDeposits||0)}),e.jsxs("div",{className:"text-sm text-brown-400",children:[": ",e.jsx("span",{className:"text-warning font-semibold",children:s?.today.pendingDeposits||0})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 hover:border-gold-500/50 hover:shadow-[0_0_30px_rgba(234,179,8,0.2)] transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-error/10 rounded-lg group-hover:bg-error/20 transition-colors",children:e.jsx(Pt,{className:"w-6 h-6 text-error"})}),e.jsx("span",{className:"text-xs text-brown-400 font-medium",children:""})]}),e.jsx("div",{className:"text-3xl font-bold text-gold-500 mb-1 drop-shadow-lg",children:g(s?.today.totalWithdrawals||0)}),e.jsxs("div",{className:"text-sm text-brown-400",children:[": ",e.jsx("span",{className:"text-warning font-semibold",children:s?.today.pendingWithdrawals||0})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 hover:border-gold-500/50 hover:shadow-[0_0_30px_rgba(234,179,8,0.2)] transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gold-500/10 rounded-lg",children:e.jsx(ze,{className:"w-6 h-6 text-gold-500"})}),e.jsx("span",{className:"text-xs text-brown-400",children:""})]}),e.jsx("div",{className:"text-2xl font-bold text-gold-500 mb-1",children:g(s?.today.profit||0)}),e.jsx("div",{className:"text-sm text-brown-400",children:" - "})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 hover:border-gold-500/50 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-info/10 rounded-lg",children:e.jsx(As,{className:"w-6 h-6 text-info"})}),e.jsx("span",{className:"text-xs text-brown-400",children:""})]}),e.jsx("div",{className:"text-2xl font-bold text-gold-500 mb-1",children:s?.today.totalMembers||0}),e.jsxs("div",{className:"text-sm text-brown-400",children:[": ",s?.today.activeMembers||0]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(si,{to:"/admin/deposits/pending",className:"bg-gradient-to-br from-success/10 to-success/5 border border-success/20 rounded-xl p-6 hover:border-success/50 transition-all group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(Fe,{className:"w-8 h-8 text-success group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-3xl font-bold text-success",children:s?.today.pendingDeposits||0})]}),e.jsx("div",{className:"text-brown-200 font-medium",children:""}),e.jsx("div",{className:"text-sm text-brown-400 mt-1",children:" "})]}),e.jsxs(si,{to:"/admin/withdrawals/pending",className:"bg-gradient-to-br from-warning/10 to-warning/5 border border-warning/20 rounded-xl p-6 hover:border-warning/50 transition-all group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(Qe,{className:"w-8 h-8 text-warning group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-3xl font-bold text-warning",children:s?.today.pendingWithdrawals||0})]}),e.jsx("div",{className:"text-brown-200 font-medium",children:""}),e.jsx("div",{className:"text-sm text-brown-400 mt-1",children:" "})]}),e.jsxs(si,{to:"/admin/members",className:"bg-gradient-to-br from-info/10 to-info/5 border border-info/20 rounded-xl p-6 hover:border-info/50 transition-all group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(As,{className:"w-8 h-8 text-info group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-3xl font-bold text-info",children:s?.today.activeMembers||0})]}),e.jsx("div",{className:"text-brown-200 font-medium",children:""}),e.jsx("div",{className:"text-sm text-brown-400 mt-1",children:" "})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-admin-border",children:e.jsx("h2",{className:"text-xl font-display font-bold text-gold-500",children:""})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-admin-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-brown-400",children:""})}):l.map(y=>e.jsxs("tr",{className:"hover:bg-admin-hover transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-300",children:we(y.createdAt).format("DD/MM/YY HH:mm")}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-brown-200",children:y.memberFullname||y.memberPhone}),e.jsx("div",{className:"text-xs text-brown-400",children:y.memberPhone})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-brown-300",children:v(y.type)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:`text-sm font-medium ${y.type==="deposit"?"text-success":"text-error"}`,children:[y.type==="deposit"?"+":"-",g(y.amount)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${N(y.status)}`,children:w(y.status)})})]},y.id))})]})})]})]})]})}const Lg=s=>{const n=s.toLowerCase();return{kbank:"ksb",bbl:"bkb",bay:"bkb",scb:"scb",ktb:"ktb",tmb:"tmb",gsb:"gsb",baac:"baac",ghb:"ghb",ghbank:"ghb",lhb:"lhb",lh:"lhb",cimb:"cimb",tisco:"ksi",kkp:"knk",tnc:"tnc",tbank:"tnc",uob:"uob"}[n]||n};function gS(){const[s,n]=j.useState([]),[l,i]=j.useState(!0),[c,u]=j.useState(null),[d,h]=j.useState(!1),[f,x]=j.useState("ALL"),[p,g]=j.useState(""),[N,w]=j.useState(we().format("YYYY-MM-DD")),[v,y]=j.useState(we().format("YYYY-MM-DD"));j.useEffect(()=>{T()},[f,N,v]);const T=async()=>{try{i(!0);const L=f==="ALL"?void 0:f,B=await Jl.getDeposits({status:L,startDate:N,endDate:v,limit:100,offset:0});n(B.deposits||[])}catch(L){console.error("Failed to fetch deposits:",L),U.error("")}finally{i(!1)}},A=L=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(L),E=L=>{const B={PENDING:{label:"",color:"text-warning",bgColor:"bg-warning/10"},COMPLETED:{label:"",color:"text-success",bgColor:"bg-success/10"},REJECTED:{label:"",color:"text-error",bgColor:"bg-error/10"}},D=B[L]||B.PENDING;return e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${D.bgColor} ${D.color}`,children:D.label})},S=s.filter(L=>{if(!p)return!0;const B=p.toLowerCase();return L.memberPhone?.toLowerCase().includes(B)||L.memberFullname?.toLowerCase().includes(B)||L.amount.toString().includes(B)}),M={total:S.length,pending:S.filter(L=>L.status==="PENDING").length,completed:S.filter(L=>L.status==="COMPLETED").length,rejected:S.filter(L=>L.status==="REJECTED").length,totalAmount:S.reduce((L,B)=>L+(B.status==="COMPLETED"?B.amount:0),0)};return l?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-gold-500",children:"..."})}):e.jsxs("div",{className:"p-6 max-w-[1800px] mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-success/20 to-success/10 rounded-lg flex items-center justify-center",children:e.jsx(ze,{className:"w-5 h-5 text-success"})}),""]}),e.jsx("p",{className:"text-brown-300 ml-13",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-3xl font-bold text-gold-500",children:M.total}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx(ze,{className:"w-10 h-10 text-gold-500 opacity-30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-3xl font-bold text-warning",children:M.pending}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx(Qe,{className:"w-10 h-10 text-warning opacity-30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-3xl font-bold text-success",children:M.completed}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx(Fe,{className:"w-10 h-10 text-success opacity-30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-3xl font-bold text-error",children:M.rejected}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx(fa,{className:"w-10 h-10 text-error opacity-30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-2xl font-bold text-success",children:A(M.totalAmount).replace("","")}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx(Mt,{className:"w-10 h-10 text-success opacity-30"})]})})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl p-4 mb-6 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2 flex items-center gap-2",children:[e.jsx(Fs,{className:"w-4 h-4"}),""]}),e.jsxs("select",{value:f,onChange:L=>x(L.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"ALL",children:""}),e.jsx("option",{value:"PENDING",children:""}),e.jsx("option",{value:"COMPLETED",children:""}),e.jsx("option",{value:"REJECTED",children:""})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2 flex items-center gap-2",children:[e.jsx(yt,{className:"w-4 h-4"}),""]}),e.jsx("input",{type:"date",value:N,onChange:L=>w(L.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2 flex items-center gap-2",children:[e.jsx(yt,{className:"w-4 h-4"}),""]}),e.jsx("input",{type:"date",value:v,onChange:L=>y(L.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2 flex items-center gap-2",children:[e.jsx(Ja,{className:"w-4 h-4"}),""]}),e.jsx("input",{type:"text",value:p,onChange:L=>g(L.target.value),placeholder:", , ...",className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500 placeholder-brown-500"})]})]})}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:S.length===0?e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-admin-bg rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ze,{className:"w-10 h-10 text-brown-500 opacity-50"})}),e.jsx("p",{className:"text-brown-400 text-lg",children:""}),e.jsx("p",{className:"text-brown-500 text-sm mt-2",children:""})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-admin-bg to-admin-bg/50 border-b border-admin-border",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:S.map((L,B)=>e.jsxs("tr",{className:"hover:bg-admin-hover/50 transition-all group",style:{animationDelay:`${B*50}ms`},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-brown-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-brown-200",children:we(L.createdAt).format("HH:mm")}),e.jsx("div",{className:"text-xs text-brown-500",children:we(L.createdAt).format("DD/MM/YY")})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gold-500/20 to-gold-600/10 rounded-full flex items-center justify-center text-gold-500 font-bold text-sm",children:(L.memberFullname||L.memberPhone).charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-brown-100",children:L.memberFullname||L.memberPhone}),e.jsx("div",{className:"text-xs text-brown-400",children:L.memberPhone})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-success/10 px-3 py-1.5 rounded-lg",children:[e.jsx(Mt,{className:"w-4 h-4 text-success"}),e.jsx("span",{className:"text-lg font-bold text-success",children:A(L.amount).replace("","")})]})}),e.jsx("td",{className:"px-6 py-4",children:L.bankCode?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-white shadow-lg flex-shrink-0 border-2 border-white/10",children:e.jsx("img",{src:`/images/banks/bank-${Lg(L.bankCode)}.png`,alt:L.bankName||L.bankCode,className:"w-full h-full object-cover",onError:D=>{const C=D.currentTarget;if(C.style.display="none",C.parentElement){const R=document.createElement("div");R.className="w-full h-full bg-gradient-to-br from-gray-600 to-gray-700 flex items-center justify-center text-white font-bold text-xs",R.textContent=L.bankCode.substring(0,2),C.parentElement.appendChild(R)}}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-100 truncate",children:L.bankName||L.bankCode}),e.jsx("div",{className:"text-xs text-brown-400 font-mono mt-0.5",children:L.bankAccount})]})]}):e.jsx("span",{className:"text-brown-500 text-sm",children:"-"})}),e.jsx("td",{className:"px-6 py-4 text-center",children:E(L.status)}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-center gap-2",children:e.jsxs("button",{onClick:()=>{u(L),h(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-info/10 hover:bg-info/20 text-info rounded-lg transition-all text-sm font-semibold shadow-sm hover:shadow-md",children:[e.jsx(xa,{className:"w-4 h-4"}),""]})})})]},L.id))})]})})}),d&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-2xl max-w-2xl w-full p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("h3",{className:"text-xl font-bold text-gold-500 mb-4 flex items-center gap-2",children:[e.jsx(ze,{className:"w-6 h-6"}),""]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-admin-bg rounded-xl border border-admin-border",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-200 mb-3",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),e.jsx("div",{className:"text-sm text-brown-100",children:c.memberFullname||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),e.jsx("div",{className:"text-sm text-brown-100",children:c.memberPhone})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),e.jsx("div",{className:"text-sm text-success font-semibold",children:A(c.memberCredit||0)})]})]})]}),e.jsxs("div",{className:"p-4 bg-admin-bg rounded-xl border border-admin-border",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-200 mb-3",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),e.jsx("div",{className:"text-2xl text-success font-bold",children:A(c.amount)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),E(c.status)]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),e.jsx("div",{className:"text-sm text-brown-100",children:we(c.createdAt).format("DD/MM/YYYY HH:mm:ss")})]}),c.completedAt&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),e.jsx("div",{className:"text-sm text-brown-100",children:we(c.completedAt).format("DD/MM/YYYY HH:mm:ss")})]})]})]}),c.bankCode&&e.jsxs("div",{className:"p-4 bg-admin-bg rounded-xl border border-admin-border",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-200 mb-3",children:""}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-white shadow-lg",children:e.jsx("img",{src:`/images/banks/bank-${Lg(c.bankCode)}.png`,alt:c.bankName||c.bankCode,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-brown-100",children:c.bankName||c.bankCode}),e.jsx("div",{className:"text-xs text-brown-400 font-mono",children:c.bankAccount})]})]})]}),c.slipUrl&&e.jsxs("div",{className:"p-4 bg-admin-bg rounded-xl border border-admin-border",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-200 mb-3",children:""}),e.jsxs("a",{href:c.slipUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-info/10 hover:bg-info/20 text-info rounded-lg transition-all text-sm font-medium",children:[e.jsx(xa,{className:"w-4 h-4"}),""]})]}),c.remark&&e.jsxs("div",{className:"p-4 bg-admin-bg rounded-xl border border-admin-border",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-200 mb-2",children:""}),e.jsx("div",{className:"text-sm text-brown-100",children:c.remark})]})]}),e.jsx("div",{className:"flex gap-3 mt-6",children:e.jsx("button",{onClick:()=>{h(!1),u(null)},className:"flex-1 px-4 py-2.5 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all font-medium",children:""})})]})})]})}const kc={KBANK:{name:"",file:"ksb"},KBank:{name:"",file:"ksb"},SCB:{name:"",file:"scb"},BBL:{name:"",file:"bkb"},KTB:{name:"",file:"ktb"},BAY:{name:"",file:"bkb"},TMB:{name:"",file:"tmb"},CIMB:{name:"",file:"cimb"},TISCO:{name:"",file:"ksi"},KKP:{name:"",file:"knk"},LH:{name:"  ",file:"lhb"},LHB:{name:"  ",file:"lhb"},TBANK:{name:"",file:"tnc"},TNC:{name:"",file:"tnc"},GSB:{name:"",file:"gsb"},BAAC:{name:"...",file:"baac"},GHBANK:{name:"",file:"ghb"},GHB:{name:"",file:"ghb"},UOB:{name:"",file:"uob"}},Um={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"};function jS({bankCode:s,size:n="md",className:l=""}){if(!s)return e.jsx("div",{className:`${Um[n]} rounded-lg bg-gray-600 flex items-center justify-center text-white font-bold text-xs ${l}`,title:"Unknown Bank",children:"??"});const i=kc[s]||kc[s.toUpperCase()];return i?e.jsx("div",{className:`${Um[n]} rounded-lg overflow-hidden bg-white shadow-md ${l}`,title:i.name,children:e.jsx("img",{src:`/images/banks/bank-${i.file}.png`,alt:i.name,className:"w-full h-full object-contain p-0.5"})}):e.jsx("div",{className:`${Um[n]} rounded-lg bg-gray-600 flex items-center justify-center text-white font-bold text-xs ${l}`,title:s,children:s.substring(0,2)})}function kv({bankCode:s,bankName:n,bankNumber:l,size:i="md"}){const c=kc[s]||kc[s.toUpperCase()]||{name:s};return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(jS,{bankCode:s,size:i}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-brown-100 truncate",children:n}),e.jsx("div",{className:"text-xs text-brown-400 font-mono",children:l}),e.jsx("div",{className:"text-xs text-brown-500",children:c.name})]})]})}const yS=s=>{const n=s.toLowerCase();return{kbank:"ksb",bbl:"bkb",bay:"bkb",scb:"scb",ktb:"ktb",tmb:"tmb",gsb:"gsb",baac:"baac",ghb:"ghb",ghbank:"ghb",lhb:"lhb",lh:"lhb",cimb:"cimb",tisco:"ksi",kkp:"knk",tnc:"tnc",tbank:"tnc",uob:"uob"}[n]||n};function vS(){const[s,n]=j.useState([]),[l,i]=j.useState(!0),[c,u]=j.useState(null),[d,h]=j.useState(!1),[f,x]=j.useState(!1),[p,g]=j.useState(0),[N,w]=j.useState(""),[v,y]=j.useState(""),[T,A]=j.useState(!1),[E,S]=j.useState([]),[M,L]=j.useState(!1);j.useEffect(()=>{B()},[]);const B=async()=>{try{i(!0);const V=await Jl.getPendingDeposits(1,100);n(V.deposits||[])}catch(V){console.error("Failed to fetch deposits:",V),U.error("")}finally{i(!1)}},D=async()=>{if(c)try{A(!0),await Jl.approveDeposit(c.id,{bonusAmount:p||void 0,remark:N||void 0}),U.success(""),h(!1),u(null),g(0),w(""),B()}catch(V){U.error(V.response?.data?.message||"")}finally{A(!1)}},C=async()=>{if(!c||!v){U.error("");return}try{A(!0),await Jl.rejectDeposit(c.id,{reason:v,remark:N||void 0}),U.success(""),x(!1),u(null),y(""),w(""),B()}catch(V){U.error(V.response?.data?.message||"")}finally{A(!1)}},R=()=>{E.length===s.length?S([]):S(s.map(V=>V.id))},$=V=>{E.includes(V)?S(E.filter(K=>K!==V)):S([...E,V])},q=async()=>{if(E.length===0){U.error("");return}try{A(!0);const V=await Jl.bulkApproveDeposits(E);V.successCount>0&&U.success(` ${V.successCount} ${V.failedCount>0?`,  ${V.failedCount} `:""}`),V.errors&&V.errors.length>0&&V.errors.forEach(K=>{U.error(`${K.depositId}: ${K.error}`)}),L(!1),S([]),B()}catch(V){U.error(V.response?.data?.message||"")}finally{A(!1)}},P=V=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(V);return l?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-gold-500",children:"..."})}):e.jsxs("div",{className:"p-6 max-w-[1800px] mx-auto",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-success/20 to-success/10 rounded-lg flex items-center justify-center",children:e.jsx(Mt,{className:"w-5 h-5 text-success"})}),""]}),e.jsx("p",{className:"text-brown-300 ml-13",children:""})]}),E.length>0&&e.jsxs("button",{onClick:()=>L(!0),disabled:T,className:"px-6 py-3 bg-gradient-to-r from-success to-success/80 text-white rounded-lg font-semibold hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-5 h-5"})," (",E.length,")"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-brown-400 text-sm mb-1 flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4"}),""]}),e.jsx("div",{className:"text-3xl font-bold text-warning",children:s.length}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx("div",{className:"w-14 h-14 bg-warning/10 rounded-xl flex items-center justify-center",children:e.jsx(Qe,{className:"w-7 h-7 text-warning"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-brown-400 text-sm mb-1 flex items-center gap-2",children:[e.jsx(ze,{className:"w-4 h-4"}),""]}),e.jsx("div",{className:"text-3xl font-bold text-success",children:P(s.reduce((V,K)=>V+K.amount,0)).replace("","")}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx("div",{className:"w-14 h-14 bg-success/10 rounded-xl flex items-center justify-center",children:e.jsx(Mt,{className:"w-7 h-7 text-success"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-brown-400 text-sm mb-1 flex items-center gap-2",children:[e.jsx(yt,{className:"w-4 h-4"}),""]}),e.jsx("div",{className:"text-3xl font-bold text-info",children:s.filter(V=>we(V.createdAt).isSame(we(),"day")).length}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx("div",{className:"w-14 h-14 bg-info/10 rounded-xl flex items-center justify-center",children:e.jsx(yt,{className:"w-7 h-7 text-info"})})]})})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:s.length===0?e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-admin-bg rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ze,{className:"w-10 h-10 text-brown-500 opacity-50"})}),e.jsx("p",{className:"text-brown-400 text-lg",children:""}),e.jsx("p",{className:"text-brown-500 text-sm mt-2",children:""})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-admin-bg to-admin-bg/50 border-b border-admin-border",children:[e.jsx("th",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:E.length===s.length&&s.length>0,onChange:R,className:"w-4 h-4 text-success bg-admin-card border-admin-border rounded focus:ring-success focus:ring-2"})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:s.map((V,K)=>e.jsxs("tr",{className:"hover:bg-admin-hover/50 transition-all group",style:{animationDelay:`${K*50}ms`},children:[e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:E.includes(V.id),onChange:()=>$(V.id),className:"w-4 h-4 text-success bg-admin-card border-admin-border rounded focus:ring-success focus:ring-2"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-brown-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-brown-200",children:we(V.createdAt).format("HH:mm")}),e.jsx("div",{className:"text-xs text-brown-500",children:we(V.createdAt).format("DD/MM/YY")})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gold-500/20 to-gold-600/10 rounded-full flex items-center justify-center text-gold-500 font-bold text-sm",children:(V.memberFullname||V.memberPhone).charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-brown-100",children:V.memberFullname||V.memberPhone}),e.jsx("div",{className:"text-xs text-brown-400",children:V.memberPhone}),e.jsxs("div",{className:"text-xs text-brown-500 mt-0.5 flex items-center gap-1",children:[e.jsx("span",{className:"text-success",children:""}),P(V.memberCredit).replace("","")]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-success/10 px-3 py-1.5 rounded-lg",children:[e.jsx(Mt,{className:"w-4 h-4 text-success"}),e.jsx("span",{className:"text-lg font-bold text-success",children:P(V.amount).replace("","")})]})}),e.jsx("td",{className:"px-6 py-4",children:V.bankCode?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-white shadow-lg flex-shrink-0 border-2 border-white/10",children:e.jsx("img",{src:`/images/banks/bank-${yS(V.bankCode)}.png`,alt:V.bankName||V.bankCode,className:"w-full h-full object-cover",onError:W=>{const z=W.currentTarget;if(z.style.display="none",z.parentElement){const H=document.createElement("div");H.className="w-full h-full bg-gradient-to-br from-gray-600 to-gray-700 flex items-center justify-center text-white font-bold text-xs",H.textContent=V.bankCode.substring(0,2),z.parentElement.appendChild(H)}}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-100 truncate",children:V.bankName||V.bankCode}),e.jsx("div",{className:"text-xs text-brown-400 font-mono mt-0.5",children:V.bankAccount})]})]}):e.jsx("span",{className:"text-brown-500 text-sm",children:"-"})}),e.jsx("td",{className:"px-6 py-4 text-center",children:V.slipUrl?e.jsxs("a",{href:V.slipUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-info/10 hover:bg-info/20 text-info rounded-lg transition-all text-sm font-medium",children:[e.jsx(xa,{className:"w-4 h-4"}),""]}):e.jsx("span",{className:"text-brown-500 text-sm",children:""})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("button",{onClick:()=>{u(V),h(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-success/10 hover:bg-success/20 text-success rounded-lg transition-all text-sm font-semibold shadow-sm hover:shadow-md",children:[e.jsx(Fe,{className:"w-4 h-4"}),""]}),e.jsxs("button",{onClick:()=>{u(V),x(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-error/10 hover:bg-error/20 text-error rounded-lg transition-all text-sm font-semibold shadow-sm hover:shadow-md",children:[e.jsx(fa,{className:"w-4 h-4"}),""]})]})})]},V.id))})]})})}),d&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-gold-500 mb-4 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-6 h-6"}),""]}),e.jsxs("div",{className:"mb-6 p-4 bg-admin-bg rounded-xl border border-admin-border",children:[e.jsxs("div",{className:"text-sm text-brown-400 mb-2",children:[": ",c.memberPhone]}),e.jsx("div",{className:"text-3xl font-bold text-success mb-2",children:P(c.amount)}),c.bankCode&&e.jsx(kv,{bankCode:c.bankCode,bankName:c.bankName||"",bankNumber:c.bankAccount||"",size:"sm"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" ()"}),e.jsx("input",{type:"number",value:p,onChange:V=>g(Number(V.target.value)),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" ()"}),e.jsx("textarea",{value:N,onChange:V=>w(V.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",rows:3,placeholder:"..."})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{h(!1),u(null),g(0),w("")},className:"flex-1 px-4 py-2.5 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all font-medium",disabled:T,children:""}),e.jsx("button",{onClick:D,className:"flex-1 px-4 py-2.5 bg-success hover:bg-success/90 text-white rounded-lg transition-all disabled:opacity-50 font-semibold shadow-lg",disabled:T,children:T?"...":""})]})]})}),f&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-error mb-4 flex items-center gap-2",children:[e.jsx(fa,{className:"w-6 h-6"}),""]}),e.jsxs("div",{className:"mb-6 p-4 bg-error/10 rounded-xl border border-error/30",children:[e.jsx("div",{className:"text-sm text-warning mb-2 flex items-center gap-2",children:" "}),e.jsxs("div",{className:"text-sm text-brown-400 mb-2",children:[": ",c.memberPhone]}),e.jsx("div",{className:"text-2xl font-bold text-error",children:P(c.amount)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:[" ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsx("textarea",{value:v,onChange:V=>y(V.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-error",rows:3,placeholder:"...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" ()"}),e.jsx("textarea",{value:N,onChange:V=>w(V.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",rows:2,placeholder:"..."})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{x(!1),u(null),y(""),w("")},className:"flex-1 px-4 py-2.5 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all font-medium",disabled:T,children:""}),e.jsx("button",{onClick:C,className:"flex-1 px-4 py-2.5 bg-error hover:bg-error/90 text-white rounded-lg transition-all disabled:opacity-50 font-semibold shadow-lg",disabled:T,children:T?"...":""})]})]})}),M&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border-2 border-success/30 rounded-2xl max-w-md w-full shadow-2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-success/20 rounded-xl flex items-center justify-center",children:e.jsx(Fe,{className:"w-6 h-6 text-success"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-success",children:""}),e.jsxs("p",{className:"text-sm text-brown-400",children:[" ",E.length," ?"]})]})]}),e.jsx("div",{className:"bg-admin-bg/50 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-brown-300 mb-2",children:[e.jsx("span",{className:"text-gold-500 font-semibold",children:":"}),"   "]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>L(!1),className:"flex-1 px-4 py-2.5 bg-admin-bg hover:bg-admin-hover border border-admin-border text-brown-200 rounded-lg transition-all font-semibold",disabled:T,children:""}),e.jsx("button",{onClick:q,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-success to-success/80 hover:shadow-lg text-white rounded-lg transition-all disabled:opacity-50 font-semibold",disabled:T,children:T?"...":` ${E.length} `})]})]})})})]})}const NS=()=>{const[s,n]=j.useState([]),[l,i]=j.useState([]),[c,u]=j.useState(!1),[d,h]=j.useState(0),[f,x]=j.useState(1),[p]=j.useState(20),[g,N]=j.useState(""),[w,v]=j.useState(!1),[y,T]=j.useState(null),[A,E]=j.useState("");j.useEffect(()=>{S()},[f]);const S=async()=>{u(!0);try{const[C,R]=await Promise.all([_t.getSCBStatements({limit:p,offset:(f-1)*p}),_t.getPendingDepositsForSCB({limit:50,offset:0})]);n(C.statements||[]),h(C.total||0),i(R.deposits||[])}catch(C){U.error(C.response?.data?.message||"")}finally{u(!1)}},M=async()=>{if(!y||!A){U.error("");return}try{await _t.matchSCBDeposit({statementId:y.id,depositId:A}),U.success(""),v(!1),T(null),E(""),S()}catch(C){U.error(C.response?.data?.message||"")}},L=async C=>{if(confirm("?"))try{await _t.unmatchSCBDeposit(C),U.success(""),S()}catch(R){U.error(R.response?.data?.message||"")}},B=C=>C.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),D=C=>new Date(C).toLocaleString("th-TH");return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-gold-500",children:" SCB"}),e.jsx("p",{className:"text-brown-400 mt-1",children:""})]}),e.jsxs("button",{onClick:S,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 disabled:opacity-50 transition-colors font-medium",children:[e.jsx(dt,{className:c?"animate-spin":""}),""]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-gold-500/20 to-gold-600/20 border border-gold-500/30 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx("p",{className:"text-4xl font-bold text-gold-500 mt-2",children:s.filter(C=>!C.matched).length})]}),e.jsx(Ft,{className:"text-5xl text-gold-500/30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/20 border border-green-500/30 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx("p",{className:"text-4xl font-bold text-success mt-2",children:l.length})]}),e.jsx(Fe,{className:"text-5xl text-green-500/30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 border border-purple-500/30 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsxs("p",{className:"text-4xl font-bold text-purple-400 mt-2",children:["",B(s.filter(C=>!C.matched).reduce((C,R)=>C+R.amount,0))]})]}),e.jsx(Ft,{className:"text-5xl text-purple-500/30"})]})})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-admin-border",children:e.jsx("h2",{className:"text-xl font-display font-bold text-gold-500",children:" SCB"})}),c?e.jsxs("div",{className:"flex justify-center items-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"}),e.jsx("span",{className:"ml-4 text-brown-300 font-medium",children:"..."})]}):s.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Fe,{className:"mx-auto text-6xl text-success mb-4"}),e.jsx("p",{className:"text-brown-400 text-lg",children:""})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-hover",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gold-500 uppercase tracking-wider",children:"/"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gold-500 uppercase tracking-wider",children:"Reference"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gold-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:s.map(C=>e.jsxs("tr",{className:`hover:bg-admin-hover transition-colors ${C.matched?"bg-green-500/10":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-200",children:D(C.transactionDate)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-brown-200",children:C.fromName}),e.jsxs("div",{className:"text-sm text-brown-400",children:[C.fromAccount," (",C.fromBank,")"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-gold-500",children:["",B(C.amount)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-300",children:C.referenceCode}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:C.matched?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold bg-success/20 text-success border border-success/30",children:[e.jsx(Fe,{}),""]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold bg-warning/20 text-warning border border-warning/30",children:[e.jsx(Ft,{}),""]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:C.matched?e.jsx("button",{onClick:()=>L(C.id),className:"px-3 py-1.5 bg-error text-white text-xs font-medium rounded-lg hover:bg-error/80 transition-colors",children:""}):e.jsxs("button",{onClick:()=>{T(C),v(!0)},className:"px-3 py-1.5 bg-gold-500 text-brown-900 text-xs font-medium rounded-lg hover:bg-gold-600 transition-colors flex items-center gap-1 mx-auto",children:[e.jsx(mh,{}),""]})})]},C.id))})]})}),!c&&d>0&&e.jsxs("div",{className:"bg-admin-hover px-6 py-4 flex items-center justify-between border-t border-admin-border",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-brown-300",children:[" ",e.jsx("span",{className:"font-medium text-gold-500",children:(f-1)*p+1})," "," ",e.jsx("span",{className:"font-medium text-gold-500",children:Math.min(f*p,d)})," "," ",e.jsx("span",{className:"font-medium text-gold-500",children:d})," "]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(f-1),disabled:f===1,className:"px-4 py-2 border border-admin-border text-sm font-medium rounded-lg text-brown-300 bg-admin-card hover:bg-admin-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""}),e.jsx("button",{onClick:()=>x(f+1),disabled:f*p>=d,className:"px-4 py-2 border border-admin-border text-sm font-medium rounded-lg text-brown-300 bg-admin-card hover:bg-admin-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]})]}),w&&y&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gold-500 to-gold-600 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-display font-bold text-brown-900",children:""}),e.jsx("button",{onClick:()=>{v(!1),T(null),E("")},className:"text-brown-900 hover:text-brown-700 transition-colors",children:e.jsx(We,{className:"text-2xl"})})]}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[e.jsxs("div",{className:"bg-gold-500/10 border border-gold-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-bold text-gold-500 mb-2",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"ml-2 font-medium text-brown-200",children:y.fromName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsxs("span",{className:"ml-2 font-bold text-gold-500",children:["",B(y.amount)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"ml-2 text-brown-200",children:y.fromAccount})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"ml-2 text-brown-200",children:y.fromBank})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-brown-200 mb-3",children:""}),e.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[l.filter(C=>Math.abs(C.amount-y.amount)<=5).map(C=>e.jsxs("label",{className:`block p-4 border-2 rounded-lg cursor-pointer transition-all ${A===C.id?"border-gold-500 bg-gold-500/10":"border-admin-border hover:border-gold-500/50 hover:bg-admin-hover"}`,children:[e.jsx("input",{type:"radio",name:"deposit",value:C.id,checked:A===C.id,onChange:R=>E(R.target.value),className:"mr-3 accent-gold-500"}),e.jsxs("div",{className:"inline-block",children:[e.jsxs("div",{className:"font-medium text-brown-200",children:[C.memberName," (",C.memberPhone,")"]}),e.jsxs("div",{className:"text-sm text-brown-400",children:[": ",e.jsxs("span",{className:"text-gold-500 font-semibold",children:["",B(C.amount)]}),"  : ",C.status]})]})]},C.id)),l.filter(C=>Math.abs(C.amount-y.amount)<=5).length===0&&e.jsx("p",{className:"text-center text-brown-400 py-8",children:" (5 )"})]})]})]}),e.jsxs("div",{className:"bg-admin-hover px-6 py-4 flex justify-end gap-3 border-t border-admin-border",children:[e.jsx("button",{onClick:()=>{v(!1),T(null),E("")},className:"px-6 py-2 border border-admin-border rounded-lg text-brown-300 font-medium hover:bg-admin-card transition-colors",children:""}),e.jsx("button",{onClick:M,disabled:!A,className:"px-6 py-2 bg-gold-500 text-brown-900 rounded-lg font-medium hover:bg-gold-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]})})]})},wS=()=>{const[s,n]=j.useState([]),[l,i]=j.useState([]),[c,u]=j.useState(!1),[d,h]=j.useState(0),[f,x]=j.useState(1),[p]=j.useState(20),[g,N]=j.useState(""),[w,v]=j.useState(!1),[y,T]=j.useState(null),[A,E]=j.useState("");j.useEffect(()=>{S()},[f]);const S=async()=>{u(!0);try{const[C,R]=await Promise.all([_t.getKBANKStatements({limit:p,offset:(f-1)*p}),_t.getPendingDepositsForKBANK({limit:50,offset:0})]);n(C.statements||[]),h(C.total||0),i(R.deposits||[])}catch(C){U.error(C.response?.data?.message||"")}finally{u(!1)}},M=async()=>{if(!y||!A){U.error("");return}try{await _t.matchKBANKDeposit({statementId:y.id,depositId:A}),U.success(""),v(!1),T(null),E(""),S()}catch(C){U.error(C.response?.data?.message||"")}},L=async C=>{if(confirm("?"))try{await _t.unmatchKBANKDeposit(C),U.success(""),S()}catch(R){U.error(R.response?.data?.message||"")}},B=C=>C.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),D=C=>new Date(C).toLocaleString("th-TH");return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-gold-500",children:" KBANK"}),e.jsx("p",{className:"text-brown-400 mt-1",children:""})]}),e.jsxs("button",{onClick:S,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 disabled:opacity-50 transition-colors font-medium",children:[e.jsx(dt,{className:c?"animate-spin":""}),""]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-gold-500/20 to-gold-600/20 border border-gold-500/30 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx("p",{className:"text-4xl font-bold text-gold-500 mt-2",children:s.filter(C=>!C.matched).length})]}),e.jsx(Ft,{className:"text-5xl text-gold-500/30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/20 border border-green-500/30 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx("p",{className:"text-4xl font-bold text-success mt-2",children:l.length})]}),e.jsx(Fe,{className:"text-5xl text-green-500/30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 border border-purple-500/30 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsxs("p",{className:"text-4xl font-bold text-purple-400 mt-2",children:["",B(s.filter(C=>!C.matched).reduce((C,R)=>C+R.amount,0))]})]}),e.jsx(Ft,{className:"text-5xl text-purple-500/30"})]})})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-admin-border",children:e.jsx("h2",{className:"text-xl font-display font-bold text-gold-500",children:" KBANK"})}),c?e.jsxs("div",{className:"flex justify-center items-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"}),e.jsx("span",{className:"ml-4 text-brown-300 font-medium",children:"..."})]}):s.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Fe,{className:"mx-auto text-6xl text-success mb-4"}),e.jsx("p",{className:"text-brown-400 text-lg",children:""})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-hover",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gold-500 uppercase tracking-wider",children:"/"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gold-500 uppercase tracking-wider",children:"Reference"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gold-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:s.map(C=>e.jsxs("tr",{className:`hover:bg-admin-hover transition-colors ${C.matched?"bg-green-500/10":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-200",children:D(C.transactionDate)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-brown-200",children:C.fromName}),e.jsxs("div",{className:"text-sm text-brown-400",children:[C.fromAccount," (",C.fromBank,")"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-gold-500",children:["",B(C.amount)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-300",children:C.referenceCode}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:C.matched?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold bg-success/20 text-success border border-success/30",children:[e.jsx(Fe,{}),""]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold bg-warning/20 text-warning border border-warning/30",children:[e.jsx(Ft,{}),""]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:C.matched?e.jsx("button",{onClick:()=>L(C.id),className:"px-3 py-1.5 bg-error text-white text-xs font-medium rounded-lg hover:bg-error/80 transition-colors",children:""}):e.jsxs("button",{onClick:()=>{T(C),v(!0)},className:"px-3 py-1.5 bg-gold-500 text-brown-900 text-xs font-medium rounded-lg hover:bg-gold-600 transition-colors flex items-center gap-1 mx-auto",children:[e.jsx(mh,{}),""]})})]},C.id))})]})}),!c&&d>0&&e.jsxs("div",{className:"bg-admin-hover px-6 py-4 flex items-center justify-between border-t border-admin-border",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-brown-300",children:[" ",e.jsx("span",{className:"font-medium text-gold-500",children:(f-1)*p+1})," "," ",e.jsx("span",{className:"font-medium text-gold-500",children:Math.min(f*p,d)})," "," ",e.jsx("span",{className:"font-medium text-gold-500",children:d})," "]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(f-1),disabled:f===1,className:"px-4 py-2 border border-admin-border text-sm font-medium rounded-lg text-brown-300 bg-admin-card hover:bg-admin-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""}),e.jsx("button",{onClick:()=>x(f+1),disabled:f*p>=d,className:"px-4 py-2 border border-admin-border text-sm font-medium rounded-lg text-brown-300 bg-admin-card hover:bg-admin-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]})]}),w&&y&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gold-500 to-gold-600 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-display font-bold text-brown-900",children:""}),e.jsx("button",{onClick:()=>{v(!1),T(null),E("")},className:"text-brown-900 hover:text-brown-700 transition-colors",children:e.jsx(We,{className:"text-2xl"})})]}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[e.jsxs("div",{className:"bg-gold-500/10 border border-gold-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-bold text-gold-500 mb-2",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"ml-2 font-medium text-brown-200",children:y.fromName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsxs("span",{className:"ml-2 font-bold text-gold-500",children:["",B(y.amount)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"ml-2 text-brown-200",children:y.fromAccount})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"ml-2 text-brown-200",children:y.fromBank})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-brown-200 mb-3",children:""}),e.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[l.filter(C=>Math.abs(C.amount-y.amount)<=5).map(C=>e.jsxs("label",{className:`block p-4 border-2 rounded-lg cursor-pointer transition-all ${A===C.id?"border-gold-500 bg-gold-500/10":"border-admin-border hover:border-gold-500/50 hover:bg-admin-hover"}`,children:[e.jsx("input",{type:"radio",name:"deposit",value:C.id,checked:A===C.id,onChange:R=>E(R.target.value),className:"mr-3 accent-gold-500"}),e.jsxs("div",{className:"inline-block",children:[e.jsxs("div",{className:"font-medium text-brown-200",children:[C.memberName," (",C.memberPhone,")"]}),e.jsxs("div",{className:"text-sm text-brown-400",children:[": ",e.jsxs("span",{className:"text-gold-500 font-semibold",children:["",B(C.amount)]}),"  : ",C.status]})]})]},C.id)),l.filter(C=>Math.abs(C.amount-y.amount)<=5).length===0&&e.jsx("p",{className:"text-center text-brown-400 py-8",children:" (5 )"})]})]})]}),e.jsxs("div",{className:"bg-admin-hover px-6 py-4 flex justify-end gap-3 border-t border-admin-border",children:[e.jsx("button",{onClick:()=>{v(!1),T(null),E("")},className:"px-6 py-2 border border-admin-border rounded-lg text-brown-300 font-medium hover:bg-admin-card transition-colors",children:""}),e.jsx("button",{onClick:M,disabled:!A,className:"px-6 py-2 bg-gold-500 text-brown-900 rounded-lg font-medium hover:bg-gold-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]})})]})},SS=()=>{const[s,n]=j.useState([]),[l,i]=j.useState([]),[c,u]=j.useState(!1),[d,h]=j.useState(0),[f,x]=j.useState(1),[p]=j.useState(20),[g,N]=j.useState(""),[w,v]=j.useState(!1),[y,T]=j.useState(null),[A,E]=j.useState("");j.useEffect(()=>{S()},[f]);const S=async()=>{u(!0);try{const[C,R]=await Promise.all([_t.getTrueWalletStatements({limit:p,offset:(f-1)*p}),_t.getPendingDepositsForTrueWallet({limit:50,offset:0})]);n(C.statements||[]),h(C.total||0),i(R.deposits||[])}catch(C){U.error(C.response?.data?.message||"")}finally{u(!1)}},M=async()=>{if(!y||!A){U.error("");return}try{await _t.matchTrueWalletDeposit({statementId:y.id,depositId:A}),U.success(""),v(!1),T(null),E(""),S()}catch(C){U.error(C.response?.data?.message||"")}},L=async C=>{if(confirm("?"))try{await _t.unmatchTrueWalletDeposit(C),U.success(""),S()}catch(R){U.error(R.response?.data?.message||"")}},B=C=>C.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),D=C=>new Date(C).toLocaleString("th-TH");return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-gold-500",children:" TrueWallet"}),e.jsx("p",{className:"text-brown-400 mt-1",children:""})]}),e.jsxs("button",{onClick:S,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 disabled:opacity-50 transition-colors font-medium",children:[e.jsx(dt,{className:c?"animate-spin":""}),""]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-gold-500/20 to-gold-600/20 border border-gold-500/30 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx("p",{className:"text-4xl font-bold text-gold-500 mt-2",children:s.filter(C=>!C.matched).length})]}),e.jsx(Ft,{className:"text-5xl text-gold-500/30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/20 border border-green-500/30 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx("p",{className:"text-4xl font-bold text-success mt-2",children:l.length})]}),e.jsx(Fe,{className:"text-5xl text-green-500/30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 border border-purple-500/30 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsxs("p",{className:"text-4xl font-bold text-purple-400 mt-2",children:["",B(s.filter(C=>!C.matched).reduce((C,R)=>C+R.amount,0))]})]}),e.jsx(Ft,{className:"text-5xl text-purple-500/30"})]})})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-admin-border",children:e.jsx("h2",{className:"text-xl font-display font-bold text-gold-500",children:" TrueWallet"})}),c?e.jsxs("div",{className:"flex justify-center items-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"}),e.jsx("span",{className:"ml-4 text-brown-300 font-medium",children:"..."})]}):s.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Fe,{className:"mx-auto text-6xl text-success mb-4"}),e.jsx("p",{className:"text-brown-400 text-lg",children:""})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-hover",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gold-500 uppercase tracking-wider",children:"/"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gold-500 uppercase tracking-wider",children:"Reference"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gold-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:s.map(C=>e.jsxs("tr",{className:`hover:bg-admin-hover transition-colors ${C.matched?"bg-green-500/10":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-200",children:D(C.transactionDate)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-brown-200",children:C.fromName}),e.jsxs("div",{className:"text-sm text-brown-400",children:[C.fromAccount," (",C.fromBank,")"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-gold-500",children:["",B(C.amount)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-300",children:C.referenceCode}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:C.matched?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold bg-success/20 text-success border border-success/30",children:[e.jsx(Fe,{}),""]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold bg-warning/20 text-warning border border-warning/30",children:[e.jsx(Ft,{}),""]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:C.matched?e.jsx("button",{onClick:()=>L(C.id),className:"px-3 py-1.5 bg-error text-white text-xs font-medium rounded-lg hover:bg-error/80 transition-colors",children:""}):e.jsxs("button",{onClick:()=>{T(C),v(!0)},className:"px-3 py-1.5 bg-gold-500 text-brown-900 text-xs font-medium rounded-lg hover:bg-gold-600 transition-colors flex items-center gap-1 mx-auto",children:[e.jsx(mh,{}),""]})})]},C.id))})]})}),!c&&d>0&&e.jsxs("div",{className:"bg-admin-hover px-6 py-4 flex items-center justify-between border-t border-admin-border",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-brown-300",children:[" ",e.jsx("span",{className:"font-medium text-gold-500",children:(f-1)*p+1})," "," ",e.jsx("span",{className:"font-medium text-gold-500",children:Math.min(f*p,d)})," "," ",e.jsx("span",{className:"font-medium text-gold-500",children:d})," "]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(f-1),disabled:f===1,className:"px-4 py-2 border border-admin-border text-sm font-medium rounded-lg text-brown-300 bg-admin-card hover:bg-admin-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""}),e.jsx("button",{onClick:()=>x(f+1),disabled:f*p>=d,className:"px-4 py-2 border border-admin-border text-sm font-medium rounded-lg text-brown-300 bg-admin-card hover:bg-admin-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]})]}),w&&y&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gold-500 to-gold-600 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-display font-bold text-brown-900",children:""}),e.jsx("button",{onClick:()=>{v(!1),T(null),E("")},className:"text-brown-900 hover:text-brown-700 transition-colors",children:e.jsx(We,{className:"text-2xl"})})]}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[e.jsxs("div",{className:"bg-gold-500/10 border border-gold-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-bold text-gold-500 mb-2",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"ml-2 font-medium text-brown-200",children:y.fromName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsxs("span",{className:"ml-2 font-bold text-gold-500",children:["",B(y.amount)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"ml-2 text-brown-200",children:y.fromAccount})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"ml-2 text-brown-200",children:y.fromBank})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-brown-200 mb-3",children:""}),e.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[l.filter(C=>Math.abs(C.amount-y.amount)<=5).map(C=>e.jsxs("label",{className:`block p-4 border-2 rounded-lg cursor-pointer transition-all ${A===C.id?"border-gold-500 bg-gold-500/10":"border-admin-border hover:border-gold-500/50 hover:bg-admin-hover"}`,children:[e.jsx("input",{type:"radio",name:"deposit",value:C.id,checked:A===C.id,onChange:R=>E(R.target.value),className:"mr-3 accent-gold-500"}),e.jsxs("div",{className:"inline-block",children:[e.jsxs("div",{className:"font-medium text-brown-200",children:[C.memberName," (",C.memberPhone,")"]}),e.jsxs("div",{className:"text-sm text-brown-400",children:[": ",e.jsxs("span",{className:"text-gold-500 font-semibold",children:["",B(C.amount)]}),"  : ",C.status]})]})]},C.id)),l.filter(C=>Math.abs(C.amount-y.amount)<=5).length===0&&e.jsx("p",{className:"text-center text-brown-400 py-8",children:" (5 )"})]})]})]}),e.jsxs("div",{className:"bg-admin-hover px-6 py-4 flex justify-end gap-3 border-t border-admin-border",children:[e.jsx("button",{onClick:()=>{v(!1),T(null),E("")},className:"px-6 py-2 border border-admin-border rounded-lg text-brown-300 font-medium hover:bg-admin-card transition-colors",children:""}),e.jsx("button",{onClick:M,disabled:!A,className:"px-6 py-2 bg-gold-500 text-brown-900 rounded-lg font-medium hover:bg-gold-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]})})]})},Bg=s=>{const n=s.toLowerCase();return{kbank:"ksb",bbl:"bkb",bay:"bkb",scb:"scb",ktb:"ktb",tmb:"tmb",gsb:"gsb",baac:"baac",ghb:"ghb",ghbank:"ghb",lhb:"lhb",lh:"lhb",cimb:"cimb",tisco:"ksi",kkp:"knk",tnc:"tnc",tbank:"tnc",uob:"uob"}[n]||n};function CS(){const[s,n]=j.useState([]),[l,i]=j.useState(!0),[c,u]=j.useState(null),[d,h]=j.useState(!1),[f,x]=j.useState("ALL"),[p,g]=j.useState(""),[N,w]=j.useState(we().format("YYYY-MM-DD")),[v,y]=j.useState(we().format("YYYY-MM-DD"));j.useEffect(()=>{T()},[f,N,v]);const T=async()=>{try{i(!0);const L=f==="ALL"?void 0:f,B=await T6.getWithdrawals({status:L,startDate:N,endDate:v,limit:100,offset:0});n(B.withdrawals||[])}catch(L){console.error("Failed to fetch withdrawals:",L),U.error("")}finally{i(!1)}},A=L=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(L),E=L=>{const B={PENDING:{label:"",color:"text-warning",bgColor:"bg-warning/10"},COMPLETED:{label:"",color:"text-success",bgColor:"bg-success/10"},REJECTED:{label:"",color:"text-error",bgColor:"bg-error/10"}},D=B[L]||B.PENDING;return e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${D.bgColor} ${D.color}`,children:D.label})},S=s.filter(L=>{if(!p)return!0;const B=p.toLowerCase();return L.memberPhone?.toLowerCase().includes(B)||L.memberFullname?.toLowerCase().includes(B)||L.bankAccount?.toLowerCase().includes(B)||L.amount.toString().includes(B)}),M={total:S.length,pending:S.filter(L=>L.status==="PENDING").length,completed:S.filter(L=>L.status==="COMPLETED").length,rejected:S.filter(L=>L.status==="REJECTED").length,totalAmount:S.reduce((L,B)=>L+(B.status==="COMPLETED"?B.amount:0),0)};return l?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-gold-500",children:"..."})}):e.jsxs("div",{className:"p-6 max-w-[1800px] mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-error/20 to-error/10 rounded-lg flex items-center justify-center",children:e.jsx(Pt,{className:"w-5 h-5 text-error"})}),""]}),e.jsx("p",{className:"text-brown-300 ml-13",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-3xl font-bold text-gold-500",children:M.total}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx(ze,{className:"w-10 h-10 text-gold-500 opacity-30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-3xl font-bold text-warning",children:M.pending}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx(Qe,{className:"w-10 h-10 text-warning opacity-30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-3xl font-bold text-success",children:M.completed}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx(Fe,{className:"w-10 h-10 text-success opacity-30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-3xl font-bold text-error",children:M.rejected}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx(fa,{className:"w-10 h-10 text-error opacity-30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-2xl font-bold text-error",children:A(M.totalAmount).replace("","")}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx(Pt,{className:"w-10 h-10 text-error opacity-30"})]})})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl p-4 mb-6 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2 flex items-center gap-2",children:[e.jsx(Fs,{className:"w-4 h-4"}),""]}),e.jsxs("select",{value:f,onChange:L=>x(L.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"ALL",children:""}),e.jsx("option",{value:"PENDING",children:""}),e.jsx("option",{value:"COMPLETED",children:""}),e.jsx("option",{value:"REJECTED",children:""})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2 flex items-center gap-2",children:[e.jsx(yt,{className:"w-4 h-4"}),""]}),e.jsx("input",{type:"date",value:N,onChange:L=>w(L.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2 flex items-center gap-2",children:[e.jsx(yt,{className:"w-4 h-4"}),""]}),e.jsx("input",{type:"date",value:v,onChange:L=>y(L.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2 flex items-center gap-2",children:[e.jsx(Ja,{className:"w-4 h-4"}),""]}),e.jsx("input",{type:"text",value:p,onChange:L=>g(L.target.value),placeholder:", , ...",className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500 placeholder-brown-500"})]})]})}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:S.length===0?e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-admin-bg rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ze,{className:"w-10 h-10 text-brown-500 opacity-50"})}),e.jsx("p",{className:"text-brown-400 text-lg",children:""}),e.jsx("p",{className:"text-brown-500 text-sm mt-2",children:""})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-admin-bg to-admin-bg/50 border-b border-admin-border",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:S.map((L,B)=>e.jsxs("tr",{className:"hover:bg-admin-hover/50 transition-all group",style:{animationDelay:`${B*50}ms`},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-brown-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-brown-200",children:we(L.createdAt).format("HH:mm")}),e.jsx("div",{className:"text-xs text-brown-500",children:we(L.createdAt).format("DD/MM/YY")})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gold-500/20 to-gold-600/10 rounded-full flex items-center justify-center text-gold-500 font-bold text-sm",children:(L.memberFullname||L.memberPhone).charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-brown-100",children:L.memberFullname||L.memberPhone}),e.jsx("div",{className:"text-xs text-brown-400",children:L.memberPhone})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-error/10 px-3 py-1.5 rounded-lg",children:[e.jsx(Pt,{className:"w-4 h-4 text-error"}),e.jsx("span",{className:"text-lg font-bold text-error",children:A(L.amount).replace("","")})]})}),e.jsx("td",{className:"px-6 py-4",children:L.bankCode?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-white shadow-lg flex-shrink-0 border-2 border-white/10",children:e.jsx("img",{src:`/images/banks/bank-${Bg(L.bankCode)}.png`,alt:L.bankName||L.bankCode,className:"w-full h-full object-cover",onError:D=>{const C=D.currentTarget;if(C.style.display="none",C.parentElement){const R=document.createElement("div");R.className="w-full h-full bg-gradient-to-br from-gray-600 to-gray-700 flex items-center justify-center text-white font-bold text-xs",R.textContent=L.bankCode.substring(0,2),C.parentElement.appendChild(R)}}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-100 truncate",children:L.bankName||L.bankCode}),e.jsx("div",{className:"text-xs text-brown-400 font-mono mt-0.5",children:L.bankAccount})]})]}):e.jsx("span",{className:"text-brown-500 text-sm",children:"-"})}),e.jsx("td",{className:"px-6 py-4 text-center",children:E(L.status)}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-center gap-2",children:e.jsxs("button",{onClick:()=>{u(L),h(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-info/10 hover:bg-info/20 text-info rounded-lg transition-all text-sm font-semibold shadow-sm hover:shadow-md",children:[e.jsx(xa,{className:"w-4 h-4"}),""]})})})]},L.id))})]})})}),d&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-2xl max-w-2xl w-full p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("h3",{className:"text-xl font-bold text-gold-500 mb-4 flex items-center gap-2",children:[e.jsx(Pt,{className:"w-6 h-6"}),""]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-admin-bg rounded-xl border border-admin-border",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-200 mb-3",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),e.jsx("div",{className:"text-sm text-brown-100",children:c.memberFullname||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),e.jsx("div",{className:"text-sm text-brown-100",children:c.memberPhone})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),e.jsx("div",{className:"text-sm text-success font-semibold",children:A(c.memberCredit||0)})]})]})]}),e.jsxs("div",{className:"p-4 bg-admin-bg rounded-xl border border-admin-border",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-200 mb-3",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),e.jsx("div",{className:"text-2xl text-error font-bold",children:A(c.amount)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),E(c.status)]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),e.jsx("div",{className:"text-sm text-brown-100",children:we(c.createdAt).format("DD/MM/YYYY HH:mm:ss")})]}),c.completedAt&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-brown-500 mb-1",children:""}),e.jsx("div",{className:"text-sm text-brown-100",children:we(c.completedAt).format("DD/MM/YYYY HH:mm:ss")})]})]})]}),c.bankCode&&e.jsxs("div",{className:"p-4 bg-admin-bg rounded-xl border border-admin-border",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-200 mb-3",children:""}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-white shadow-lg",children:e.jsx("img",{src:`/images/banks/bank-${Bg(c.bankCode)}.png`,alt:c.bankName||c.bankCode,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-brown-100",children:c.bankName||c.bankCode}),e.jsx("div",{className:"text-xs text-brown-400 font-mono",children:c.bankAccount})]})]})]}),c.remark&&e.jsxs("div",{className:"p-4 bg-admin-bg rounded-xl border border-admin-border",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-200 mb-2",children:""}),e.jsx("div",{className:"text-sm text-brown-100",children:c.remark})]})]}),e.jsx("div",{className:"flex gap-3 mt-6",children:e.jsx("button",{onClick:()=>{h(!1),u(null)},className:"flex-1 px-4 py-2.5 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all font-medium",children:""})})]})})]})}const Fm={getPendingWithdrawals:async(s=20,n=0)=>(await J.get("/withdrawals/pending",{params:{limit:s,offset:n}})).data,getWithdrawalDetails:async s=>(await J.get(`/withdrawals/${s}`)).data,approveWithdrawal:async(s,n)=>J.post(`/withdrawals/${s}/approve`,n),rejectWithdrawal:async(s,n)=>J.post(`/withdrawals/${s}/reject`,n),cancelWithdrawal:async s=>J.post(`/withdrawals/${s}/cancel`),bulkApprove:async(s,n)=>(await J.post("/withdrawals/bulk-approve",{ids:s,...n})).data,bulkReject:async(s,n)=>(await J.post("/withdrawals/bulk-reject",{ids:s,reason:n})).data,getAllWithdrawals:async(s=1,n=20,l)=>(await J.get("/withdrawals",{params:{page:s,pageSize:n,status:l}})).data,updateAutoSettings:async s=>(await J.put("/withdrawals/auto-settings",s)).data.data},kS=s=>{const n=s.toLowerCase();return{kbank:"ksb",bbl:"bkb",bay:"bkb",scb:"scb",ktb:"ktb",tmb:"tmb",gsb:"gsb",baac:"baac",ghb:"ghb",ghbank:"ghb",lhb:"lhb",lh:"lhb",cimb:"cimb",tisco:"ksi",kkp:"knk",tnc:"tnc",tbank:"tnc",uob:"uob"}[n]||n};function TS(){const[s,n]=j.useState([]),[l,i]=j.useState(!0),[c,u]=j.useState(null),[d,h]=j.useState(!1),[f,x]=j.useState(!1),[p,g]=j.useState(0),[N,w]=j.useState(""),[v,y]=j.useState(""),[T,A]=j.useState(!1),[E,S]=j.useState("manual"),[M,L]=j.useState("bitpayz"),[B,D]=j.useState(""),[C,R]=j.useState(null),[$,q]=j.useState(!1);j.useEffect(()=>{P()},[]);const P=async()=>{try{i(!0);const H=await Fm.getPendingWithdrawals(100,0);n(H.withdrawals||[])}catch(H){console.error("Failed to fetch withdrawals:",H),U.error("")}finally{i(!1)}},V=async H=>{const F=H.target.files?.[0];if(!F)return;if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(F.type)){U.error(" (JPG, PNG, GIF)");return}if(F.size>10*1024*1024){U.error(" 10MB");return}R(F);try{q(!0);const oe=await A6.uploadSlip(F);D(oe.url),U.success("")}catch(oe){console.error("Failed to upload slip:",oe),U.error(""),R(null)}finally{q(!1)}},K=async()=>{if(c){if(E==="manual"&&!B.trim()){U.error("");return}try{A(!0),await Fm.approveWithdrawal(c.id,{paymentMethod:E,gateway:E==="auto"?M:void 0,slipUrl:E==="manual"?B:void 0,remark:N||void 0}),U.success(""),h(!1),u(null),g(0),w(""),S("manual"),L("bitpayz"),D(""),R(null),P()}catch(H){U.error(H.response?.data?.message||"")}finally{A(!1)}}},W=async()=>{if(!c||!v){U.error("");return}try{A(!0),await Fm.rejectWithdrawal(c.id,{reason:v}),U.success(" ()"),x(!1),u(null),y(""),w(""),P()}catch(H){U.error(H.response?.data?.message||"")}finally{A(!1)}},z=H=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(H);return l?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-gold-500",children:"..."})}):e.jsxs("div",{className:"p-6 max-w-[1800px] mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-error/20 to-error/10 rounded-lg flex items-center justify-center",children:e.jsx(Pt,{className:"w-5 h-5 text-error"})}),""]}),e.jsx("p",{className:"text-brown-300 ml-13",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-brown-400 text-sm mb-1 flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4"}),""]}),e.jsx("div",{className:"text-3xl font-bold text-warning",children:s.length}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx("div",{className:"w-14 h-14 bg-warning/10 rounded-xl flex items-center justify-center",children:e.jsx(Qe,{className:"w-7 h-7 text-warning"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-brown-400 text-sm mb-1 flex items-center gap-2",children:[e.jsx(ze,{className:"w-4 h-4"}),""]}),e.jsx("div",{className:"text-3xl font-bold text-error",children:z(s.reduce((H,F)=>H+F.amount,0)).replace("","")}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx("div",{className:"w-14 h-14 bg-error/10 rounded-xl flex items-center justify-center",children:e.jsx(Pt,{className:"w-7 h-7 text-error"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-brown-400 text-sm mb-1 flex items-center gap-2",children:[e.jsx(yt,{className:"w-4 h-4"}),""]}),e.jsx("div",{className:"text-3xl font-bold text-info",children:s.filter(H=>we(H.createdAt).isSame(we(),"day")).length}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx("div",{className:"w-14 h-14 bg-info/10 rounded-xl flex items-center justify-center",children:e.jsx(yt,{className:"w-7 h-7 text-info"})})]})})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:s.length===0?e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-admin-bg rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ze,{className:"w-10 h-10 text-brown-500 opacity-50"})}),e.jsx("p",{className:"text-brown-400 text-lg",children:""}),e.jsx("p",{className:"text-brown-500 text-sm mt-2",children:""})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-admin-bg to-admin-bg/50 border-b border-admin-border",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:s.map((H,F)=>e.jsxs("tr",{className:"hover:bg-admin-hover/50 transition-all group",style:{animationDelay:`${F*50}ms`},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-brown-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-brown-200",children:we(H.createdAt).format("HH:mm")}),e.jsx("div",{className:"text-xs text-brown-500",children:we(H.createdAt).format("DD/MM/YY")})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gold-500/20 to-gold-600/10 rounded-full flex items-center justify-center text-gold-500 font-bold text-sm",children:(H.memberFullname||H.memberPhone).charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-brown-100",children:H.memberFullname||H.memberPhone}),e.jsx("div",{className:"text-xs text-brown-400",children:H.memberPhone}),e.jsxs("div",{className:"text-xs text-brown-500 mt-0.5 flex items-center gap-1",children:[e.jsx("span",{className:"text-success",children:""}),z(H.memberCredit).replace("","")]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-error/10 px-3 py-1.5 rounded-lg",children:[e.jsx(Pt,{className:"w-4 h-4 text-error"}),e.jsx("span",{className:"text-lg font-bold text-error",children:z(H.amount).replace("","")})]})}),e.jsx("td",{className:"px-6 py-4",children:H.bankCode?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-white shadow-lg flex-shrink-0 border-2 border-white/10",children:e.jsx("img",{src:`/images/banks/bank-${kS(H.bankCode)}.png`,alt:H.bankName||H.bankCode,className:"w-full h-full object-cover",onError:le=>{const oe=le.currentTarget;if(oe.style.display="none",oe.parentElement){const _=document.createElement("div");_.className="w-full h-full bg-gradient-to-br from-gray-600 to-gray-700 flex items-center justify-center text-white font-bold text-xs",_.textContent=H.bankCode.substring(0,2),oe.parentElement.appendChild(_)}}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-brown-100 truncate",children:H.bankName||H.bankCode}),e.jsx("div",{className:"text-xs text-brown-400 font-mono mt-0.5",children:H.bankAccount})]})]}):e.jsx("span",{className:"text-brown-500 text-sm",children:"-"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("button",{onClick:()=>{u(H),h(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-success/10 hover:bg-success/20 text-success rounded-lg transition-all text-sm font-semibold shadow-sm hover:shadow-md",children:[e.jsx(Fe,{className:"w-4 h-4"}),""]}),e.jsxs("button",{onClick:()=>{u(H),x(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-error/10 hover:bg-error/20 text-error rounded-lg transition-all text-sm font-semibold shadow-sm hover:shadow-md",children:[e.jsx(fa,{className:"w-4 h-4"}),""]})]})})]},H.id))})]})})}),d&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-2xl max-w-lg w-full p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("h3",{className:"text-xl font-bold text-gold-500 mb-4 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-6 h-6"}),""]}),e.jsxs("div",{className:"mb-6 p-4 bg-admin-bg rounded-xl border border-admin-border",children:[e.jsxs("div",{className:"text-sm text-brown-400 mb-2",children:[": ",c.memberPhone]}),e.jsx("div",{className:"text-3xl font-bold text-error mb-2",children:z(c.amount)}),c.bankCode&&e.jsx(kv,{bankCode:c.bankCode,bankName:c.bankName||"",bankNumber:c.bankNumber||"",size:"sm"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-brown-200 mb-3",children:[" ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:`cursor-pointer border-2 rounded-lg p-4 transition-all ${E==="auto"?"border-gold-500 bg-gold-500/10":"border-admin-border bg-admin-bg hover:border-brown-400"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"auto",checked:E==="auto",onChange:H=>S(H.target.value),className:"sr-only"}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Gc,{className:"w-5 h-5 text-gold-500"}),e.jsx("span",{className:"font-semibold text-brown-100",children:""})]}),e.jsx("p",{className:"text-xs text-brown-400",children:" Gateway"})]}),e.jsxs("label",{className:`cursor-pointer border-2 rounded-lg p-4 transition-all ${E==="manual"?"border-gold-500 bg-gold-500/10":"border-admin-border bg-admin-bg hover:border-brown-400"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"manual",checked:E==="manual",onChange:H=>S(H.target.value),className:"sr-only"}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Xa,{className:"w-5 h-5 text-gold-500"}),e.jsx("span",{className:"font-semibold text-brown-100",children:"Manual"})]}),e.jsx("p",{className:"text-xs text-brown-400",children:" + "})]})]})]}),E==="auto"&&e.jsxs("div",{className:"p-4 bg-info/10 border border-info/30 rounded-lg",children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:[" Payment Gateway ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsxs("select",{value:M,onChange:H=>L(H.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"bitpayz",children:"Bitpayz"}),e.jsx("option",{value:"scb_auto",children:"SCB Auto"}),e.jsx("option",{value:"autopeer",children:"Autopeer"})]})]}),E==="manual"&&e.jsxs("div",{className:"p-4 bg-warning/10 border border-warning/30 rounded-lg",children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:[" ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 px-4 py-3 bg-admin-bg hover:bg-admin-hover border-2 border-dashed border-admin-border hover:border-gold-500 rounded-lg transition-all",children:[e.jsx(Xa,{className:"w-5 h-5 text-gold-500"}),e.jsx("span",{className:"text-brown-200 font-medium",children:C?C.name:""})]}),e.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif",onChange:V,className:"hidden",disabled:$})]}),$&&e.jsxs("div",{className:"flex items-center gap-2 text-warning text-sm",children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-warning border-t-transparent rounded-full"}),e.jsx("span",{children:"..."})]}),B&&!$&&e.jsxs("div",{className:"flex items-center gap-2 text-success text-sm",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsx("span",{children:""})]})]}),e.jsx("p",{className:"text-xs text-brown-500 mt-2",children:" JPG, PNG, GIF  10MB"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("input",{type:"number",value:p,onChange:H=>g(Number(H.target.value)),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",placeholder:c.amount.toString()}),e.jsxs("p",{className:"text-xs text-brown-500 mt-1",children:["  ",z(c.amount)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" ()"}),e.jsx("textarea",{value:N,onChange:H=>w(H.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",rows:3,placeholder:"..."})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{h(!1),u(null),g(0),w(""),S("manual"),L("bitpayz"),D(""),R(null)},className:"flex-1 px-4 py-2.5 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all font-medium",disabled:T,children:""}),e.jsx("button",{onClick:K,className:"flex-1 px-4 py-2.5 bg-success hover:bg-success/90 text-white rounded-lg transition-all disabled:opacity-50 font-semibold shadow-lg",disabled:T||E==="manual"&&!B,children:T?"...":""})]})]})}),f&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-error mb-4 flex items-center gap-2",children:[e.jsx(fa,{className:"w-6 h-6"}),""]}),e.jsxs("div",{className:"mb-6 p-4 bg-error/10 rounded-xl border border-error/30",children:[e.jsx("div",{className:"text-sm text-warning mb-2 flex items-center gap-2",children:" "}),e.jsxs("div",{className:"text-sm text-brown-400 mb-2",children:[": ",c.memberPhone]}),e.jsx("div",{className:"text-2xl font-bold text-error",children:z(c.amount)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:[" ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsx("textarea",{value:v,onChange:H=>y(H.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-error",rows:3,placeholder:"...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" ()"}),e.jsx("textarea",{value:N,onChange:H=>w(H.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",rows:2,placeholder:"..."})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{x(!1),u(null),y(""),w("")},className:"flex-1 px-4 py-2.5 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all font-medium",disabled:T,children:""}),e.jsx("button",{onClick:W,className:"flex-1 px-4 py-2.5 bg-error hover:bg-error/90 text-white rounded-lg transition-all disabled:opacity-50 font-semibold shadow-lg",disabled:T,children:T?"...":""})]})]})})]})}function AS(){const[s,n]=j.useState([]),[l,i]=j.useState(!0),[c,u]=j.useState(null),[d,h]=j.useState(!1),[f,x]=j.useState(!1),[p,g]=j.useState(!1),[N,w]=j.useState("ALL");j.useEffect(()=>{v()},[N]);const v=async()=>{try{i(!0);const B={page:1,pageSize:100};N!=="ALL"&&(B.status=N);const D=await Rm.getCashbackList(B);n(D.cashbacks||[])}catch(B){console.error("Failed to fetch cashbacks:",B),U.error("")}finally{i(!1)}},y=async()=>{if(c)try{g(!0),await Rm.approveCashback(c.id),U.success(""),h(!1),u(null),v()}catch(B){U.error(B.response?.data?.message||"")}finally{g(!1)}},T=async()=>{if(c)try{g(!0),await Rm.cancelCashback(c.id),U.success(""),x(!1),u(null),v()}catch(B){U.error(B.response?.data?.message||"")}finally{g(!1)}},A=B=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(B),E=B=>{const C={PENDING:{label:"",class:"bg-warning/20 text-warning border-warning/30"},APPROVED:{label:"",class:"bg-success/20 text-success border-success/30"},CANCELLED:{label:"",class:"bg-error/20 text-error border-error/30"}}[B]||{label:B,class:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${C.class}`,children:C.label})},S=s.filter(B=>B.status==="PENDING").length,M=s.reduce((B,D)=>B+D.amount,0),L=s.filter(B=>we(B.createdAt).isSame(we(),"day")).length;return l?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-gold-500",children:"..."})}):e.jsxs("div",{className:"p-6 max-w-[1800px] mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-info/20 to-info/10 rounded-lg flex items-center justify-center",children:e.jsx(zt,{className:"w-5 h-5 text-info"})})," (Cashback)"]}),e.jsx("p",{className:"text-brown-300 ml-13",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-brown-400 text-sm mb-1 flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4"}),""]}),e.jsx("div",{className:"text-3xl font-bold text-warning",children:S}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx("div",{className:"w-14 h-14 bg-warning/10 rounded-xl flex items-center justify-center",children:e.jsx(Qe,{className:"w-7 h-7 text-warning"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-brown-400 text-sm mb-1 flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),""]}),e.jsx("div",{className:"text-3xl font-bold text-info",children:A(M).replace("","")}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx("div",{className:"w-14 h-14 bg-info/10 rounded-xl flex items-center justify-center",children:e.jsx(zt,{className:"w-7 h-7 text-info"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-admin-card to-admin-bg border border-admin-border rounded-xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-brown-400 text-sm mb-1 flex items-center gap-2",children:[e.jsx(yt,{className:"w-4 h-4"}),""]}),e.jsx("div",{className:"text-3xl font-bold text-success",children:L}),e.jsx("div",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsx("div",{className:"w-14 h-14 bg-success/10 rounded-xl flex items-center justify-center",children:e.jsx(yt,{className:"w-7 h-7 text-success"})})]})})]}),e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(Fs,{className:"w-5 h-5 text-brown-400"}),e.jsx("span",{className:"text-brown-300 text-sm font-medium",children:":"}),e.jsx("div",{className:"flex gap-2",children:["ALL","PENDING","APPROVED","CANCELLED"].map(B=>e.jsx("button",{onClick:()=>w(B),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${N===B?"bg-gold-500 text-white shadow-lg":"bg-admin-card border border-admin-border text-brown-300 hover:bg-admin-hover"}`,children:B==="ALL"?"":B==="PENDING"?"":B==="APPROVED"?"":""},B))})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:s.length===0?e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-admin-bg rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(zt,{className:"w-10 h-10 text-brown-500 opacity-50"})}),e.jsx("p",{className:"text-brown-400 text-lg",children:""}),e.jsx("p",{className:"text-brown-500 text-sm mt-2",children:""})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-admin-bg to-admin-bg/50 border-b border-admin-border",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:s.map((B,D)=>e.jsxs("tr",{className:"hover:bg-admin-hover/50 transition-all group",style:{animationDelay:`${D*50}ms`},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-brown-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-brown-200",children:we(B.createdAt).format("HH:mm")}),e.jsx("div",{className:"text-xs text-brown-500",children:we(B.createdAt).format("DD/MM/YY")})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-info/20 to-info/10 rounded-full flex items-center justify-center text-info font-bold text-sm",children:(B.memberFullname||B.memberPhone).charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-brown-100",children:B.memberFullname||B.memberPhone}),e.jsx("div",{className:"text-xs text-brown-400",children:B.memberPhone})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-error"}),e.jsx("span",{className:"text-sm font-bold text-error",children:A(B.lossAmount).replace("","")})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-1 bg-gold-500/10 px-3 py-1 rounded-lg",children:[e.jsx(yv,{className:"w-3 h-3 text-gold-500"}),e.jsxs("span",{className:"text-sm font-bold text-gold-500",children:[B.percentage,"%"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-info/10 px-3 py-1.5 rounded-lg",children:[e.jsx(zt,{className:"w-4 h-4 text-info"}),e.jsx("span",{className:"text-lg font-bold text-info",children:A(B.amount).replace("","")})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:E(B.status)}),e.jsxs("td",{className:"px-6 py-4",children:[B.status==="PENDING"&&e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("button",{onClick:()=>{u(B),h(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-success/10 hover:bg-success/20 text-success rounded-lg transition-all text-sm font-semibold shadow-sm hover:shadow-md",children:[e.jsx(Fe,{className:"w-4 h-4"}),""]}),e.jsxs("button",{onClick:()=>{u(B),x(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-error/10 hover:bg-error/20 text-error rounded-lg transition-all text-sm font-semibold shadow-sm hover:shadow-md",children:[e.jsx(fa,{className:"w-4 h-4"}),""]})]}),B.status!=="PENDING"&&e.jsx("span",{className:"text-brown-500 text-sm",children:"-"})]})]},B.id))})]})})}),d&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-gold-500 mb-4 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-6 h-6"}),""]}),e.jsxs("div",{className:"mb-6 p-4 bg-admin-bg rounded-xl border border-admin-border space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-brown-400",children:":"}),e.jsx("span",{className:"text-sm font-semibold text-brown-100",children:c.memberPhone})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-brown-400",children:":"}),e.jsx("span",{className:"text-sm font-bold text-error",children:A(c.lossAmount)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-brown-400",children:":"}),e.jsxs("span",{className:"text-sm font-bold text-gold-500",children:[c.percentage,"%"]})]}),e.jsx("div",{className:"pt-3 border-t border-admin-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-brown-400",children:":"}),e.jsx("span",{className:"text-2xl font-bold text-info",children:A(c.amount)})]})})]}),e.jsx("div",{className:"bg-info/10 border border-info/30 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-sm text-info",children:" "})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{h(!1),u(null)},className:"flex-1 px-4 py-2.5 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all font-medium",disabled:p,children:""}),e.jsx("button",{onClick:y,className:"flex-1 px-4 py-2.5 bg-success hover:bg-success/90 text-white rounded-lg transition-all disabled:opacity-50 font-semibold shadow-lg",disabled:p,children:p?"...":""})]})]})}),f&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-error mb-4 flex items-center gap-2",children:[e.jsx(fa,{className:"w-6 h-6"}),""]}),e.jsxs("div",{className:"mb-6 p-4 bg-error/10 rounded-xl border border-error/30",children:[e.jsx("div",{className:"text-sm text-warning mb-2 flex items-center gap-2",children:" "}),e.jsxs("div",{className:"text-sm text-brown-400 mb-2",children:[": ",c.memberPhone]}),e.jsx("div",{className:"text-2xl font-bold text-error",children:A(c.amount)})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{x(!1),u(null)},className:"flex-1 px-4 py-2.5 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all font-medium",disabled:p,children:""}),e.jsx("button",{onClick:T,className:"flex-1 px-4 py-2.5 bg-error hover:bg-error/90 text-white rounded-lg transition-all disabled:opacity-50 font-semibold shadow-lg",disabled:p,children:p?"...":""})]})]})})]})}function ES(){const s=kt(),[n,l]=j.useState([]),[i,c]=j.useState(!0),[u,d]=j.useState(""),[h,f]=j.useState(""),[x,p]=j.useState(0),[g,N]=j.useState(1),w=20;j.useEffect(()=>{v()},[g,u,h]);const v=async()=>{try{c(!0);const E=await Ts.listMembers({page:g,pageSize:w,search:u||void 0,status:h||void 0});l(E.members||[]),p(E.total||0)}catch(E){console.error("Failed to fetch members:",E),U.error("")}finally{c(!1)}},y=E=>{E.preventDefault(),N(1),v()},T=E=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(E),A=E=>{switch(E){case"active":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-success/10 text-success",children:""});case"inactive":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-warning/10 text-warning",children:""});case"banned":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-error/10 text-error",children:""});default:return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-brown-400/10 text-brown-400",children:E})}};return i&&n.length===0?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-gold-500",children:"..."})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2",children:""}),e.jsx("p",{className:"text-brown-300",children:""})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg p-4 mb-6",children:e.jsxs("form",{onSubmit:y,className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ja,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-brown-400 w-5 h-5"}),e.jsx("input",{type:"text",value:u,onChange:E=>d(E.target.value),className:"w-full pl-10 pr-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 placeholder-brown-500 focus:outline-none focus:ring-2 focus:ring-gold-500",placeholder:" , , ..."})]})}),e.jsxs("select",{value:h,onChange:E=>{f(E.target.value),N(1)},className:"px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"active",children:""}),e.jsx("option",{value:"inactive",children:""}),e.jsx("option",{value:"banned",children:""})]}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-gold-500 hover:bg-gold-600 text-white rounded-lg transition-all",children:""})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-4",children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-2xl font-bold text-gold-500",children:x})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-4",children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-2xl font-bold text-success",children:n.filter(E=>E.status==="active").length})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-4",children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-2xl font-bold text-warning",children:n.filter(E=>E.status==="inactive").length})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-4",children:[e.jsx("div",{className:"text-brown-400 text-sm mb-1",children:""}),e.jsx("div",{className:"text-2xl font-bold text-error",children:n.filter(E=>E.status==="banned").length})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg shadow-lg overflow-hidden",children:[n.length===0?e.jsxs("div",{className:"p-12 text-center text-brown-400",children:[e.jsx(As,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:""})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-admin-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase",children:"-"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:n.map(E=>e.jsxs("tr",{className:"hover:bg-admin-hover transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-brown-200",children:E.phone}),E.lineId&&e.jsxs("div",{className:"text-xs text-brown-400",children:["Line: ",E.lineId]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-brown-200",children:E.fullname||"-"}),E.bankAccount&&e.jsxs("div",{className:"text-xs text-brown-400",children:[E.bankName," - ",E.bankAccount]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm font-bold text-gold-500",children:T(E.credit)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm text-success",children:T(E.totalDeposit)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm text-error",children:T(E.totalWithdrawal)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:A(E.status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-brown-300",children:we(E.createdAt).format("DD/MM/YYYY")}),e.jsx("div",{className:"text-xs text-brown-400",children:we(E.createdAt).format("HH:mm")})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>s(`/admin/members/${E.id}`),className:"p-2 bg-info/10 hover:bg-info/20 text-info rounded-lg transition-all",title:"",children:e.jsx(qc,{className:"w-4 h-4"})}),E.status==="banned"?e.jsx("button",{className:"p-2 bg-success/10 hover:bg-success/20 text-success rounded-lg transition-all",title:"",children:e.jsx(zs,{className:"w-4 h-4"})}):e.jsx("button",{className:"p-2 bg-error/10 hover:bg-error/20 text-error rounded-lg transition-all",title:"",children:e.jsx(oS,{className:"w-4 h-4"})})]})})]},E.id))})]})}),x>w&&e.jsxs("div",{className:"px-6 py-4 border-t border-admin-border flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-brown-400",children:[" ",(g-1)*w+1," - ",Math.min(g*w,x),"  ",x," "]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N(g-1),disabled:g===1,className:"px-4 py-2 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:""}),e.jsx("div",{className:"px-4 py-2 bg-gold-500 text-white rounded-lg",children:g}),e.jsx("button",{onClick:()=>N(g+1),disabled:g*w>=x,className:"px-4 py-2 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})]})]})}const DS=[{value:"TRUE",label:"TRUEMONEY WALLET - "},{value:"KBANK",label:"KBANK - "},{value:"SCB",label:"SCB - "},{value:"KTB",label:"KTB - "},{value:"BBL",label:"BBL - "},{value:"BAY",label:"BAY - "},{value:"TTB",label:"TTB - "},{value:"GSB",label:"GSB - "},{value:"BAAC",label:"BAAC - "},{value:"LH",label:"LH -   "},{value:"UOBT",label:"UOBT - "},{value:"GHB",label:"GHB - "},{value:"CIMBT",label:"CIMBT - "},{value:"TISCO",label:"TISCO - "}];function _S({isOpen:s,onClose:n,onSuccess:l}){const[i,c]=j.useState(!1),[u,d]=j.useState({phone:"",password:"",fullname:"",bankCode:"",bankNumber:"",line:"",ref:""}),h=x=>{d(p=>({...p,[x.target.name]:x.target.value}))},f=async x=>{if(x.preventDefault(),!u.phone){U.error("");return}if(!u.password||u.password.length<6){U.error(" 6 ");return}if(!u.fullname){U.error("-");return}if(!u.bankCode){U.error("");return}if(!u.bankNumber){U.error("");return}try{c(!0),await Ts.createMember({phone:u.phone,password:u.password,fullname:u.fullname,bankName:u.bankCode,bankAccount:u.bankNumber,lineId:u.line||void 0}),U.success(""),l(),n(),d({phone:"",password:"",fullname:"",bankCode:"",bankNumber:"",line:"",ref:""})}catch(p){console.error("Failed to create member:",p),U.error(p.response?.data?.message||"")}finally{c(!1)}};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:""}),e.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(We,{className:"w-6 h-6 text-gray-500"})})]}),e.jsxs("form",{onSubmit:f,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:h,placeholder:" 10 ",maxLength:10,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C4A962] focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"password",name:"password",value:u.password,onChange:h,placeholder:"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C4A962] focus:border-transparent",required:!0,minLength:6}),e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"**  6  **"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"fullname",className:"block text-sm font-semibold text-gray-700 mb-2",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"fullname",name:"fullname",value:u.fullname,onChange:h,placeholder:" //",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C4A962] focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"bankCode",className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"bankCode",name:"bankCode",value:u.bankCode,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C4A962] focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:""}),DS.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"bankNumber",className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"bankNumber",name:"bankNumber",value:u.bankNumber,onChange:h,placeholder:"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C4A962] focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"line",className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),e.jsx("input",{type:"text",id:"line",name:"line",value:u.line,onChange:h,placeholder:" ()",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#C4A962] focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:i,children:""}),e.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-[#C4A962] text-white rounded-lg hover:bg-[#B39952] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"...":""})]})]})]})}):null}const MS=[{value:"TRUE",label:"TRUEMONEY WALLET - "},{value:"KBANK",label:"KBANK - "},{value:"SCB",label:"SCB - "},{value:"KTB",label:"KTB - "},{value:"BBL",label:"BBL - "},{value:"BAY",label:"BAY - "},{value:"TTB",label:"TTB - "},{value:"GSB",label:"GSB - "},{value:"BAAC",label:"BAAC - "},{value:"LH",label:"LH -   "},{value:"UOBT",label:"UOBT - "},{value:"GHB",label:"GHB - "},{value:"CIMBT",label:"CIMBT - "},{value:"TISCO",label:"TISCO - "}];function LS({isOpen:s,member:n,onClose:l,onSuccess:i}){const[c,u]=j.useState(!1),[d,h]=j.useState({phone:"",password:"",fullname:"",bankCode:"",bankNumber:"",line:"",status:"active",gameUsername:"",gamePassword:"",remark:""});j.useEffect(()=>{n&&h({phone:n.phone||"",password:"",fullname:n.fullname||"",bankCode:n.bankCode||"",bankNumber:n.bankNumber||"",line:n.line||"",status:n.status||"active",gameUsername:n.gameUsername||"",gamePassword:n.gamePassword||"",remark:""})},[n]);const f=p=>{const{name:g,value:N,type:w}=p.target;if(w==="checkbox"){const v=p.target.checked;h(y=>({...y,[g]:v?"active":"inactive"}))}else h(v=>({...v,[g]:N}))},x=async p=>{if(p.preventDefault(),!!n)try{u(!0),await Ts.updateMember(n.id,{fullname:d.fullname,bankName:d.bankCode,bankAccount:d.bankNumber,lineId:d.line||void 0}),d.status!==n.status&&await Ts.updateMemberStatus(n.id,d.status),d.password&&d.password.length>=6&&await Ts.resetMemberPassword(n.id,d.password),U.success(""),i(),l()}catch(g){console.error("Failed to update member:",g),U.error(g.response?.data?.message||"")}finally{u(!1)}};return!s||!n?null:e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-admin-border sticky top-0 bg-admin-card z-20",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-gold-500",children:""}),e.jsx("p",{className:"text-brown-400 text-sm mt-1",children:n.phone})]}),e.jsx("button",{onClick:l,className:"p-1 hover:bg-admin-hover rounded transition-colors",children:e.jsx(We,{className:"w-6 h-6 text-brown-400 hover:text-gold-500"})})]}),e.jsxs("form",{onSubmit:x,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-brown-300 mb-2",children:[" ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:d.phone,readOnly:!0,disabled:!0,className:"w-full px-4 py-2 border border-admin-border rounded-lg bg-admin-bg text-brown-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-brown-300 mb-2",children:" ()"}),e.jsx("input",{type:"text",id:"password",name:"password",value:d.password,onChange:f,placeholder:"",className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 placeholder-brown-500 focus:ring-2 focus:ring-gold-500 focus:border-transparent",minLength:6}),e.jsx("p",{className:"text-xs text-error mt-1",children:"**  6  **"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"fullname",className:"block text-sm font-medium text-brown-300 mb-2",children:["  ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsx("input",{type:"text",id:"fullname",name:"fullname",value:d.fullname,onChange:f,placeholder:" //",className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 placeholder-brown-500 focus:ring-2 focus:ring-gold-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"bankCode",className:"block text-sm font-medium text-brown-300 mb-2",children:[" ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsxs("select",{id:"bankCode",name:"bankCode",value:d.bankCode,onChange:f,className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:""}),MS.map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"bankNumber",className:"block text-sm font-medium text-brown-300 mb-2",children:[" ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsx("input",{type:"text",id:"bankNumber",name:"bankNumber",value:d.bankNumber,onChange:f,placeholder:"",className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 placeholder-brown-500 focus:ring-2 focus:ring-gold-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"line",className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("input",{type:"text",id:"line",name:"line",value:d.line,onChange:f,placeholder:" ()",className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 placeholder-brown-500 focus:ring-2 focus:ring-gold-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:"/ "}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"status",checked:d.status==="active",onChange:f,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-admin-bg peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gold-500/20 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-admin-border after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-success"}),e.jsx("span",{className:"ms-3 text-sm font-medium text-brown-200",children:d.status==="active"?"":""})]})})]})]}),e.jsx("div",{className:"border-t border-admin-border my-6"}),e.jsx("h3",{className:"text-lg font-bold text-gold-500 mb-4",children:""}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gameUsername",className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("input",{type:"text",id:"gameUsername",name:"gameUsername",value:d.gameUsername,readOnly:!0,className:"w-full px-4 py-2 border border-admin-border rounded-lg bg-admin-bg text-brown-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gamePassword",className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("input",{type:"text",id:"gamePassword",name:"gamePassword",value:d.gamePassword,readOnly:!0,className:"w-full px-4 py-2 border border-admin-border rounded-lg bg-admin-bg text-brown-500"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"remark",className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("textarea",{id:"remark",name:"remark",value:d.remark,onChange:f,rows:5,className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 placeholder-brown-500 focus:ring-2 focus:ring-gold-500 focus:border-transparent resize-none",placeholder:"..."})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-admin-border",children:[e.jsx("button",{type:"button",onClick:l,className:"px-6 py-2 text-brown-300 bg-admin-card border border-admin-border rounded-lg hover:border-gold-500/50 transition-colors",disabled:c,children:""}),e.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-gradient-to-r from-gold-600 to-gold-500 text-white rounded-lg hover:from-gold-700 hover:to-gold-600 transition-all shadow-lg hover:shadow-gold-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"...":""})]})]})]})})}function Tv({isOpen:s,member:n,onClose:l,onSuccess:i}){const[c,u]=j.useState(!1),[d,h]=j.useState({amount:10,type:"manual",remark:"",file:null}),f=g=>{const{name:N,value:w}=g.target;h(v=>({...v,[N]:N==="amount"?parseFloat(w)||0:w}))},x=g=>{g.target.files&&g.target.files[0]&&h(N=>({...N,file:g.target.files[0]}))},p=async g=>{if(g.preventDefault(),!!n){if(d.amount<=0){U.error("");return}try{u(!0);let N;d.file,await lv.addCredit({memberId:n.id,amount:d.amount,adjustmentType:d.type,remark:d.remark,slipUrl:N}),U.success(` ${d.amount.toLocaleString()}  `),i(),l(),h({amount:10,type:"manual",remark:"",file:null})}catch(N){console.error("Failed to add credit:",N),U.error(N.response?.data?.message||"")}finally{u(!1)}}};return!s||!n?null:e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-admin-border sticky top-0 bg-admin-card z-20",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-gold-500",children:""}),e.jsxs("p",{className:"text-brown-400 text-sm mt-1",children:[n.phone," - ",n.fullname]})]}),e.jsx("button",{onClick:l,className:"p-1 hover:bg-admin-hover rounded transition-colors",children:e.jsx(We,{className:"w-6 h-6 text-brown-400 hover:text-gold-500"})})]}),e.jsxs("form",{onSubmit:p,className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("input",{type:"text",value:n.credit.toLocaleString("th-TH",{minimumFractionDigits:2}),readOnly:!0,className:"w-full px-4 py-2 border border-admin-border rounded-lg bg-admin-bg text-gold-500 font-bold text-lg"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-brown-300 mb-2",children:[" ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsx("input",{type:"number",id:"amount",name:"amount",value:d.amount,onChange:f,min:"1",step:"0.01",className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 placeholder-brown-500 focus:ring-2 focus:ring-gold-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsxs("select",{id:"type",name:"type",value:d.type,onChange:f,className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",children:[e.jsx("option",{value:"manual",children:""}),e.jsx("option",{value:"refund",children:""}),e.jsx("option",{value:"bonus",children:""}),e.jsx("option",{value:"other",children:""})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"remark",className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("textarea",{id:"remark",name:"remark",value:d.remark,onChange:f,rows:4,className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 placeholder-brown-500 focus:ring-2 focus:ring-gold-500 focus:border-transparent resize-none",placeholder:"..."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:" ()"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("label",{className:"flex-1 flex items-center justify-center px-4 py-2 border-2 border-dashed border-admin-border rounded-lg cursor-pointer hover:border-gold-500 transition-colors bg-admin-bg",children:[e.jsx(Xa,{className:"w-5 h-5 text-brown-400 mr-2"}),e.jsx("span",{className:"text-sm text-brown-300",children:d.file?d.file.name:""}),e.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden"})]})})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-admin-border",children:[e.jsx("button",{type:"button",onClick:l,className:"px-6 py-2 text-brown-300 bg-admin-card border border-admin-border rounded-lg hover:border-gold-500/50 transition-colors",disabled:c,children:""}),e.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-gradient-to-r from-success to-success/90 text-white rounded-lg hover:from-success/90 hover:to-success/80 transition-all shadow-lg hover:shadow-success/50 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"...":""})]})]})]})})}function Av({isOpen:s,member:n,onClose:l,onSuccess:i}){const[c,u]=j.useState(!1),[d,h]=j.useState({amount:10,type:"manual",remark:""}),f=p=>{const{name:g,value:N}=p.target;h(w=>({...w,[g]:g==="amount"?parseFloat(N)||0:N}))},x=async p=>{if(p.preventDefault(),!!n){if(d.amount<=0){U.error("");return}if(d.amount>n.credit){U.error("");return}try{u(!0),await lv.deductCredit({memberId:n.id,amount:d.amount,adjustmentType:d.type,remark:d.remark}),U.success(` ${d.amount.toLocaleString()}  `),i(),l(),h({amount:10,type:"manual",remark:""})}catch(g){console.error("Failed to deduct credit:",g),U.error(g.response?.data?.message||"")}finally{u(!1)}}};return!s||!n?null:e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-admin-border sticky top-0 bg-admin-card z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-error",children:""}),e.jsxs("p",{className:"text-brown-400 text-sm mt-1",children:[n.phone," - ",n.fullname]})]}),e.jsx("button",{onClick:l,className:"p-1 hover:bg-admin-hover rounded transition-colors",children:e.jsx(We,{className:"w-6 h-6 text-brown-400"})})]}),e.jsxs("form",{onSubmit:x,className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-brown-300 mb-2",children:""}),e.jsx("input",{type:"text",value:n.credit.toLocaleString("th-TH",{minimumFractionDigits:2}),readOnly:!0,className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-200 font-semibold"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"amount",className:"block text-sm font-semibold text-brown-300 mb-2",children:[" ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsx("input",{type:"number",id:"amount",name:"amount",value:d.amount,onChange:f,min:"1",max:n.credit,step:"0.01",className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 placeholder-brown-500 focus:ring-2 focus:ring-error focus:border-transparent",required:!0}),e.jsxs("p",{className:"text-xs text-brown-500 mt-1",children:[": ",n.credit.toLocaleString("th-TH",{minimumFractionDigits:2})," "]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"type",className:"block text-sm font-semibold text-brown-300 mb-2",children:""}),e.jsxs("select",{id:"type",name:"type",value:d.type,onChange:f,className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-error focus:border-transparent",children:[e.jsx("option",{value:"manual",children:""}),e.jsx("option",{value:"penalty",children:""}),e.jsx("option",{value:"refund",children:""}),e.jsx("option",{value:"other",children:""})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"remark",className:"block text-sm font-semibold text-brown-300 mb-2",children:""}),e.jsx("textarea",{id:"remark",name:"remark",value:d.remark,onChange:f,rows:4,className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 placeholder-brown-500 focus:ring-2 focus:ring-error focus:border-transparent",placeholder:"..."})]}),e.jsx("div",{className:"mb-4 p-4 bg-error/10 border border-error/30 rounded-lg",children:e.jsxs("p",{className:"text-sm text-error",children:[" ",e.jsx("strong",{children:":"}),"  "]})}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-admin-border",children:[e.jsx("button",{type:"button",onClick:l,className:"px-6 py-2 bg-admin-card border border-admin-border text-brown-200 rounded-lg hover:border-gold-500/50 transition-colors",disabled:c,children:""}),e.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-gradient-to-r from-error to-error/90 text-white rounded-lg hover:from-error/90 hover:to-error/80 transition-all shadow-lg hover:shadow-error/50 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"...":""})]})]})]})})}function BS({isOpen:s,member:n,onClose:l}){const[i,c]=j.useState(!1),[u,d]=j.useState([]),[h,f]=j.useState("all");j.useEffect(()=>{s&&n&&x()},[s,n]);const x=async()=>{if(n)try{c(!0);const A=await Ts.getMemberTransactions(n.id,1,100);d(A.transactions||[])}catch(A){console.error("Failed to fetch transactions:",A),U.error("")}finally{c(!1)}},p=A=>new Date(A).toLocaleString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),g=A=>A.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),N=A=>{const E=A.toLowerCase(),S={pending:"bg-warning/10 text-warning border-warning/20",approved:"bg-success/10 text-success border-success/20",success:"bg-success/10 text-success border-success/20",completed:"bg-success/10 text-success border-success/20",rejected:"bg-error/10 text-error border-error/20",cancelled:"bg-brown-500/10 text-brown-400 border-brown-500/20"},M={pending:"",approved:"",success:"",completed:"",rejected:"",cancelled:""};return e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S[E]||"bg-brown-500/10 text-brown-400"}`,children:M[E]||A})},w=(A,E)=>A==="CREDIT_ADJUSTMENT"||A==="ADJUSTMENT"?E>=0?{label:"",color:"text-success",sign:"",isDeposit:!0}:{label:"",color:"text-error",sign:"",isDeposit:!1}:{DEPOSIT:{label:"",color:"text-success",sign:"",isDeposit:!0},WITHDRAW:{label:"",color:"text-error",sign:"",isDeposit:!1},deposit:{label:"",color:"text-success",sign:"",isDeposit:!0},withdrawal:{label:"",color:"text-error",sign:"",isDeposit:!1}}[A]||{label:A,color:"text-brown-200",sign:"",isDeposit:E>=0},v=u.filter(A=>{if(h==="all")return!0;const E=w(A.type,A.amount);return h==="deposit"?E.isDeposit:h==="withdrawal"?!E.isDeposit:!1}),y=u.filter(A=>w(A.type,A.amount).isDeposit).length,T=u.filter(A=>!w(A.type,A.amount).isDeposit).length;return!s||!n?null:e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-admin-border sticky top-0 bg-admin-card z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-gold-500",children:"/"}),e.jsxs("p",{className:"text-brown-400 text-sm mt-1",children:[n.phone," - ",n.fullname]})]}),e.jsx("button",{onClick:l,className:"p-1 hover:bg-admin-hover rounded transition-colors",children:e.jsx(We,{className:"w-6 h-6 text-brown-400"})})]}),e.jsx("div",{className:"p-4 border-b border-admin-border bg-admin-bg",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h==="all"?"bg-gold-500 text-white":"bg-admin-card text-brown-200 border border-admin-border hover:bg-admin-hover"}`,children:[" (",u.length,")"]}),e.jsxs("button",{onClick:()=>f("deposit"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h==="deposit"?"bg-success text-white":"bg-admin-card text-brown-200 border border-admin-border hover:bg-admin-hover"}`,children:[" (",y,")"]}),e.jsxs("button",{onClick:()=>f("withdrawal"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h==="withdrawal"?"bg-error text-white":"bg-admin-card text-brown-200 border border-admin-border hover:bg-admin-hover"}`,children:[" (",T,")"]})]}),e.jsx("button",{onClick:x,disabled:i,className:"ml-auto p-2 hover:bg-admin-hover rounded-lg transition-colors disabled:opacity-50 text-brown-300",children:e.jsx(dt,{className:`w-5 h-5 ${i?"animate-spin":""}`})})]})}),e.jsx("div",{className:"p-6",children:i?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(dt,{className:"w-8 h-8 animate-spin text-brown-500"})}):v.length===0?e.jsx("div",{className:"text-center py-12 text-brown-400",children:""}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-admin-bg border-b border-admin-border",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-brown-300 uppercase",children:"/"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-brown-300 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:v.map(A=>{const E=w(A.type,A.amount);return e.jsxs("tr",{className:"hover:bg-admin-hover",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-brown-200",children:p(A.createdAt)}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:`font-medium ${E.color}`,children:E.label})}),e.jsx("td",{className:"px-4 py-3 text-sm text-right",children:e.jsx("span",{className:`font-semibold ${E.color}`,children:g(Math.abs(A.amount))})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:N(A.status)}),e.jsx("td",{className:"px-4 py-3 text-sm text-brown-400",children:A.remark||"-"})]},A.id)})})]})})}),!i&&v.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-admin-border bg-admin-bg",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-brown-400",children:""}),e.jsx("div",{className:"text-lg font-bold text-success",children:g(u.filter(A=>w(A.type,A.amount).isDeposit&&(A.status==="approved"||A.status==="success"||A.status==="completed")).reduce((A,E)=>A+Math.abs(E.amount),0))})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-brown-400",children:""}),e.jsx("div",{className:"text-lg font-bold text-error",children:g(u.filter(A=>!w(A.type,A.amount).isDeposit&&(A.status==="approved"||A.status==="success"||A.status==="completed")).reduce((A,E)=>A+Math.abs(E.amount),0))})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-brown-400",children:""}),e.jsx("div",{className:"text-lg font-bold text-gold-500",children:g(u.filter(A=>A.status==="approved"||A.status==="success"||A.status==="completed").reduce((A,E)=>A+E.amount,0))})]})]})}),e.jsx("div",{className:"flex justify-end p-6 border-t border-admin-border",children:e.jsx("button",{onClick:l,className:"px-6 py-2 bg-admin-card border border-admin-border text-brown-200 rounded-lg hover:border-gold-500/50 transition-colors",children:""})})]})})}function RS({isOpen:s,member:n,onClose:l}){const[i,c]=j.useState(!1),[u,d]=j.useState([]),[h,f]=j.useState("all");j.useEffect(()=>{s&&n&&x()},[s,n]);const x=async()=>{if(n)try{c(!0);const w=new Date,v=new Date;v.setDate(w.getDate()-7);const y=await Ts.getMemberGameHistory(n.id,{startDate:v.toISOString(),endDate:w.toISOString(),limit:100,offset:0});d(y.records||[]),(!y.records||y.records.length===0)&&U.info(" 7 ")}catch(w){console.error("Failed to fetch game history:",w),U.error(""),d([])}finally{c(!1)}},p=w=>new Date(w).toLocaleString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),g=w=>w.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),N=u.filter(w=>h==="all"?!0:h==="win"?w.profitLoss>0:h==="lose"?w.profitLoss<0:!0);return!s||!n?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:""}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[n.phone," - ",n.fullname]})]}),e.jsx("button",{onClick:l,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(We,{className:"w-6 h-6 text-gray-500"})})]}),e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h==="all"?"bg-[#C4A962] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[" (",u.length,")"]}),e.jsxs("button",{onClick:()=>f("win"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h==="win"?"bg-green-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[" (",u.filter(w=>w.profitLoss>0).length,")"]}),e.jsxs("button",{onClick:()=>f("lose"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h==="lose"?"bg-red-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[" (",u.filter(w=>w.profitLoss<0).length,")"]})]}),e.jsx("button",{onClick:x,disabled:i,className:"ml-auto p-2 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:e.jsx(dt,{className:`w-5 h-5 ${i?"animate-spin":""}`})})]})}),e.jsx("div",{className:"p-6",children:i?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(dt,{className:"w-8 h-8 animate-spin text-gray-400"})}):N.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-500",children:""}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:" Game Provider"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"/"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"/"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:N.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:p(w.betTime)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:w.gameName||w.gameCode}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:w.gameCode}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:g(w.betAmount)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:g(w.winAmount)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right",children:e.jsxs("span",{className:`font-semibold ${w.profitLoss>0?"text-green-600":w.profitLoss<0?"text-red-600":"text-gray-600"}`,children:[w.profitLoss>0?"+":"",g(w.profitLoss)]})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded bg-green-100 text-green-800",children:w.status})})]},w.betId))})]})})}),!i&&N.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:g(u.reduce((w,v)=>w+v.betAmount,0))})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"text-lg font-bold text-green-600",children:g(u.reduce((w,v)=>w+v.winAmount,0))})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"/"}),e.jsxs("div",{className:`text-lg font-bold ${u.reduce((w,v)=>w+v.profitLoss,0)>0?"text-green-600":"text-red-600"}`,children:[u.reduce((w,v)=>w+v.profitLoss,0)>0?"+":"",g(u.reduce((w,v)=>w+v.profitLoss,0))]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"text-lg font-bold text-[#C4A962]",children:u.length})]})]})}),e.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:e.jsx("button",{onClick:l,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""})})]})})}function OS({isOpen:s,member:n,onClose:l,onSuccess:i}){const[c,u]=j.useState(!1),[d,h]=j.useState(""),[f,x]=j.useState(""),p=async N=>{if(N.preventDefault(),!!n){if(d.length<6){U.error(" 6 ");return}if(d!==f){U.error("");return}try{u(!0),await Ts.resetMemberPassword(n.id,d),U.success(""),i(),l(),h(""),x("")}catch(w){console.error("Failed to reset password:",w),U.error(w.response?.data?.message||"")}finally{u(!1)}}},g=()=>{c||(h(""),x(""),l())};return!s||!n?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Ai,{className:"w-5 h-5 text-yellow-600"}),""]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[n.phone," - ",n.fullname]})]}),e.jsx("button",{onClick:g,disabled:c,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",children:e.jsx(We,{className:"w-6 h-6 text-gray-500"})})]}),e.jsxs("form",{onSubmit:p,className:"p-6",children:[e.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-800",children:"  "})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"newPassword",value:d,onChange:N=>h(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent font-mono",placeholder:" 6 ",required:!0,minLength:6,autoComplete:"off"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"confirmPassword",value:f,onChange:N=>x(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent font-mono",placeholder:"",required:!0,minLength:6,autoComplete:"off"})]}),d&&f&&e.jsx("div",{className:"mb-4",children:d===f?e.jsx("p",{className:"text-sm text-green-600 flex items-center gap-2",children:" "}):e.jsx("p",{className:"text-sm text-red-600 flex items-center gap-2",children:" "})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:g,disabled:c,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:""}),e.jsx("button",{type:"submit",disabled:c||d!==f||d.length<6,className:"px-6 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"...":""})]})]})]})})}function zS({isOpen:s,member:n,onClose:l,onSuccess:i}){const[c,u]=j.useState(!1),[d,h]=j.useState("active"),[f,x]=j.useState(""),p=async w=>{if(w.preventDefault(),!!n){if(d==="banned"&&!f.trim()){U.error("");return}try{u(!0),await Ts.updateMemberStatus(n.id,d);const v={active:"",inactive:"",banned:""}[d];U.success(`${v}`),i(),l(),x("")}catch(v){console.error("Failed to update member status:",v),U.error(v.response?.data?.message||"")}finally{u(!1)}}},g=()=>{c||(x(""),h("active"),l())};if(!s||!n)return null;const N=n.status==="banned";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:N?e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"w-5 h-5 text-green-600"}),""]}):e.jsxs(e.Fragment,{children:[e.jsx(zr,{className:"w-5 h-5 text-red-600"}),""]})}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[n.phone," - ",n.fullname]})]}),e.jsx("button",{onClick:g,disabled:c,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",children:e.jsx(We,{className:"w-6 h-6 text-gray-500"})})]}),e.jsxs("form",{onSubmit:p,className:"p-6",children:[e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:""}),e.jsxs("div",{className:"flex items-center gap-2",children:[n.status==="active"&&e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 border border-green-200 rounded-full text-sm font-semibold",children:""}),n.status==="inactive"&&e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 border border-gray-200 rounded-full text-sm font-semibold",children:""}),n.status==="banned"&&e.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 border border-red-200 rounded-full text-sm font-semibold",children:""})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"status",className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"status",value:d,onChange:w=>h(w.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"active",children:" (Active)"}),e.jsx("option",{value:"inactive",children:" (Inactive)"}),e.jsx("option",{value:"banned",children:" (Banned)"})]})]}),e.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[d==="active"&&" ",d==="inactive"&&" ",d==="banned"&&" "]})}),d==="banned"&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"reason",className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"reason",value:f,onChange:w=>x(w.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"...",required:d==="banned"})]}),d==="banned"&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800 font-semibold",children:" : "})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:g,disabled:c,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:""}),e.jsx("button",{type:"submit",disabled:c||d==="banned"&&!f.trim(),className:`px-6 py-2 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${d==="banned"?"bg-red-600 hover:bg-red-700":d==="inactive"?"bg-gray-600 hover:bg-gray-700":"bg-green-600 hover:bg-green-700"}`,children:c?"...":""})]})]})]})})}function PS(){const[s,n]=j.useState([]),[l,i]=j.useState(!1),[c,u]=j.useState(""),[d,h]=j.useState(""),[f,x]=j.useState(1),[p]=j.useState(10),[g,N]=j.useState(0),[w,v]=j.useState(!1),[y,T]=j.useState(!1),[A,E]=j.useState(!1),[S,M]=j.useState(!1),[L,B]=j.useState(!1),[D,C]=j.useState(!1),[R,$]=j.useState(!1),[q,P]=j.useState(!1),[V,K]=j.useState(null);j.useEffect(()=>{W()},[f,c,d]);const W=async()=>{try{i(!0);const xe=await Ts.listMembers({page:f,pageSize:p,search:c,status:d});n(xe.members||[]),N(xe.total||0)}catch(xe){console.error("Failed to fetch members:",xe),U.error(xe.response?.data?.message||"")}finally{i(!1)}},z=xe=>{u(xe),x(1)},H=xe=>{h(xe),x(1)},F=xe=>{K(xe),T(!0)},le=xe=>{K(xe),E(!0)},oe=xe=>{K(xe),M(!0)},_=xe=>{K(xe),B(!0)},I=xe=>{K(xe),C(!0)},ae=xe=>{K(xe),$(!0)},de=xe=>{K(xe),P(!0)},he=()=>{W()},be=xe=>xe?new Date(xe).toLocaleString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",fe=xe=>xe.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),Ae=xe=>{const Z={active:{bg:"bg-success/10",text:"text-success",border:"border-success/30",icon:"",label:""},inactive:{bg:"bg-warning/10",text:"text-warning",border:"border-warning/30",icon:"",label:""},banned:{bg:"bg-error/10",text:"text-error",border:"border-error/30",icon:"",label:""}},Q=Z[xe]||Z.active;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border ${Q.bg} ${Q.text} ${Q.border}`,children:[e.jsx("span",{className:"text-sm leading-none font-bold",children:Q.icon}),Q.label]})},ve=Math.ceil(g/p);return e.jsxs("div",{className:"p-6 max-w-[1800px] mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-info/20 to-info/10 rounded-lg flex items-center justify-center",children:e.jsx(Sc,{className:"w-5 h-5 text-info"})}),""]}),e.jsxs("p",{className:"text-sm text-brown-300 ml-13",children:[" ",g.toLocaleString()," "]})]}),e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-success to-success/80 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:[e.jsx(Sc,{className:"w-5 h-5"}),""]})]}),e.jsx("div",{className:"bg-admin-card rounded-xl shadow-lg border border-admin-border p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-brown-500"}),e.jsx("input",{type:"text",placeholder:" ...",value:c,onChange:xe=>z(xe.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("select",{value:d,onChange:xe=>H(xe.target.value),className:"px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500 appearance-none",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"active",children:""}),e.jsx("option",{value:"inactive",children:""}),e.jsx("option",{value:"banned",children:""})]}),e.jsxs("button",{onClick:W,disabled:l,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-info to-info/80 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 font-semibold",children:[e.jsx(dt,{className:`w-5 h-5 ${l?"animate-spin":""}`}),""]})]})}),e.jsxs("div",{className:"bg-admin-card rounded-xl shadow-lg border border-admin-border overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-admin-bg to-admin-bg/50 border-b border-admin-border",children:[e.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-brown-200 uppercase",children:"-"}),e.jsx("th",{className:"px-4 py-4 text-right text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-4 py-4 text-right text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-4 py-4 text-right text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-4 py-4 text-right text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-4 py-4 text-center text-xs font-semibold text-brown-200 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-4 py-8 text-center text-brown-400",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(dt,{className:"w-5 h-5 animate-spin"}),"..."]})})}):s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-4 py-8 text-center text-brown-400",children:""})}):s.map((xe,Z)=>e.jsxs("tr",{className:"hover:bg-admin-hover/50 transition-all group",style:{animationDelay:`${Z*30}ms`},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-brown-500"}),e.jsx("div",{className:"text-sm text-brown-200",children:be(xe.createdAt)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gold-500/20 to-gold-600/10 rounded-full flex items-center justify-center text-gold-500 font-bold text-sm",children:xe.phone.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-brown-100",children:xe.phone}),e.jsxs("div",{className:"text-xs text-brown-500",children:["ID: ",xe.id.slice(0,8),"..."]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-brown-100",children:xe.fullname||"-"}),xe.line&&e.jsxs("div",{className:"text-xs text-brown-400",children:["LINE: ",xe.line]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"inline-flex items-center gap-2 bg-success/10 px-3 py-1.5 rounded-lg",children:e.jsx("span",{className:"text-sm font-bold text-success",children:fe(xe.credit)})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"inline-flex items-center gap-2 bg-info/10 px-3 py-1.5 rounded-lg",children:e.jsx("span",{className:"text-sm font-bold text-info",children:fe(xe.creditGame)})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"text-sm font-semibold text-success",children:fe(xe.totalDeposits)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"text-sm font-semibold text-error",children:fe(xe.totalWithdraws)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ae(xe.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-brown-400",children:be(xe.lastLogin)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[e.jsx("button",{onClick:()=>F(xe),className:"p-2 text-info hover:bg-info/20 rounded-lg transition-all hover:scale-110 shadow-sm",title:"",children:e.jsx(qc,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>le(xe),className:"p-2 text-success hover:bg-success/20 rounded-lg transition-all hover:scale-110 shadow-sm",title:"",children:e.jsx(vv,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>oe(xe),className:"p-2 text-error hover:bg-error/20 rounded-lg transition-all hover:scale-110 shadow-sm",title:"",children:e.jsx(jv,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>_(xe),className:"p-2 text-purple-400 hover:bg-purple-500/20 rounded-lg transition-all hover:scale-110 shadow-sm",title:"",children:e.jsx(Qe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>I(xe),className:"p-2 text-warning hover:bg-warning/20 rounded-lg transition-all hover:scale-110 shadow-sm",title:"",children:e.jsx(Px,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ae(xe),className:"p-2 text-gold-500 hover:bg-gold-500/20 rounded-lg transition-all hover:scale-110 shadow-sm",title:"",children:e.jsx(Ai,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>de(xe),className:`p-2 rounded-lg transition-all hover:scale-110 shadow-sm ${xe.status==="banned"?"text-success hover:bg-success/20":"text-error hover:bg-error/20"}`,title:xe.status==="banned"?"":"",children:e.jsx(dS,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>window.open(`/admin/members/${xe.id}`,"_blank"),className:"p-2 text-brown-300 hover:bg-admin-hover/50 rounded-lg transition-all hover:scale-110 shadow-sm",title:"",children:e.jsx(xa,{className:"w-4 h-4"})})]})})]},xe.id))})]})}),ve>1&&e.jsx("div",{className:"px-6 py-4 border-t border-admin-border bg-admin-bg/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-brown-300",children:[" ",e.jsx("span",{className:"font-semibold text-brown-100",children:(f-1)*p+1})," - ",e.jsx("span",{className:"font-semibold text-brown-100",children:Math.min(f*p,g)}),"  ",e.jsx("span",{className:"font-semibold text-brown-100",children:g.toLocaleString()})," "]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(xe=>Math.max(1,xe-1)),disabled:f===1,className:"px-4 py-2 border border-admin-border rounded-lg hover:bg-admin-hover disabled:opacity-50 disabled:cursor-not-allowed transition-all text-brown-200 font-medium",children:""}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,ve)},(xe,Z)=>{let Q;return ve<=5||f<=3?Q=Z+1:f>=ve-2?Q=ve-4+Z:Q=f-2+Z,e.jsx("button",{onClick:()=>x(Q),className:`px-4 py-2 border rounded-lg font-medium transition-all ${f===Q?"bg-gradient-to-r from-gold-500 to-gold-600 text-white border-gold-500 shadow-lg":"border-admin-border hover:bg-admin-hover text-brown-200"}`,children:Q},Q)})}),e.jsx("button",{onClick:()=>x(xe=>Math.min(ve,xe+1)),disabled:f===ve,className:"px-4 py-2 border border-admin-border rounded-lg hover:bg-admin-hover disabled:opacity-50 disabled:cursor-not-allowed transition-all text-brown-200 font-medium",children:""})]})]})})]}),e.jsx(_S,{isOpen:w,onClose:()=>v(!1),onSuccess:he}),e.jsx(LS,{isOpen:y,member:V,onClose:()=>{T(!1),K(null)},onSuccess:he}),e.jsx(Tv,{isOpen:A,member:V,onClose:()=>{E(!1),K(null)},onSuccess:he}),e.jsx(Av,{isOpen:S,member:V,onClose:()=>{M(!1),K(null)},onSuccess:he}),e.jsx(BS,{isOpen:L,member:V,onClose:()=>{B(!1),K(null)}}),e.jsx(RS,{isOpen:D,member:V,onClose:()=>{C(!1),K(null)}}),e.jsx(OS,{isOpen:R,member:V,onClose:()=>{$(!1),K(null)},onSuccess:he}),e.jsx(zS,{isOpen:q,member:V,onClose:()=>{P(!1),K(null)},onSuccess:he})]})}function Rg(){const[s,n]=j.useState([]),[l,i]=j.useState(!1),[c,u]=j.useState("all");j.useEffect(()=>{d()},[]);const d=async()=>{try{i(!0);const N=new Date().toISOString().split("T")[0],w=await Ts.listMembers({startDate:N,endDate:N,page:1,pageSize:100});n(w.members||[])}catch(g){console.error("Failed to fetch today's members:",g),U.error(g.response?.data?.message||"")}finally{i(!1)}},h=g=>new Date(g).toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"}),f=g=>g.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),x=s.filter(g=>c==="deposited"?g.totalDeposits>0:c==="notDeposited"?g.totalDeposits===0:!0),p={total:s.length,deposited:s.filter(g=>g.totalDeposits>0).length,notDeposited:s.filter(g=>g.totalDeposits===0).length};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 flex items-center gap-2",children:[e.jsx(As,{}),""]}),e.jsx("p",{className:"text-brown-400 mt-1",children:new Date().toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("button",{onClick:d,disabled:l,className:"btn-primary flex items-center gap-2",children:[e.jsx(dt,{className:`w-4 h-4 ${l?"animate-spin":""}`}),""]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{onClick:()=>u("all"),className:`p-6 rounded-xl shadow-lg cursor-pointer transition-all ${c==="all"?"bg-gradient-to-br from-primary/20 to-primary/30 border-2 border-primary":"bg-admin-card border border-admin-border hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${c==="all"?"text-primary":"text-brown-400"}`,children:""}),e.jsx("p",{className:`text-3xl font-bold mt-2 ${c==="all"?"text-primary":"text-brown-200"}`,children:p.total})]}),e.jsx(xa,{className:`w-8 h-8 ${c==="all"?"text-primary":"text-brown-400"}`})]})}),e.jsx("div",{onClick:()=>u("deposited"),className:`p-6 rounded-xl shadow-lg cursor-pointer transition-all ${c==="deposited"?"bg-gradient-to-br from-success/20 to-success/30 border-2 border-success":"bg-admin-card border border-admin-border hover:border-success/50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${c==="deposited"?"text-success":"text-brown-400"}`,children:""}),e.jsx("p",{className:`text-3xl font-bold mt-2 ${c==="deposited"?"text-success":"text-brown-200"}`,children:p.deposited}),e.jsx("p",{className:`text-xs mt-1 ${c==="deposited"?"text-success/80":"text-brown-400"}`,children:p.total>0?`${(p.deposited/p.total*100).toFixed(1)}%`:"0%"})]}),e.jsx(Fe,{className:`w-8 h-8 ${c==="deposited"?"text-success":"text-brown-400"}`})]})}),e.jsx("div",{onClick:()=>u("notDeposited"),className:`p-6 rounded-xl shadow-lg cursor-pointer transition-all ${c==="notDeposited"?"bg-gradient-to-br from-warning/20 to-warning/30 border-2 border-warning":"bg-admin-card border border-admin-border hover:border-warning/50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${c==="notDeposited"?"text-warning":"text-brown-400"}`,children:""}),e.jsx("p",{className:`text-3xl font-bold mt-2 ${c==="notDeposited"?"text-warning":"text-brown-200"}`,children:p.notDeposited}),e.jsx("p",{className:`text-xs mt-1 ${c==="notDeposited"?"text-warning/80":"text-brown-400"}`,children:p.total>0?`${(p.notDeposited/p.total*100).toFixed(1)}%`:"0%"})]}),e.jsx(Qe,{className:`w-8 h-8 ${c==="notDeposited"?"text-warning":"text-brown-400"}`})]})})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-hover",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase tracking-wider",children:"-"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"spinner"}),e.jsx("span",{className:"text-brown-400",children:"..."})]})})}):x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-brown-400",children:c==="all"?"":""})}):x.map(g=>e.jsxs("tr",{className:"hover:bg-admin-hover transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-300",children:h(g.createdAt)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brown-200",children:g.phone}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-200",children:g.fullname||"-"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gold-500 font-semibold",children:["",f(g.credit)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gold-500 font-semibold",children:["",f(g.totalDeposits)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.totalDeposits>0?e.jsxs("span",{className:"px-3 py-1 bg-success/20 text-success border border-success/30 rounded-full text-xs font-semibold flex items-center gap-1 w-fit",children:[e.jsx(Fe,{className:"w-3 h-3"}),""]}):e.jsxs("span",{className:"px-3 py-1 bg-warning/20 text-warning border border-warning/30 rounded-full text-xs font-semibold flex items-center gap-1 w-fit",children:[e.jsx(Qe,{className:"w-3 h-3"}),""]})})]},g.id))})]})})})]})}const Ev=j.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"}),Qc=j.createContext({}),Xc=j.createContext(null),Zc=typeof document<"u",xh=Zc?j.useLayoutEffect:j.useEffect,Dv=j.createContext({strict:!1}),hh=s=>s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),US="framerAppearId",_v="data-"+hh(US);function FS(s,n,l,i){const{visualElement:c}=j.useContext(Qc),u=j.useContext(Dv),d=j.useContext(Xc),h=j.useContext(Ev).reducedMotion,f=j.useRef();i=i||u.renderer,!f.current&&i&&(f.current=i(s,{visualState:n,parent:c,props:l,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const x=f.current;j.useInsertionEffect(()=>{x&&x.update(l,d)});const p=j.useRef(!!(l[_v]&&!window.HandoffComplete));return xh(()=>{x&&(x.render(),p.current&&x.animationState&&x.animationState.animateChanges())}),j.useEffect(()=>{x&&(x.updateFeatures(),!p.current&&x.animationState&&x.animationState.animateChanges(),p.current&&(p.current=!1,window.HandoffComplete=!0))}),x}function Lr(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function HS(s,n,l){return j.useCallback(i=>{i&&s.mount&&s.mount(i),n&&(i?n.mount(i):n.unmount()),l&&(typeof l=="function"?l(i):Lr(l)&&(l.current=i))},[n])}function fi(s){return typeof s=="string"||Array.isArray(s)}function Jc(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}const fh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ph=["initial",...fh];function ed(s){return Jc(s.animate)||ph.some(n=>fi(s[n]))}function Mv(s){return!!(ed(s)||s.variants)}function VS(s,n){if(ed(s)){const{initial:l,animate:i}=s;return{initial:l===!1||fi(l)?l:void 0,animate:fi(i)?i:void 0}}return s.inherit!==!1?n:{}}function $S(s){const{initial:n,animate:l}=VS(s,j.useContext(Qc));return j.useMemo(()=>({initial:n,animate:l}),[Og(n),Og(l)])}function Og(s){return Array.isArray(s)?s.join(" "):s}const zg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pi={};for(const s in zg)pi[s]={isEnabled:n=>zg[s].some(l=>!!n[l])};function IS(s){for(const n in s)pi[n]={...pi[n],...s[n]}}const bh=j.createContext({}),Lv=j.createContext({}),GS=Symbol.for("motionComponentSymbol");function qS({preloadedFeatures:s,createVisualElement:n,useRender:l,useVisualState:i,Component:c}){s&&IS(s);function u(h,f){let x;const p={...j.useContext(Ev),...h,layoutId:YS(h)},{isStatic:g}=p,N=$S(h),w=i(h,g);if(!g&&Zc){N.visualElement=FS(c,w,p,n);const v=j.useContext(Lv),y=j.useContext(Dv).strict;N.visualElement&&(x=N.visualElement.loadFeatures(p,y,s,v))}return j.createElement(Qc.Provider,{value:N},x&&N.visualElement?j.createElement(x,{visualElement:N.visualElement,...p}):null,l(c,h,HS(w,N.visualElement,f),w,g,N.visualElement))}const d=j.forwardRef(u);return d[GS]=c,d}function YS({layoutId:s}){const n=j.useContext(bh).id;return n&&s!==void 0?n+"-"+s:s}function WS(s){function n(i,c={}){return qS(s(i,c))}if(typeof Proxy>"u")return n;const l=new Map;return new Proxy(n,{get:(i,c)=>(l.has(c)||l.set(c,n(c)),l.get(c))})}const KS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gh(s){return typeof s!="string"||s.includes("-")?!1:!!(KS.indexOf(s)>-1||/[A-Z]/.test(s))}const Tc={};function QS(s){Object.assign(Tc,s)}const Ei=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hn=new Set(Ei);function Bv(s,{layout:n,layoutId:l}){return Hn.has(s)||s.startsWith("origin")||(n||l!==void 0)&&(!!Tc[s]||s==="opacity")}const Xt=s=>!!(s&&s.getVelocity),XS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZS=Ei.length;function JS(s,{enableHardwareAcceleration:n=!0,allowTransformNone:l=!0},i,c){let u="";for(let d=0;d<ZS;d++){const h=Ei[d];if(s[h]!==void 0){const f=XS[h]||h;u+=`${f}(${s[h]}) `}}return n&&!s.z&&(u+="translateZ(0)"),u=u.trim(),c?u=c(s,i?"":u):l&&i&&(u="none"),u}const Rv=s=>n=>typeof n=="string"&&n.startsWith(s),Ov=Rv("--"),Ux=Rv("var(--"),eC=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,tC=(s,n)=>n&&typeof s=="number"?n.transform(s):s,en=(s,n,l)=>Math.min(Math.max(l,s),n),Vn={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},li={...Vn,transform:s=>en(0,1,s)},ec={...Vn,default:1},ii=s=>Math.round(s*1e5)/1e5,td=/(-)?([\d]*\.?[\d])+/g,zv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sC=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Di(s){return typeof s=="string"}const _i=s=>({test:n=>Di(n)&&n.endsWith(s)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${s}`}),Ia=_i("deg"),Us=_i("%"),Ce=_i("px"),aC=_i("vh"),nC=_i("vw"),Pg={...Us,parse:s=>Us.parse(s)/100,transform:s=>Us.transform(s*100)},Ug={...Vn,transform:Math.round},Pv={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,size:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,rotate:Ia,rotateX:Ia,rotateY:Ia,rotateZ:Ia,scale:ec,scaleX:ec,scaleY:ec,scaleZ:ec,skew:Ia,skewX:Ia,skewY:Ia,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:li,originX:Pg,originY:Pg,originZ:Ce,zIndex:Ug,fillOpacity:li,strokeOpacity:li,numOctaves:Ug};function jh(s,n,l,i){const{style:c,vars:u,transform:d,transformOrigin:h}=s;let f=!1,x=!1,p=!0;for(const g in n){const N=n[g];if(Ov(g)){u[g]=N;continue}const w=Pv[g],v=tC(N,w);if(Hn.has(g)){if(f=!0,d[g]=v,!p)continue;N!==(w.default||0)&&(p=!1)}else g.startsWith("origin")?(x=!0,h[g]=v):c[g]=v}if(n.transform||(f||i?c.transform=JS(s.transform,l,p,i):c.transform&&(c.transform="none")),x){const{originX:g="50%",originY:N="50%",originZ:w=0}=h;c.transformOrigin=`${g} ${N} ${w}`}}const yh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Uv(s,n,l){for(const i in n)!Xt(n[i])&&!Bv(i,l)&&(s[i]=n[i])}function rC({transformTemplate:s},n,l){return j.useMemo(()=>{const i=yh();return jh(i,n,{enableHardwareAcceleration:!l},s),Object.assign({},i.vars,i.style)},[n])}function lC(s,n,l){const i=s.style||{},c={};return Uv(c,i,s),Object.assign(c,rC(s,n,l)),s.transformValues?s.transformValues(c):c}function iC(s,n,l){const i={},c=lC(s,n,l);return s.drag&&s.dragListener!==!1&&(i.draggable=!1,c.userSelect=c.WebkitUserSelect=c.WebkitTouchCallout="none",c.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(i.tabIndex=0),i.style=c,i}const oC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ac(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||oC.has(s)}let Fv=s=>!Ac(s);function cC(s){s&&(Fv=n=>n.startsWith("on")?!Ac(n):s(n))}try{cC(require("@emotion/is-prop-valid").default)}catch{}function dC(s,n,l){const i={};for(const c in s)c==="values"&&typeof s.values=="object"||(Fv(c)||l===!0&&Ac(c)||!n&&!Ac(c)||s.draggable&&c.startsWith("onDrag"))&&(i[c]=s[c]);return i}function Fg(s,n,l){return typeof s=="string"?s:Ce.transform(n+l*s)}function uC(s,n,l){const i=Fg(n,s.x,s.width),c=Fg(l,s.y,s.height);return`${i} ${c}`}const mC={offset:"stroke-dashoffset",array:"stroke-dasharray"},xC={offset:"strokeDashoffset",array:"strokeDasharray"};function hC(s,n,l=1,i=0,c=!0){s.pathLength=1;const u=c?mC:xC;s[u.offset]=Ce.transform(-i);const d=Ce.transform(n),h=Ce.transform(l);s[u.array]=`${d} ${h}`}function vh(s,{attrX:n,attrY:l,attrScale:i,originX:c,originY:u,pathLength:d,pathSpacing:h=1,pathOffset:f=0,...x},p,g,N){if(jh(s,x,p,N),g){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:w,style:v,dimensions:y}=s;w.transform&&(y&&(v.transform=w.transform),delete w.transform),y&&(c!==void 0||u!==void 0||v.transform)&&(v.transformOrigin=uC(y,c!==void 0?c:.5,u!==void 0?u:.5)),n!==void 0&&(w.x=n),l!==void 0&&(w.y=l),i!==void 0&&(w.scale=i),d!==void 0&&hC(w,d,h,f,!1)}const Hv=()=>({...yh(),attrs:{}}),Nh=s=>typeof s=="string"&&s.toLowerCase()==="svg";function fC(s,n,l,i){const c=j.useMemo(()=>{const u=Hv();return vh(u,n,{enableHardwareAcceleration:!1},Nh(i),s.transformTemplate),{...u.attrs,style:{...u.style}}},[n]);if(s.style){const u={};Uv(u,s.style,s),c.style={...u,...c.style}}return c}function pC(s=!1){return(l,i,c,{latestValues:u},d)=>{const f=(gh(l)?fC:iC)(i,u,d,l),p={...dC(i,typeof l=="string",s),...f,ref:c},{children:g}=i,N=j.useMemo(()=>Xt(g)?g.get():g,[g]);return j.createElement(l,{...p,children:N})}}function Vv(s,{style:n,vars:l},i,c){Object.assign(s.style,n,c&&c.getProjectionStyles(i));for(const u in l)s.style.setProperty(u,l[u])}const $v=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Iv(s,n,l,i){Vv(s,n,void 0,i);for(const c in n.attrs)s.setAttribute($v.has(c)?c:hh(c),n.attrs[c])}function wh(s,n){const{style:l}=s,i={};for(const c in l)(Xt(l[c])||n.style&&Xt(n.style[c])||Bv(c,s))&&(i[c]=l[c]);return i}function Gv(s,n){const l=wh(s,n);for(const i in s)if(Xt(s[i])||Xt(n[i])){const c=Ei.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;l[c]=s[i]}return l}function Sh(s,n,l,i={},c={}){return typeof n=="function"&&(n=n(l!==void 0?l:s.custom,i,c)),typeof n=="string"&&(n=s.variants&&s.variants[n]),typeof n=="function"&&(n=n(l!==void 0?l:s.custom,i,c)),n}function qv(s){const n=j.useRef(null);return n.current===null&&(n.current=s()),n.current}const Ec=s=>Array.isArray(s),bC=s=>!!(s&&typeof s=="object"&&s.mix&&s.toValue),gC=s=>Ec(s)?s[s.length-1]||0:s;function pc(s){const n=Xt(s)?s.get():s;return bC(n)?n.toValue():n}function jC({scrapeMotionValuesFromProps:s,createRenderState:n,onMount:l},i,c,u){const d={latestValues:yC(i,c,u,s),renderState:n()};return l&&(d.mount=h=>l(i,h,d)),d}const Yv=s=>(n,l)=>{const i=j.useContext(Qc),c=j.useContext(Xc),u=()=>jC(s,n,i,c);return l?u():qv(u)};function yC(s,n,l,i){const c={},u=i(s,{});for(const N in u)c[N]=pc(u[N]);let{initial:d,animate:h}=s;const f=ed(s),x=Mv(s);n&&x&&!f&&s.inherit!==!1&&(d===void 0&&(d=n.initial),h===void 0&&(h=n.animate));let p=l?l.initial===!1:!1;p=p||d===!1;const g=p?h:d;return g&&typeof g!="boolean"&&!Jc(g)&&(Array.isArray(g)?g:[g]).forEach(w=>{const v=Sh(s,w);if(!v)return;const{transitionEnd:y,transition:T,...A}=v;for(const E in A){let S=A[E];if(Array.isArray(S)){const M=p?S.length-1:0;S=S[M]}S!==null&&(c[E]=S)}for(const E in y)c[E]=y[E]}),c}const ot=s=>s;class Hg{constructor(){this.order=[],this.scheduled=new Set}add(n){if(!this.scheduled.has(n))return this.scheduled.add(n),this.order.push(n),!0}remove(n){const l=this.order.indexOf(n);l!==-1&&(this.order.splice(l,1),this.scheduled.delete(n))}clear(){this.order.length=0,this.scheduled.clear()}}function vC(s){let n=new Hg,l=new Hg,i=0,c=!1,u=!1;const d=new WeakSet,h={schedule:(f,x=!1,p=!1)=>{const g=p&&c,N=g?n:l;return x&&d.add(f),N.add(f)&&g&&c&&(i=n.order.length),f},cancel:f=>{l.remove(f),d.delete(f)},process:f=>{if(c){u=!0;return}if(c=!0,[n,l]=[l,n],l.clear(),i=n.order.length,i)for(let x=0;x<i;x++){const p=n.order[x];p(f),d.has(p)&&(h.schedule(p),s())}c=!1,u&&(u=!1,h.process(f))}};return h}const tc=["prepare","read","update","preRender","render","postRender"],NC=40;function wC(s,n){let l=!1,i=!0;const c={delta:0,timestamp:0,isProcessing:!1},u=tc.reduce((g,N)=>(g[N]=vC(()=>l=!0),g),{}),d=g=>u[g].process(c),h=()=>{const g=performance.now();l=!1,c.delta=i?1e3/60:Math.max(Math.min(g-c.timestamp,NC),1),c.timestamp=g,c.isProcessing=!0,tc.forEach(d),c.isProcessing=!1,l&&n&&(i=!1,s(h))},f=()=>{l=!0,i=!0,c.isProcessing||s(h)};return{schedule:tc.reduce((g,N)=>{const w=u[N];return g[N]=(v,y=!1,T=!1)=>(l||f(),w.schedule(v,y,T)),g},{}),cancel:g=>tc.forEach(N=>u[N].cancel(g)),state:c,steps:u}}const{schedule:Ke,cancel:pa,state:At,steps:Hm}=wC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ot,!0),SC={useVisualState:Yv({scrapeMotionValuesFromProps:Gv,createRenderState:Hv,onMount:(s,n,{renderState:l,latestValues:i})=>{Ke.read(()=>{try{l.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{l.dimensions={x:0,y:0,width:0,height:0}}}),Ke.render(()=>{vh(l,i,{enableHardwareAcceleration:!1},Nh(n.tagName),s.transformTemplate),Iv(n,l)})}})},CC={useVisualState:Yv({scrapeMotionValuesFromProps:wh,createRenderState:yh})};function kC(s,{forwardMotionProps:n=!1},l,i){return{...gh(s)?SC:CC,preloadedFeatures:l,useRender:pC(n),createVisualElement:i,Component:s}}function oa(s,n,l,i={passive:!0}){return s.addEventListener(n,l,i),()=>s.removeEventListener(n,l)}const Wv=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1;function sd(s,n="page"){return{point:{x:s[n+"X"],y:s[n+"Y"]}}}const TC=s=>n=>Wv(n)&&s(n,sd(n));function ca(s,n,l,i){return oa(s,n,TC(l),i)}const AC=(s,n)=>l=>n(s(l)),Za=(...s)=>s.reduce(AC);function Kv(s){let n=null;return()=>{const l=()=>{n=null};return n===null?(n=s,l):!1}}const Vg=Kv("dragHorizontal"),$g=Kv("dragVertical");function Qv(s){let n=!1;if(s==="y")n=$g();else if(s==="x")n=Vg();else{const l=Vg(),i=$g();l&&i?n=()=>{l(),i()}:(l&&l(),i&&i())}return n}function Xv(){const s=Qv(!0);return s?(s(),!1):!0}class rn{constructor(n){this.isMounted=!1,this.node=n}update(){}}function Ig(s,n){const l="pointer"+(n?"enter":"leave"),i="onHover"+(n?"Start":"End"),c=(u,d)=>{if(u.pointerType==="touch"||Xv())return;const h=s.getProps();s.animationState&&h.whileHover&&s.animationState.setActive("whileHover",n),h[i]&&Ke.update(()=>h[i](u,d))};return ca(s.current,l,c,{passive:!s.getProps()[i]})}class EC extends rn{mount(){this.unmount=Za(Ig(this.node,!0),Ig(this.node,!1))}unmount(){}}class DC extends rn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Za(oa(this.node.current,"focus",()=>this.onFocus()),oa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Zv=(s,n)=>n?s===n?!0:Zv(s,n.parentElement):!1;function Vm(s,n){if(!n)return;const l=new PointerEvent("pointer"+s);n(l,sd(l))}class _C extends rn{constructor(){super(...arguments),this.removeStartListeners=ot,this.removeEndListeners=ot,this.removeAccessibleListeners=ot,this.startPointerPress=(n,l)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),u=ca(window,"pointerup",(h,f)=>{if(!this.checkPressEnd())return;const{onTap:x,onTapCancel:p,globalTapTarget:g}=this.node.getProps();Ke.update(()=>{!g&&!Zv(this.node.current,h.target)?p&&p(h,f):x&&x(h,f)})},{passive:!(i.onTap||i.onPointerUp)}),d=ca(window,"pointercancel",(h,f)=>this.cancelPress(h,f),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Za(u,d),this.startPress(n,l)},this.startAccessiblePress=()=>{const n=u=>{if(u.key!=="Enter"||this.isPressing)return;const d=h=>{h.key!=="Enter"||!this.checkPressEnd()||Vm("up",(f,x)=>{const{onTap:p}=this.node.getProps();p&&Ke.update(()=>p(f,x))})};this.removeEndListeners(),this.removeEndListeners=oa(this.node.current,"keyup",d),Vm("down",(h,f)=>{this.startPress(h,f)})},l=oa(this.node.current,"keydown",n),i=()=>{this.isPressing&&Vm("cancel",(u,d)=>this.cancelPress(u,d))},c=oa(this.node.current,"blur",i);this.removeAccessibleListeners=Za(l,c)}}startPress(n,l){this.isPressing=!0;const{onTapStart:i,whileTap:c}=this.node.getProps();c&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Ke.update(()=>i(n,l))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Xv()}cancelPress(n,l){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Ke.update(()=>i(n,l))}mount(){const n=this.node.getProps(),l=ca(n.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(n.onTapStart||n.onPointerStart)}),i=oa(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Za(l,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Fx=new WeakMap,$m=new WeakMap,MC=s=>{const n=Fx.get(s.target);n&&n(s)},LC=s=>{s.forEach(MC)};function BC({root:s,...n}){const l=s||document;$m.has(l)||$m.set(l,{});const i=$m.get(l),c=JSON.stringify(n);return i[c]||(i[c]=new IntersectionObserver(LC,{root:s,...n})),i[c]}function RC(s,n,l){const i=BC(n);return Fx.set(s,l),i.observe(s),()=>{Fx.delete(s),i.unobserve(s)}}const OC={some:0,all:1};class zC extends rn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:l,margin:i,amount:c="some",once:u}=n,d={root:l?l.current:void 0,rootMargin:i,threshold:typeof c=="number"?c:OC[c]},h=f=>{const{isIntersecting:x}=f;if(this.isInView===x||(this.isInView=x,u&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),N=x?p:g;N&&N(f)};return RC(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:l}=this.node;["amount","margin","root"].some(PC(n,l))&&this.startObserver()}unmount(){}}function PC({viewport:s={}},{viewport:n={}}={}){return l=>s[l]!==n[l]}const UC={inView:{Feature:zC},tap:{Feature:_C},focus:{Feature:DC},hover:{Feature:EC}};function Jv(s,n){if(!Array.isArray(n))return!1;const l=n.length;if(l!==s.length)return!1;for(let i=0;i<l;i++)if(n[i]!==s[i])return!1;return!0}function FC(s){const n={};return s.values.forEach((l,i)=>n[i]=l.get()),n}function HC(s){const n={};return s.values.forEach((l,i)=>n[i]=l.getVelocity()),n}function ad(s,n,l){const i=s.getProps();return Sh(i,n,l!==void 0?l:i.custom,FC(s),HC(s))}let Ch=ot;const Rn=s=>s*1e3,da=s=>s/1e3,VC={current:!1},e2=s=>Array.isArray(s)&&typeof s[0]=="number";function t2(s){return!!(!s||typeof s=="string"&&s2[s]||e2(s)||Array.isArray(s)&&s.every(t2))}const ti=([s,n,l,i])=>`cubic-bezier(${s}, ${n}, ${l}, ${i})`,s2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ti([0,.65,.55,1]),circOut:ti([.55,0,1,.45]),backIn:ti([.31,.01,.66,-.59]),backOut:ti([.33,1.53,.69,.99])};function a2(s){if(s)return e2(s)?ti(s):Array.isArray(s)?s.map(a2):s2[s]}function $C(s,n,l,{delay:i=0,duration:c,repeat:u=0,repeatType:d="loop",ease:h,times:f}={}){const x={[n]:l};f&&(x.offset=f);const p=a2(h);return Array.isArray(p)&&(x.easing=p),s.animate(x,{delay:i,duration:c,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"})}function IC(s,{repeat:n,repeatType:l="loop"}){const i=n&&l!=="loop"&&n%2===1?0:s.length-1;return s[i]}const n2=(s,n,l)=>(((1-3*l+3*n)*s+(3*l-6*n))*s+3*n)*s,GC=1e-7,qC=12;function YC(s,n,l,i,c){let u,d,h=0;do d=n+(l-n)/2,u=n2(d,i,c)-s,u>0?l=d:n=d;while(Math.abs(u)>GC&&++h<qC);return d}function Mi(s,n,l,i){if(s===n&&l===i)return ot;const c=u=>YC(u,0,1,s,l);return u=>u===0||u===1?u:n2(c(u),n,i)}const WC=Mi(.42,0,1,1),KC=Mi(0,0,.58,1),r2=Mi(.42,0,.58,1),QC=s=>Array.isArray(s)&&typeof s[0]!="number",l2=s=>n=>n<=.5?s(2*n)/2:(2-s(2*(1-n)))/2,i2=s=>n=>1-s(1-n),kh=s=>1-Math.sin(Math.acos(s)),o2=i2(kh),XC=l2(kh),c2=Mi(.33,1.53,.69,.99),Th=i2(c2),ZC=l2(Th),JC=s=>(s*=2)<1?.5*Th(s):.5*(2-Math.pow(2,-10*(s-1))),ek={linear:ot,easeIn:WC,easeInOut:r2,easeOut:KC,circIn:kh,circInOut:XC,circOut:o2,backIn:Th,backInOut:ZC,backOut:c2,anticipate:JC},Gg=s=>{if(Array.isArray(s)){Ch(s.length===4);const[n,l,i,c]=s;return Mi(n,l,i,c)}else if(typeof s=="string")return ek[s];return s},Ah=(s,n)=>l=>!!(Di(l)&&sC.test(l)&&l.startsWith(s)||n&&Object.prototype.hasOwnProperty.call(l,n)),d2=(s,n,l)=>i=>{if(!Di(i))return i;const[c,u,d,h]=i.match(td);return{[s]:parseFloat(c),[n]:parseFloat(u),[l]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},tk=s=>en(0,255,s),Im={...Vn,transform:s=>Math.round(tk(s))},_n={test:Ah("rgb","red"),parse:d2("red","green","blue"),transform:({red:s,green:n,blue:l,alpha:i=1})=>"rgba("+Im.transform(s)+", "+Im.transform(n)+", "+Im.transform(l)+", "+ii(li.transform(i))+")"};function sk(s){let n="",l="",i="",c="";return s.length>5?(n=s.substring(1,3),l=s.substring(3,5),i=s.substring(5,7),c=s.substring(7,9)):(n=s.substring(1,2),l=s.substring(2,3),i=s.substring(3,4),c=s.substring(4,5),n+=n,l+=l,i+=i,c+=c),{red:parseInt(n,16),green:parseInt(l,16),blue:parseInt(i,16),alpha:c?parseInt(c,16)/255:1}}const Hx={test:Ah("#"),parse:sk,transform:_n.transform},Br={test:Ah("hsl","hue"),parse:d2("hue","saturation","lightness"),transform:({hue:s,saturation:n,lightness:l,alpha:i=1})=>"hsla("+Math.round(s)+", "+Us.transform(ii(n))+", "+Us.transform(ii(l))+", "+ii(li.transform(i))+")"},Bt={test:s=>_n.test(s)||Hx.test(s)||Br.test(s),parse:s=>_n.test(s)?_n.parse(s):Br.test(s)?Br.parse(s):Hx.parse(s),transform:s=>Di(s)?s:s.hasOwnProperty("red")?_n.transform(s):Br.transform(s)},at=(s,n,l)=>-l*s+l*n+s;function Gm(s,n,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?s+(n-s)*6*l:l<1/2?n:l<2/3?s+(n-s)*(2/3-l)*6:s}function ak({hue:s,saturation:n,lightness:l,alpha:i}){s/=360,n/=100,l/=100;let c=0,u=0,d=0;if(!n)c=u=d=l;else{const h=l<.5?l*(1+n):l+n-l*n,f=2*l-h;c=Gm(f,h,s+1/3),u=Gm(f,h,s),d=Gm(f,h,s-1/3)}return{red:Math.round(c*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:i}}const qm=(s,n,l)=>{const i=s*s;return Math.sqrt(Math.max(0,l*(n*n-i)+i))},nk=[Hx,_n,Br],rk=s=>nk.find(n=>n.test(s));function qg(s){const n=rk(s);let l=n.parse(s);return n===Br&&(l=ak(l)),l}const u2=(s,n)=>{const l=qg(s),i=qg(n),c={...l};return u=>(c.red=qm(l.red,i.red,u),c.green=qm(l.green,i.green,u),c.blue=qm(l.blue,i.blue,u),c.alpha=at(l.alpha,i.alpha,u),_n.transform(c))};function lk(s){var n,l;return isNaN(s)&&Di(s)&&(((n=s.match(td))===null||n===void 0?void 0:n.length)||0)+(((l=s.match(zv))===null||l===void 0?void 0:l.length)||0)>0}const m2={regex:eC,countKey:"Vars",token:"${v}",parse:ot},x2={regex:zv,countKey:"Colors",token:"${c}",parse:Bt.parse},h2={regex:td,countKey:"Numbers",token:"${n}",parse:Vn.parse};function Ym(s,{regex:n,countKey:l,token:i,parse:c}){const u=s.tokenised.match(n);u&&(s["num"+l]=u.length,s.tokenised=s.tokenised.replace(n,i),s.values.push(...u.map(c)))}function Dc(s){const n=s.toString(),l={value:n,tokenised:n,values:[],numVars:0,numColors:0,numNumbers:0};return l.value.includes("var(--")&&Ym(l,m2),Ym(l,x2),Ym(l,h2),l}function f2(s){return Dc(s).values}function p2(s){const{values:n,numColors:l,numVars:i,tokenised:c}=Dc(s),u=n.length;return d=>{let h=c;for(let f=0;f<u;f++)f<i?h=h.replace(m2.token,d[f]):f<i+l?h=h.replace(x2.token,Bt.transform(d[f])):h=h.replace(h2.token,ii(d[f]));return h}}const ik=s=>typeof s=="number"?0:s;function ok(s){const n=f2(s);return p2(s)(n.map(ik))}const tn={test:lk,parse:f2,createTransformer:p2,getAnimatableNone:ok},b2=(s,n)=>l=>`${l>0?n:s}`;function g2(s,n){return typeof s=="number"?l=>at(s,n,l):Bt.test(s)?u2(s,n):s.startsWith("var(")?b2(s,n):y2(s,n)}const j2=(s,n)=>{const l=[...s],i=l.length,c=s.map((u,d)=>g2(u,n[d]));return u=>{for(let d=0;d<i;d++)l[d]=c[d](u);return l}},ck=(s,n)=>{const l={...s,...n},i={};for(const c in l)s[c]!==void 0&&n[c]!==void 0&&(i[c]=g2(s[c],n[c]));return c=>{for(const u in i)l[u]=i[u](c);return l}},y2=(s,n)=>{const l=tn.createTransformer(n),i=Dc(s),c=Dc(n);return i.numVars===c.numVars&&i.numColors===c.numColors&&i.numNumbers>=c.numNumbers?Za(j2(i.values,c.values),l):b2(s,n)},bi=(s,n,l)=>{const i=n-s;return i===0?1:(l-s)/i},Yg=(s,n)=>l=>at(s,n,l);function dk(s){return typeof s=="number"?Yg:typeof s=="string"?Bt.test(s)?u2:y2:Array.isArray(s)?j2:typeof s=="object"?ck:Yg}function uk(s,n,l){const i=[],c=l||dk(s[0]),u=s.length-1;for(let d=0;d<u;d++){let h=c(s[d],s[d+1]);if(n){const f=Array.isArray(n)?n[d]||ot:n;h=Za(f,h)}i.push(h)}return i}function v2(s,n,{clamp:l=!0,ease:i,mixer:c}={}){const u=s.length;if(Ch(u===n.length),u===1)return()=>n[0];s[0]>s[u-1]&&(s=[...s].reverse(),n=[...n].reverse());const d=uk(n,i,c),h=d.length,f=x=>{let p=0;if(h>1)for(;p<s.length-2&&!(x<s[p+1]);p++);const g=bi(s[p],s[p+1],x);return d[p](g)};return l?x=>f(en(s[0],s[u-1],x)):f}function mk(s,n){const l=s[s.length-1];for(let i=1;i<=n;i++){const c=bi(0,n,i);s.push(at(l,1,c))}}function xk(s){const n=[0];return mk(n,s.length-1),n}function hk(s,n){return s.map(l=>l*n)}function fk(s,n){return s.map(()=>n||r2).splice(0,s.length-1)}function _c({duration:s=300,keyframes:n,times:l,ease:i="easeInOut"}){const c=QC(i)?i.map(Gg):Gg(i),u={done:!1,value:n[0]},d=hk(l&&l.length===n.length?l:xk(n),s),h=v2(d,n,{ease:Array.isArray(c)?c:fk(n,c)});return{calculatedDuration:s,next:f=>(u.value=h(f),u.done=f>=s,u)}}function N2(s,n){return n?s*(1e3/n):0}const pk=5;function w2(s,n,l){const i=Math.max(n-pk,0);return N2(l-s(i),n-i)}const Wm=.001,bk=.01,gk=10,jk=.05,yk=1;function vk({duration:s=800,bounce:n=.25,velocity:l=0,mass:i=1}){let c,u,d=1-n;d=en(jk,yk,d),s=en(bk,gk,da(s)),d<1?(c=x=>{const p=x*d,g=p*s,N=p-l,w=Vx(x,d),v=Math.exp(-g);return Wm-N/w*v},u=x=>{const g=x*d*s,N=g*l+l,w=Math.pow(d,2)*Math.pow(x,2)*s,v=Math.exp(-g),y=Vx(Math.pow(x,2),d);return(-c(x)+Wm>0?-1:1)*((N-w)*v)/y}):(c=x=>{const p=Math.exp(-x*s),g=(x-l)*s+1;return-Wm+p*g},u=x=>{const p=Math.exp(-x*s),g=(l-x)*(s*s);return p*g});const h=5/s,f=wk(c,u,h);if(s=Rn(s),isNaN(f))return{stiffness:100,damping:10,duration:s};{const x=Math.pow(f,2)*i;return{stiffness:x,damping:d*2*Math.sqrt(i*x),duration:s}}}const Nk=12;function wk(s,n,l){let i=l;for(let c=1;c<Nk;c++)i=i-s(i)/n(i);return i}function Vx(s,n){return s*Math.sqrt(1-n*n)}const Sk=["duration","bounce"],Ck=["stiffness","damping","mass"];function Wg(s,n){return n.some(l=>s[l]!==void 0)}function kk(s){let n={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...s};if(!Wg(s,Ck)&&Wg(s,Sk)){const l=vk(s);n={...n,...l,mass:1},n.isResolvedFromDuration=!0}return n}function S2({keyframes:s,restDelta:n,restSpeed:l,...i}){const c=s[0],u=s[s.length-1],d={done:!1,value:c},{stiffness:h,damping:f,mass:x,duration:p,velocity:g,isResolvedFromDuration:N}=kk({...i,velocity:-da(i.velocity||0)}),w=g||0,v=f/(2*Math.sqrt(h*x)),y=u-c,T=da(Math.sqrt(h/x)),A=Math.abs(y)<5;l||(l=A?.01:2),n||(n=A?.005:.5);let E;if(v<1){const S=Vx(T,v);E=M=>{const L=Math.exp(-v*T*M);return u-L*((w+v*T*y)/S*Math.sin(S*M)+y*Math.cos(S*M))}}else if(v===1)E=S=>u-Math.exp(-T*S)*(y+(w+T*y)*S);else{const S=T*Math.sqrt(v*v-1);E=M=>{const L=Math.exp(-v*T*M),B=Math.min(S*M,300);return u-L*((w+v*T*y)*Math.sinh(B)+S*y*Math.cosh(B))/S}}return{calculatedDuration:N&&p||null,next:S=>{const M=E(S);if(N)d.done=S>=p;else{let L=w;S!==0&&(v<1?L=w2(E,S,M):L=0);const B=Math.abs(L)<=l,D=Math.abs(u-M)<=n;d.done=B&&D}return d.value=d.done?u:M,d}}}function Kg({keyframes:s,velocity:n=0,power:l=.8,timeConstant:i=325,bounceDamping:c=10,bounceStiffness:u=500,modifyTarget:d,min:h,max:f,restDelta:x=.5,restSpeed:p}){const g=s[0],N={done:!1,value:g},w=C=>h!==void 0&&C<h||f!==void 0&&C>f,v=C=>h===void 0?f:f===void 0||Math.abs(h-C)<Math.abs(f-C)?h:f;let y=l*n;const T=g+y,A=d===void 0?T:d(T);A!==T&&(y=A-g);const E=C=>-y*Math.exp(-C/i),S=C=>A+E(C),M=C=>{const R=E(C),$=S(C);N.done=Math.abs(R)<=x,N.value=N.done?A:$};let L,B;const D=C=>{w(N.value)&&(L=C,B=S2({keyframes:[N.value,v(N.value)],velocity:w2(S,C,N.value),damping:c,stiffness:u,restDelta:x,restSpeed:p}))};return D(0),{calculatedDuration:null,next:C=>{let R=!1;return!B&&L===void 0&&(R=!0,M(C),D(C)),L!==void 0&&C>L?B.next(C-L):(!R&&M(C),N)}}}const Tk=s=>{const n=({timestamp:l})=>s(l);return{start:()=>Ke.update(n,!0),stop:()=>pa(n),now:()=>At.isProcessing?At.timestamp:performance.now()}},Qg=2e4;function Xg(s){let n=0;const l=50;let i=s.next(n);for(;!i.done&&n<Qg;)n+=l,i=s.next(n);return n>=Qg?1/0:n}const Ak={decay:Kg,inertia:Kg,tween:_c,keyframes:_c,spring:S2};function Mc({autoplay:s=!0,delay:n=0,driver:l=Tk,keyframes:i,type:c="keyframes",repeat:u=0,repeatDelay:d=0,repeatType:h="loop",onPlay:f,onStop:x,onComplete:p,onUpdate:g,...N}){let w=1,v=!1,y,T;const A=()=>{T=new Promise(_=>{y=_})};A();let E;const S=Ak[c]||_c;let M;S!==_c&&typeof i[0]!="number"&&(M=v2([0,100],i,{clamp:!1}),i=[0,100]);const L=S({...N,keyframes:i});let B;h==="mirror"&&(B=S({...N,keyframes:[...i].reverse(),velocity:-(N.velocity||0)}));let D="idle",C=null,R=null,$=null;L.calculatedDuration===null&&u&&(L.calculatedDuration=Xg(L));const{calculatedDuration:q}=L;let P=1/0,V=1/0;q!==null&&(P=q+d,V=P*(u+1)-d);let K=0;const W=_=>{if(R===null)return;w>0&&(R=Math.min(R,_)),w<0&&(R=Math.min(_-V/w,R)),C!==null?K=C:K=Math.round(_-R)*w;const I=K-n*(w>=0?1:-1),ae=w>=0?I<0:I>V;K=Math.max(I,0),D==="finished"&&C===null&&(K=V);let de=K,he=L;if(u){const ve=Math.min(K,V)/P;let xe=Math.floor(ve),Z=ve%1;!Z&&ve>=1&&(Z=1),Z===1&&xe--,xe=Math.min(xe,u+1),!!(xe%2)&&(h==="reverse"?(Z=1-Z,d&&(Z-=d/P)):h==="mirror"&&(he=B)),de=en(0,1,Z)*P}const be=ae?{done:!1,value:i[0]}:he.next(de);M&&(be.value=M(be.value));let{done:fe}=be;!ae&&q!==null&&(fe=w>=0?K>=V:K<=0);const Ae=C===null&&(D==="finished"||D==="running"&&fe);return g&&g(be.value),Ae&&F(),be},z=()=>{E&&E.stop(),E=void 0},H=()=>{D="idle",z(),y(),A(),R=$=null},F=()=>{D="finished",p&&p(),z(),y()},le=()=>{if(v)return;E||(E=l(W));const _=E.now();f&&f(),C!==null?R=_-C:(!R||D==="finished")&&(R=_),D==="finished"&&A(),$=R,C=null,D="running",E.start()};s&&le();const oe={then(_,I){return T.then(_,I)},get time(){return da(K)},set time(_){_=Rn(_),K=_,C!==null||!E||w===0?C=_:R=E.now()-_/w},get duration(){const _=L.calculatedDuration===null?Xg(L):L.calculatedDuration;return da(_)},get speed(){return w},set speed(_){_===w||!E||(w=_,oe.time=da(K))},get state(){return D},play:le,pause:()=>{D="paused",C=K},stop:()=>{v=!0,D!=="idle"&&(D="idle",x&&x(),H())},cancel:()=>{$!==null&&W($),H()},complete:()=>{D="finished"},sample:_=>(R=0,W(_))};return oe}function Ek(s){let n;return()=>(n===void 0&&(n=s()),n)}const Dk=Ek(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_k=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sc=10,Mk=2e4,Lk=(s,n)=>n.type==="spring"||s==="backgroundColor"||!t2(n.ease);function Bk(s,n,{onUpdate:l,onComplete:i,...c}){if(!(Dk()&&_k.has(n)&&!c.repeatDelay&&c.repeatType!=="mirror"&&c.damping!==0&&c.type!=="inertia"))return!1;let d=!1,h,f,x=!1;const p=()=>{f=new Promise(S=>{h=S})};p();let{keyframes:g,duration:N=300,ease:w,times:v}=c;if(Lk(n,c)){const S=Mc({...c,repeat:0,delay:0});let M={done:!1,value:g[0]};const L=[];let B=0;for(;!M.done&&B<Mk;)M=S.sample(B),L.push(M.value),B+=sc;v=void 0,g=L,N=B-sc,w="linear"}const y=$C(s.owner.current,n,g,{...c,duration:N,ease:w,times:v}),T=()=>{x=!1,y.cancel()},A=()=>{x=!0,Ke.update(T),h(),p()};return y.onfinish=()=>{x||(s.set(IC(g,c)),i&&i(),A())},{then(S,M){return f.then(S,M)},attachTimeline(S){return y.timeline=S,y.onfinish=null,ot},get time(){return da(y.currentTime||0)},set time(S){y.currentTime=Rn(S)},get speed(){return y.playbackRate},set speed(S){y.playbackRate=S},get duration(){return da(N)},play:()=>{d||(y.play(),pa(T))},pause:()=>y.pause(),stop:()=>{if(d=!0,y.playState==="idle")return;const{currentTime:S}=y;if(S){const M=Mc({...c,autoplay:!1});s.setWithVelocity(M.sample(S-sc).value,M.sample(S).value,sc)}A()},complete:()=>{x||y.finish()},cancel:A}}function Rk({keyframes:s,delay:n,onUpdate:l,onComplete:i}){const c=()=>(l&&l(s[s.length-1]),i&&i(),{time:0,speed:1,duration:0,play:ot,pause:ot,stop:ot,then:u=>(u(),Promise.resolve()),cancel:ot,complete:ot});return n?Mc({keyframes:[0,1],duration:0,delay:n,onComplete:c}):c()}const Ok={type:"spring",stiffness:500,damping:25,restSpeed:10},zk=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),Pk={type:"keyframes",duration:.8},Uk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fk=(s,{keyframes:n})=>n.length>2?Pk:Hn.has(s)?s.startsWith("scale")?zk(n[1]):Ok:Uk,$x=(s,n)=>s==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(tn.test(n)||n==="0")&&!n.startsWith("url(")),Hk=new Set(["brightness","contrast","saturate","opacity"]);function Vk(s){const[n,l]=s.slice(0,-1).split("(");if(n==="drop-shadow")return s;const[i]=l.match(td)||[];if(!i)return s;const c=l.replace(i,"");let u=Hk.has(n)?1:0;return i!==l&&(u*=100),n+"("+u+c+")"}const $k=/([a-z-]*)\(.*?\)/g,Ix={...tn,getAnimatableNone:s=>{const n=s.match($k);return n?n.map(Vk).join(" "):s}},Ik={...Pv,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:Ix,WebkitFilter:Ix},Eh=s=>Ik[s];function C2(s,n){let l=Eh(s);return l!==Ix&&(l=tn),l.getAnimatableNone?l.getAnimatableNone(n):void 0}const k2=s=>/^0[^.\s]+$/.test(s);function Gk(s){if(typeof s=="number")return s===0;if(s!==null)return s==="none"||s==="0"||k2(s)}function qk(s,n,l,i){const c=$x(n,l);let u;Array.isArray(l)?u=[...l]:u=[null,l];const d=i.from!==void 0?i.from:s.get();let h;const f=[];for(let x=0;x<u.length;x++)u[x]===null&&(u[x]=x===0?d:u[x-1]),Gk(u[x])&&f.push(x),typeof u[x]=="string"&&u[x]!=="none"&&u[x]!=="0"&&(h=u[x]);if(c&&f.length&&h)for(let x=0;x<f.length;x++){const p=f[x];u[p]=C2(n,h)}return u}function Yk({when:s,delay:n,delayChildren:l,staggerChildren:i,staggerDirection:c,repeat:u,repeatType:d,repeatDelay:h,from:f,elapsed:x,...p}){return!!Object.keys(p).length}function Dh(s,n){return s[n]||s.default||s}const Wk={skipAnimations:!1},_h=(s,n,l,i={})=>c=>{const u=Dh(i,s)||{},d=u.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Rn(d);const f=qk(n,s,l,u),x=f[0],p=f[f.length-1],g=$x(s,x),N=$x(s,p);let w={keyframes:f,velocity:n.getVelocity(),ease:"easeOut",...u,delay:-h,onUpdate:v=>{n.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()}};if(Yk(u)||(w={...w,...Fk(s,w)}),w.duration&&(w.duration=Rn(w.duration)),w.repeatDelay&&(w.repeatDelay=Rn(w.repeatDelay)),!g||!N||VC.current||u.type===!1||Wk.skipAnimations)return Rk(w);if(!i.isHandoff&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate){const v=Bk(n,s,w);if(v)return v}return Mc(w)};function Lc(s){return!!(Xt(s)&&s.add)}const T2=s=>/^\-?\d*\.?\d+$/.test(s);function Mh(s,n){s.indexOf(n)===-1&&s.push(n)}function Lh(s,n){const l=s.indexOf(n);l>-1&&s.splice(l,1)}class Bh{constructor(){this.subscriptions=[]}add(n){return Mh(this.subscriptions,n),()=>Lh(this.subscriptions,n)}notify(n,l,i){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](n,l,i);else for(let u=0;u<c;u++){const d=this.subscriptions[u];d&&d(n,l,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kk=s=>!isNaN(parseFloat(s));class Qk{constructor(n,l={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,c=!0)=>{this.prev=this.current,this.current=i;const{delta:u,timestamp:d}=At;this.lastUpdated!==d&&(this.timeDelta=u,this.lastUpdated=d,Ke.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),c&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ke.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=n,this.canTrackVelocity=Kk(this.current),this.owner=l.owner}onChange(n){return this.on("change",n)}on(n,l){this.events[n]||(this.events[n]=new Bh);const i=this.events[n].add(l);return n==="change"?()=>{i(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,l){this.passiveEffect=n,this.stopPassiveEffect=l}set(n,l=!0){!l||!this.passiveEffect?this.updateAndNotify(n,l):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,l,i){this.set(l),this.prev=n,this.timeDelta=i}jump(n){this.updateAndNotify(n),this.prev=n,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?N2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(n){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=n(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hr(s,n){return new Qk(s,n)}const A2=s=>n=>n.test(s),Xk={test:s=>s==="auto",parse:s=>s},E2=[Vn,Ce,Us,Ia,nC,aC,Xk],Gl=s=>E2.find(A2(s)),Zk=[...E2,Bt,tn],Jk=s=>Zk.find(A2(s));function eT(s,n,l){s.hasValue(n)?s.getValue(n).set(l):s.addValue(n,Hr(l))}function tT(s,n){const l=ad(s,n);let{transitionEnd:i={},transition:c={},...u}=l?s.makeTargetAnimatable(l,!1):{};u={...u,...i};for(const d in u){const h=gC(u[d]);eT(s,d,h)}}function sT(s,n,l){var i,c;const u=Object.keys(n).filter(h=>!s.hasValue(h)),d=u.length;if(d)for(let h=0;h<d;h++){const f=u[h],x=n[f];let p=null;Array.isArray(x)&&(p=x[0]),p===null&&(p=(c=(i=l[f])!==null&&i!==void 0?i:s.readValue(f))!==null&&c!==void 0?c:n[f]),p!=null&&(typeof p=="string"&&(T2(p)||k2(p))?p=parseFloat(p):!Jk(p)&&tn.test(x)&&(p=C2(f,x)),s.addValue(f,Hr(p,{owner:s})),l[f]===void 0&&(l[f]=p),p!==null&&s.setBaseTarget(f,p))}}function aT(s,n){return n?(n[s]||n.default||n).from:void 0}function nT(s,n,l){const i={};for(const c in s){const u=aT(c,n);if(u!==void 0)i[c]=u;else{const d=l.getValue(c);d&&(i[c]=d.get())}}return i}function rT({protectedKeys:s,needsAnimating:n},l){const i=s.hasOwnProperty(l)&&n[l]!==!0;return n[l]=!1,i}function lT(s,n){const l=s.get();if(Array.isArray(n)){for(let i=0;i<n.length;i++)if(n[i]!==l)return!0}else return l!==n}function D2(s,n,{delay:l=0,transitionOverride:i,type:c}={}){let{transition:u=s.getDefaultTransition(),transitionEnd:d,...h}=s.makeTargetAnimatable(n);const f=s.getValue("willChange");i&&(u=i);const x=[],p=c&&s.animationState&&s.animationState.getState()[c];for(const g in h){const N=s.getValue(g),w=h[g];if(!N||w===void 0||p&&rT(p,g))continue;const v={delay:l,elapsed:0,...Dh(u||{},g)};if(window.HandoffAppearAnimations){const A=s.getProps()[_v];if(A){const E=window.HandoffAppearAnimations(A,g,N,Ke);E!==null&&(v.elapsed=E,v.isHandoff=!0)}}let y=!v.isHandoff&&!lT(N,w);if(v.type==="spring"&&(N.getVelocity()||v.velocity)&&(y=!1),N.animation&&(y=!1),y)continue;N.start(_h(g,N,w,s.shouldReduceMotion&&Hn.has(g)?{type:!1}:v));const T=N.animation;Lc(f)&&(f.add(g),T.then(()=>f.remove(g))),x.push(T)}return d&&Promise.all(x).then(()=>{d&&tT(s,d)}),x}function Gx(s,n,l={}){const i=ad(s,n,l.custom);let{transition:c=s.getDefaultTransition()||{}}=i||{};l.transitionOverride&&(c=l.transitionOverride);const u=i?()=>Promise.all(D2(s,i,l)):()=>Promise.resolve(),d=s.variantChildren&&s.variantChildren.size?(f=0)=>{const{delayChildren:x=0,staggerChildren:p,staggerDirection:g}=c;return iT(s,n,x+f,p,g,l)}:()=>Promise.resolve(),{when:h}=c;if(h){const[f,x]=h==="beforeChildren"?[u,d]:[d,u];return f().then(()=>x())}else return Promise.all([u(),d(l.delay)])}function iT(s,n,l=0,i=0,c=1,u){const d=[],h=(s.variantChildren.size-1)*i,f=c===1?(x=0)=>x*i:(x=0)=>h-x*i;return Array.from(s.variantChildren).sort(oT).forEach((x,p)=>{x.notify("AnimationStart",n),d.push(Gx(x,n,{...u,delay:l+f(p)}).then(()=>x.notify("AnimationComplete",n)))}),Promise.all(d)}function oT(s,n){return s.sortNodePosition(n)}function cT(s,n,l={}){s.notify("AnimationStart",n);let i;if(Array.isArray(n)){const c=n.map(u=>Gx(s,u,l));i=Promise.all(c)}else if(typeof n=="string")i=Gx(s,n,l);else{const c=typeof n=="function"?ad(s,n,l.custom):n;i=Promise.all(D2(s,c,l))}return i.then(()=>s.notify("AnimationComplete",n))}const dT=[...fh].reverse(),uT=fh.length;function mT(s){return n=>Promise.all(n.map(({animation:l,options:i})=>cT(s,l,i)))}function xT(s){let n=mT(s);const l=fT();let i=!0;const c=(f,x)=>{const p=ad(s,x);if(p){const{transition:g,transitionEnd:N,...w}=p;f={...f,...w,...N}}return f};function u(f){n=f(s)}function d(f,x){const p=s.getProps(),g=s.getVariantContext(!0)||{},N=[],w=new Set;let v={},y=1/0;for(let A=0;A<uT;A++){const E=dT[A],S=l[E],M=p[E]!==void 0?p[E]:g[E],L=fi(M),B=E===x?S.isActive:null;B===!1&&(y=A);let D=M===g[E]&&M!==p[E]&&L;if(D&&i&&s.manuallyAnimateOnMount&&(D=!1),S.protectedKeys={...v},!S.isActive&&B===null||!M&&!S.prevProp||Jc(M)||typeof M=="boolean")continue;let R=hT(S.prevProp,M)||E===x&&S.isActive&&!D&&L||A>y&&L,$=!1;const q=Array.isArray(M)?M:[M];let P=q.reduce(c,{});B===!1&&(P={});const{prevResolvedValues:V={}}=S,K={...V,...P},W=z=>{R=!0,w.has(z)&&($=!0,w.delete(z)),S.needsAnimating[z]=!0};for(const z in K){const H=P[z],F=V[z];if(v.hasOwnProperty(z))continue;let le=!1;Ec(H)&&Ec(F)?le=!Jv(H,F):le=H!==F,le?H!==void 0?W(z):w.add(z):H!==void 0&&w.has(z)?W(z):S.protectedKeys[z]=!0}S.prevProp=M,S.prevResolvedValues=P,S.isActive&&(v={...v,...P}),i&&s.blockInitialAnimation&&(R=!1),R&&(!D||$)&&N.push(...q.map(z=>({animation:z,options:{type:E,...f}})))}if(w.size){const A={};w.forEach(E=>{const S=s.getBaseTarget(E);S!==void 0&&(A[E]=S)}),N.push({animation:A})}let T=!!N.length;return i&&(p.initial===!1||p.initial===p.animate)&&!s.manuallyAnimateOnMount&&(T=!1),i=!1,T?n(N):Promise.resolve()}function h(f,x,p){var g;if(l[f].isActive===x)return Promise.resolve();(g=s.variantChildren)===null||g===void 0||g.forEach(w=>{var v;return(v=w.animationState)===null||v===void 0?void 0:v.setActive(f,x)}),l[f].isActive=x;const N=d(p,f);for(const w in l)l[w].protectedKeys={};return N}return{animateChanges:d,setActive:h,setAnimateFunction:u,getState:()=>l}}function hT(s,n){return typeof n=="string"?n!==s:Array.isArray(n)?!Jv(n,s):!1}function Cn(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fT(){return{animate:Cn(!0),whileInView:Cn(),whileHover:Cn(),whileTap:Cn(),whileDrag:Cn(),whileFocus:Cn(),exit:Cn()}}class pT extends rn{constructor(n){super(n),n.animationState||(n.animationState=xT(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();this.unmount(),Jc(n)&&(this.unmount=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:l}=this.node.prevProps||{};n!==l&&this.updateAnimationControlsSubscription()}unmount(){}}let bT=0;class gT extends rn{constructor(){super(...arguments),this.id=bT++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:l,custom:i}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===c)return;const u=this.node.animationState.setActive("exit",!n,{custom:i??this.node.getProps().custom});l&&!n&&u.then(()=>l(this.id))}mount(){const{register:n}=this.node.presenceContext||{};n&&(this.unmount=n(this.id))}unmount(){}}const jT={animation:{Feature:pT},exit:{Feature:gT}},Zg=(s,n)=>Math.abs(s-n);function yT(s,n){const l=Zg(s.x,n.x),i=Zg(s.y,n.y);return Math.sqrt(l**2+i**2)}class _2{constructor(n,l,{transformPagePoint:i,contextWindow:c,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Qm(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,w=yT(g.offset,{x:0,y:0})>=3;if(!N&&!w)return;const{point:v}=g,{timestamp:y}=At;this.history.push({...v,timestamp:y});const{onStart:T,onMove:A}=this.handlers;N||(T&&T(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,g)},this.handlePointerMove=(g,N)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Km(N,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(g,N)=>{this.end();const{onEnd:w,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Qm(g.type==="pointercancel"?this.lastMoveEventInfo:Km(N,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,T),v&&v(g,T)},!Wv(n))return;this.dragSnapToOrigin=u,this.handlers=l,this.transformPagePoint=i,this.contextWindow=c||window;const d=sd(n),h=Km(d,this.transformPagePoint),{point:f}=h,{timestamp:x}=At;this.history=[{...f,timestamp:x}];const{onSessionStart:p}=l;p&&p(n,Qm(h,this.history)),this.removeListeners=Za(ca(this.contextWindow,"pointermove",this.handlePointerMove),ca(this.contextWindow,"pointerup",this.handlePointerUp),ca(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),pa(this.updatePoint)}}function Km(s,n){return n?{point:n(s.point)}:s}function Jg(s,n){return{x:s.x-n.x,y:s.y-n.y}}function Qm({point:s},n){return{point:s,delta:Jg(s,M2(n)),offset:Jg(s,vT(n)),velocity:NT(n,.1)}}function vT(s){return s[0]}function M2(s){return s[s.length-1]}function NT(s,n){if(s.length<2)return{x:0,y:0};let l=s.length-1,i=null;const c=M2(s);for(;l>=0&&(i=s[l],!(c.timestamp-i.timestamp>Rn(n)));)l--;if(!i)return{x:0,y:0};const u=da(c.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const d={x:(c.x-i.x)/u,y:(c.y-i.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function cs(s){return s.max-s.min}function qx(s,n=0,l=.01){return Math.abs(s-n)<=l}function ej(s,n,l,i=.5){s.origin=i,s.originPoint=at(n.min,n.max,s.origin),s.scale=cs(l)/cs(n),(qx(s.scale,1,1e-4)||isNaN(s.scale))&&(s.scale=1),s.translate=at(l.min,l.max,s.origin)-s.originPoint,(qx(s.translate)||isNaN(s.translate))&&(s.translate=0)}function oi(s,n,l,i){ej(s.x,n.x,l.x,i?i.originX:void 0),ej(s.y,n.y,l.y,i?i.originY:void 0)}function tj(s,n,l){s.min=l.min+n.min,s.max=s.min+cs(n)}function wT(s,n,l){tj(s.x,n.x,l.x),tj(s.y,n.y,l.y)}function sj(s,n,l){s.min=n.min-l.min,s.max=s.min+cs(n)}function ci(s,n,l){sj(s.x,n.x,l.x),sj(s.y,n.y,l.y)}function ST(s,{min:n,max:l},i){return n!==void 0&&s<n?s=i?at(n,s,i.min):Math.max(s,n):l!==void 0&&s>l&&(s=i?at(l,s,i.max):Math.min(s,l)),s}function aj(s,n,l){return{min:n!==void 0?s.min+n:void 0,max:l!==void 0?s.max+l-(s.max-s.min):void 0}}function CT(s,{top:n,left:l,bottom:i,right:c}){return{x:aj(s.x,l,c),y:aj(s.y,n,i)}}function nj(s,n){let l=n.min-s.min,i=n.max-s.max;return n.max-n.min<s.max-s.min&&([l,i]=[i,l]),{min:l,max:i}}function kT(s,n){return{x:nj(s.x,n.x),y:nj(s.y,n.y)}}function TT(s,n){let l=.5;const i=cs(s),c=cs(n);return c>i?l=bi(n.min,n.max-i,s.min):i>c&&(l=bi(s.min,s.max-c,n.min)),en(0,1,l)}function AT(s,n){const l={};return n.min!==void 0&&(l.min=n.min-s.min),n.max!==void 0&&(l.max=n.max-s.min),l}const Yx=.35;function ET(s=Yx){return s===!1?s=0:s===!0&&(s=Yx),{x:rj(s,"left","right"),y:rj(s,"top","bottom")}}function rj(s,n,l){return{min:lj(s,n),max:lj(s,l)}}function lj(s,n){return typeof s=="number"?s:s[n]||0}const ij=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rr=()=>({x:ij(),y:ij()}),oj=()=>({min:0,max:0}),ft=()=>({x:oj(),y:oj()});function vs(s){return[s("x"),s("y")]}function L2({top:s,left:n,right:l,bottom:i}){return{x:{min:n,max:l},y:{min:s,max:i}}}function DT({x:s,y:n}){return{top:n.min,right:s.max,bottom:n.max,left:s.min}}function _T(s,n){if(!n)return s;const l=n({x:s.left,y:s.top}),i=n({x:s.right,y:s.bottom});return{top:l.y,left:l.x,bottom:i.y,right:i.x}}function Xm(s){return s===void 0||s===1}function Wx({scale:s,scaleX:n,scaleY:l}){return!Xm(s)||!Xm(n)||!Xm(l)}function kn(s){return Wx(s)||B2(s)||s.z||s.rotate||s.rotateX||s.rotateY}function B2(s){return cj(s.x)||cj(s.y)}function cj(s){return s&&s!=="0%"}function Bc(s,n,l){const i=s-l,c=n*i;return l+c}function dj(s,n,l,i,c){return c!==void 0&&(s=Bc(s,c,i)),Bc(s,l,i)+n}function Kx(s,n=0,l=1,i,c){s.min=dj(s.min,n,l,i,c),s.max=dj(s.max,n,l,i,c)}function R2(s,{x:n,y:l}){Kx(s.x,n.translate,n.scale,n.originPoint),Kx(s.y,l.translate,l.scale,l.originPoint)}function MT(s,n,l,i=!1){const c=l.length;if(!c)return;n.x=n.y=1;let u,d;for(let h=0;h<c;h++){u=l[h],d=u.projectionDelta;const f=u.instance;f&&f.style&&f.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Or(s,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(n.x*=d.x.scale,n.y*=d.y.scale,R2(s,d)),i&&kn(u.latestValues)&&Or(s,u.latestValues))}n.x=uj(n.x),n.y=uj(n.y)}function uj(s){return Number.isInteger(s)||s>1.0000000000001||s<.999999999999?s:1}function Ga(s,n){s.min=s.min+n,s.max=s.max+n}function mj(s,n,[l,i,c]){const u=n[c]!==void 0?n[c]:.5,d=at(s.min,s.max,u);Kx(s,n[l],n[i],d,n.scale)}const LT=["x","scaleX","originX"],BT=["y","scaleY","originY"];function Or(s,n){mj(s.x,n,LT),mj(s.y,n,BT)}function O2(s,n){return L2(_T(s.getBoundingClientRect(),n))}function RT(s,n,l){const i=O2(s,l),{scroll:c}=n;return c&&(Ga(i.x,c.offset.x),Ga(i.y,c.offset.y)),i}const z2=({current:s})=>s?s.ownerDocument.defaultView:null,OT=new WeakMap;class zT{constructor(n){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=n}start(n,{snapToCursor:l=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const c=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),l&&this.snapToCursor(sd(p,"page").point)},u=(p,g)=>{const{drag:N,dragPropagation:w,onDragStart:v}=this.getProps();if(N&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Qv(N),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vs(T=>{let A=this.getAxisMotionValue(T).get()||0;if(Us.test(A)){const{projection:E}=this.visualElement;if(E&&E.layout){const S=E.layout.layoutBox[T];S&&(A=cs(S)*(parseFloat(A)/100))}}this.originPoint[T]=A}),v&&Ke.update(()=>v(p,g),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},d=(p,g)=>{const{dragPropagation:N,dragDirectionLock:w,onDirectionLock:v,onDrag:y}=this.getProps();if(!N&&!this.openGlobalLock)return;const{offset:T}=g;if(w&&this.currentDirection===null){this.currentDirection=PT(T),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",g.point,T),this.updateAxis("y",g.point,T),this.visualElement.render(),y&&y(p,g)},h=(p,g)=>this.stop(p,g),f=()=>vs(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:x}=this.getProps();this.panSession=new _2(n,{onSessionStart:c,onStart:u,onMove:d,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,contextWindow:z2(this.visualElement)})}stop(n,l){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:c}=l;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&Ke.update(()=>u(n,l))}cancel(){this.isDragging=!1;const{projection:n,animationState:l}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(n,l,i){const{drag:c}=this.getProps();if(!i||!ac(n,c,this.currentDirection))return;const u=this.getAxisMotionValue(n);let d=this.originPoint[n]+i[n];this.constraints&&this.constraints[n]&&(d=ST(d,this.constraints[n],this.elastic[n])),u.set(d)}resolveConstraints(){var n;const{dragConstraints:l,dragElastic:i}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,u=this.constraints;l&&Lr(l)?this.constraints||(this.constraints=this.resolveRefConstraints()):l&&c?this.constraints=CT(c.layoutBox,l):this.constraints=!1,this.elastic=ET(i),u!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&vs(d=>{this.getAxisMotionValue(d)&&(this.constraints[d]=AT(c.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:l}=this.getProps();if(!n||!Lr(n))return!1;const i=n.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const u=RT(i,c.root,this.visualElement.getTransformPagePoint());let d=kT(c.layout.layoutBox,u);if(l){const h=l(DT(d));this.hasMutatedConstraints=!!h,h&&(d=L2(h))}return d}startAnimation(n){const{drag:l,dragMomentum:i,dragElastic:c,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},x=vs(p=>{if(!ac(p,l,this.currentDirection))return;let g=f&&f[p]||{};d&&(g={min:0,max:0});const N=c?200:1e6,w=c?40:1e7,v={type:"inertia",velocity:i?n[p]:0,bounceStiffness:N,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...g};return this.startAxisValueAnimation(p,v)});return Promise.all(x).then(h)}startAxisValueAnimation(n,l){const i=this.getAxisMotionValue(n);return i.start(_h(n,i,0,l))}stopAnimation(){vs(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){vs(n=>{var l;return(l=this.getAxisMotionValue(n).animation)===null||l===void 0?void 0:l.pause()})}getAnimationState(n){var l;return(l=this.getAxisMotionValue(n).animation)===null||l===void 0?void 0:l.state}getAxisMotionValue(n){const l="_drag"+n.toUpperCase(),i=this.visualElement.getProps(),c=i[l];return c||this.visualElement.getValue(n,(i.initial?i.initial[n]:void 0)||0)}snapToCursor(n){vs(l=>{const{drag:i}=this.getProps();if(!ac(l,i,this.currentDirection))return;const{projection:c}=this.visualElement,u=this.getAxisMotionValue(l);if(c&&c.layout){const{min:d,max:h}=c.layout.layoutBox[l];u.set(n[l]-at(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:l}=this.getProps(),{projection:i}=this.visualElement;if(!Lr(l)||!i||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};vs(d=>{const h=this.getAxisMotionValue(d);if(h){const f=h.get();c[d]=TT({min:f,max:f},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),vs(d=>{if(!ac(d,n,null))return;const h=this.getAxisMotionValue(d),{min:f,max:x}=this.constraints[d];h.set(at(f,x,c[d]))})}addListeners(){if(!this.visualElement.current)return;OT.set(this.visualElement,this);const n=this.visualElement.current,l=ca(n,"pointerdown",f=>{const{drag:x,dragListener:p=!0}=this.getProps();x&&p&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Lr(f)&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,u=c.addEventListener("measure",i);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),i();const d=oa(window,"resize",()=>this.scalePositionWithinConstraints()),h=c.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:x})=>{this.isDragging&&x&&(vs(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())}));return()=>{d(),l(),u(),h&&h()}}getProps(){const n=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:i=!1,dragPropagation:c=!1,dragConstraints:u=!1,dragElastic:d=Yx,dragMomentum:h=!0}=n;return{...n,drag:l,dragDirectionLock:i,dragPropagation:c,dragConstraints:u,dragElastic:d,dragMomentum:h}}}function ac(s,n,l){return(n===!0||n===s)&&(l===null||l===s)}function PT(s,n=10){let l=null;return Math.abs(s.y)>n?l="y":Math.abs(s.x)>n&&(l="x"),l}class UT extends rn{constructor(n){super(n),this.removeGroupControls=ot,this.removeListeners=ot,this.controls=new zT(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ot}unmount(){this.removeGroupControls(),this.removeListeners()}}const xj=s=>(n,l)=>{s&&Ke.update(()=>s(n,l))};class FT extends rn{constructor(){super(...arguments),this.removePointerDownListener=ot}onPointerDown(n){this.session=new _2(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:z2(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:l,onPan:i,onPanEnd:c}=this.node.getProps();return{onSessionStart:xj(n),onStart:xj(l),onMove:i,onEnd:(u,d)=>{delete this.session,c&&Ke.update(()=>c(u,d))}}}mount(){this.removePointerDownListener=ca(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function HT(){const s=j.useContext(Xc);if(s===null)return[!0,null];const{isPresent:n,onExitComplete:l,register:i}=s,c=j.useId();return j.useEffect(()=>i(c),[]),!n&&l?[!1,()=>l&&l(c)]:[!0]}const bc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hj(s,n){return n.max===n.min?0:s/(n.max-n.min)*100}const ql={correct:(s,n)=>{if(!n.target)return s;if(typeof s=="string")if(Ce.test(s))s=parseFloat(s);else return s;const l=hj(s,n.target.x),i=hj(s,n.target.y);return`${l}% ${i}%`}},VT={correct:(s,{treeScale:n,projectionDelta:l})=>{const i=s,c=tn.parse(s);if(c.length>5)return i;const u=tn.createTransformer(s),d=typeof c[0]!="number"?1:0,h=l.x.scale*n.x,f=l.y.scale*n.y;c[0+d]/=h,c[1+d]/=f;const x=at(h,f,.5);return typeof c[2+d]=="number"&&(c[2+d]/=x),typeof c[3+d]=="number"&&(c[3+d]/=x),u(c)}};class $T extends Ut.Component{componentDidMount(){const{visualElement:n,layoutGroup:l,switchLayoutGroup:i,layoutId:c}=this.props,{projection:u}=n;QS(IT),u&&(l.group&&l.group.add(u),i&&i.register&&c&&i.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),bc.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:l,visualElement:i,drag:c,isPresent:u}=this.props,d=i.projection;return d&&(d.isPresent=u,c||n.layoutDependency!==l||l===void 0?d.willUpdate():this.safeToRemove(),n.isPresent!==u&&(u?d.promote():d.relegate()||Ke.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),queueMicrotask(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:l,switchLayoutGroup:i}=this.props,{projection:c}=n;c&&(c.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(c),i&&i.deregister&&i.deregister(c))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function P2(s){const[n,l]=HT(),i=j.useContext(bh);return Ut.createElement($T,{...s,layoutGroup:i,switchLayoutGroup:j.useContext(Lv),isPresent:n,safeToRemove:l})}const IT={borderRadius:{...ql,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ql,borderTopRightRadius:ql,borderBottomLeftRadius:ql,borderBottomRightRadius:ql,boxShadow:VT},U2=["TopLeft","TopRight","BottomLeft","BottomRight"],GT=U2.length,fj=s=>typeof s=="string"?parseFloat(s):s,pj=s=>typeof s=="number"||Ce.test(s);function qT(s,n,l,i,c,u){c?(s.opacity=at(0,l.opacity!==void 0?l.opacity:1,YT(i)),s.opacityExit=at(n.opacity!==void 0?n.opacity:1,0,WT(i))):u&&(s.opacity=at(n.opacity!==void 0?n.opacity:1,l.opacity!==void 0?l.opacity:1,i));for(let d=0;d<GT;d++){const h=`border${U2[d]}Radius`;let f=bj(n,h),x=bj(l,h);if(f===void 0&&x===void 0)continue;f||(f=0),x||(x=0),f===0||x===0||pj(f)===pj(x)?(s[h]=Math.max(at(fj(f),fj(x),i),0),(Us.test(x)||Us.test(f))&&(s[h]+="%")):s[h]=x}(n.rotate||l.rotate)&&(s.rotate=at(n.rotate||0,l.rotate||0,i))}function bj(s,n){return s[n]!==void 0?s[n]:s.borderRadius}const YT=F2(0,.5,o2),WT=F2(.5,.95,ot);function F2(s,n,l){return i=>i<s?0:i>n?1:l(bi(s,n,i))}function gj(s,n){s.min=n.min,s.max=n.max}function ys(s,n){gj(s.x,n.x),gj(s.y,n.y)}function jj(s,n,l,i,c){return s-=n,s=Bc(s,1/l,i),c!==void 0&&(s=Bc(s,1/c,i)),s}function KT(s,n=0,l=1,i=.5,c,u=s,d=s){if(Us.test(n)&&(n=parseFloat(n),n=at(d.min,d.max,n/100)-d.min),typeof n!="number")return;let h=at(u.min,u.max,i);s===u&&(h-=n),s.min=jj(s.min,n,l,h,c),s.max=jj(s.max,n,l,h,c)}function yj(s,n,[l,i,c],u,d){KT(s,n[l],n[i],n[c],n.scale,u,d)}const QT=["x","scaleX","originX"],XT=["y","scaleY","originY"];function vj(s,n,l,i){yj(s.x,n,QT,l?l.x:void 0,i?i.x:void 0),yj(s.y,n,XT,l?l.y:void 0,i?i.y:void 0)}function Nj(s){return s.translate===0&&s.scale===1}function H2(s){return Nj(s.x)&&Nj(s.y)}function ZT(s,n){return s.x.min===n.x.min&&s.x.max===n.x.max&&s.y.min===n.y.min&&s.y.max===n.y.max}function V2(s,n){return Math.round(s.x.min)===Math.round(n.x.min)&&Math.round(s.x.max)===Math.round(n.x.max)&&Math.round(s.y.min)===Math.round(n.y.min)&&Math.round(s.y.max)===Math.round(n.y.max)}function wj(s){return cs(s.x)/cs(s.y)}class JT{constructor(){this.members=[]}add(n){Mh(this.members,n),n.scheduleRender()}remove(n){if(Lh(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(n){const l=this.members.findIndex(c=>n===c);if(l===0)return!1;let i;for(let c=l;c>=0;c--){const u=this.members[c];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(n,l){const i=this.lead;if(n!==i&&(this.prevLead=i,this.lead=n,n.show(),i)){i.instance&&i.scheduleRender(),n.scheduleRender(),n.resumeFrom=i,l&&(n.resumeFrom.preserveOpacity=!0),i.snapshot&&(n.snapshot=i.snapshot,n.snapshot.latestValues=i.animationValues||i.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:c}=n.options;c===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:l,resumingFrom:i}=n;l.onExitComplete&&l.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sj(s,n,l){let i="";const c=s.x.translate/n.x,u=s.y.translate/n.y;if((c||u)&&(i=`translate3d(${c}px, ${u}px, 0) `),(n.x!==1||n.y!==1)&&(i+=`scale(${1/n.x}, ${1/n.y}) `),l){const{rotate:f,rotateX:x,rotateY:p}=l;f&&(i+=`rotate(${f}deg) `),x&&(i+=`rotateX(${x}deg) `),p&&(i+=`rotateY(${p}deg) `)}const d=s.x.scale*n.x,h=s.y.scale*n.y;return(d!==1||h!==1)&&(i+=`scale(${d}, ${h})`),i||"none"}const e8=(s,n)=>s.depth-n.depth;class t8{constructor(){this.children=[],this.isDirty=!1}add(n){Mh(this.children,n),this.isDirty=!0}remove(n){Lh(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(e8),this.isDirty=!1,this.children.forEach(n)}}function s8(s,n){const l=performance.now(),i=({timestamp:c})=>{const u=c-l;u>=n&&(pa(i),s(u-n))};return Ke.read(i,!0),()=>pa(i)}function a8(s){window.MotionDebug&&window.MotionDebug.record(s)}function n8(s){return s instanceof SVGElement&&s.tagName!=="svg"}function r8(s,n,l){const i=Xt(s)?s:Hr(s);return i.start(_h("",i,n,l)),i.animation}const Cj=["","X","Y","Z"],l8={visibility:"hidden"},kj=1e3;let i8=0;const Tn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function $2({attachResizeListener:s,defaultParent:n,measureScroll:l,checkIsScrollRoot:i,resetTransform:c}){return class{constructor(d={},h=n?.()){this.id=i8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tn.totalNodes=Tn.resolvedTargetDeltas=Tn.recalculatedProjection=0,this.nodes.forEach(d8),this.nodes.forEach(f8),this.nodes.forEach(p8),this.nodes.forEach(u8),a8(Tn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new t8)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Bh),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const f=this.eventHandlers.get(d);f&&f.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=n8(d),this.instance=d;const{layoutId:f,layout:x,visualElement:p}=this.options;if(p&&!p.current&&p.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(x||f)&&(this.isLayoutDirty=!0),s){let g;const N=()=>this.root.updateBlockedByResize=!1;s(d,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=s8(N,250),bc.hasAnimatedSinceResize&&(bc.hasAnimatedSinceResize=!1,this.nodes.forEach(Aj))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||x)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:N,hasRelativeTargetChanged:w,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||p.getDefaultTransition()||v8,{onLayoutAnimationStart:T,onLayoutAnimationComplete:A}=p.getProps(),E=!this.targetLayout||!V2(this.targetLayout,v)||w,S=!N&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||N&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,S);const M={...Dh(y,"layout"),onPlay:T,onComplete:A};(p.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else N||Aj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b8),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Tj);return}this.isUpdating||this.nodes.forEach(x8),this.isUpdating=!1,this.nodes.forEach(h8),this.nodes.forEach(o8),this.nodes.forEach(c8),this.clearAllSnapshots();const h=performance.now();At.delta=en(0,1e3/60,h-At.timestamp),At.timestamp=h,At.isProcessing=!0,Hm.update.process(At),Hm.preRender.process(At),Hm.render.process(At),At.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(m8),this.sharedNodes.forEach(g8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:d,isRoot:i(this.instance),offset:l(this.instance)})}resetTransform(){if(!c)return;const d=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!H2(this.projectionDelta),f=this.getTransformTemplate(),x=f?f(this.latestValues,""):void 0,p=x!==this.prevTransformTemplateValue;d&&(h||kn(this.latestValues)||p)&&(c(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return d&&(f=this.removeTransform(f)),N8(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return ft();const h=d.measureViewportBox(),{scroll:f}=this.root;return f&&(Ga(h.x,f.offset.x),Ga(h.y,f.offset.y)),h}removeElementScroll(d){const h=ft();ys(h,d);for(let f=0;f<this.path.length;f++){const x=this.path[f],{scroll:p,options:g}=x;if(x!==this.root&&p&&g.layoutScroll){if(p.isRoot){ys(h,d);const{scroll:N}=this.root;N&&(Ga(h.x,-N.offset.x),Ga(h.y,-N.offset.y))}Ga(h.x,p.offset.x),Ga(h.y,p.offset.y)}}return h}applyTransform(d,h=!1){const f=ft();ys(f,d);for(let x=0;x<this.path.length;x++){const p=this.path[x];!h&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Or(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),kn(p.latestValues)&&Or(f,p.latestValues)}return kn(this.latestValues)&&Or(f,this.latestValues),f}removeTransform(d){const h=ft();ys(h,d);for(let f=0;f<this.path.length;f++){const x=this.path[f];if(!x.instance||!kn(x.latestValues))continue;Wx(x.latestValues)&&x.updateSnapshot();const p=ft(),g=x.measurePageBox();ys(p,g),vj(h,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,p)}return kn(this.latestValues)&&vj(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==At.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const x=!!this.resumingFrom||this!==f;if(!(d||x&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:g,layoutId:N}=this.options;if(!(!this.layout||!(g||N))){if(this.resolvedRelativeTargetAt=At.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),ci(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ys(this.target,this.layout.layoutBox),R2(this.target,this.targetDelta)):ys(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),ci(this.relativeTargetOrigin,this.target,w.target),ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Wx(this.parent.latestValues)||B2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let x=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(x=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(x=!1),this.resolvedRelativeTargetAt===At.timestamp&&(x=!1),x)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;ys(this.layoutCorrected,this.layout.layoutBox);const N=this.treeScale.x,w=this.treeScale.y;MT(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox);const{target:v}=h;if(!v){this.projectionTransform&&(this.projectionDelta=Rr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Rr(),this.projectionDeltaWithTransform=Rr());const y=this.projectionTransform;oi(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Sj(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==N||this.treeScale.y!==w)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Tn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(d,h=!1){const f=this.snapshot,x=f?f.latestValues:{},p={...this.latestValues},g=Rr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const N=ft(),w=f?f.source:void 0,v=this.layout?this.layout.source:void 0,y=w!==v,T=this.getStack(),A=!T||T.members.length<=1,E=!!(y&&!A&&this.options.crossfade===!0&&!this.path.some(y8));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const L=M/1e3;Ej(g.x,d.x,L),Ej(g.y,d.y,L),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ci(N,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j8(this.relativeTarget,this.relativeTargetOrigin,N,L),S&&ZT(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=ft()),ys(S,this.relativeTarget)),y&&(this.animationValues=p,qT(p,x,this.latestValues,L,E,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{bc.hasAnimatedSinceResize=!0,this.currentAnimation=r8(0,kj,{...d,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:f,layout:x,latestValues:p}=d;if(!(!h||!f||!x)){if(this!==d&&this.layout&&x&&I2(this.options.animationType,this.layout.layoutBox,x.layoutBox)){f=this.target||ft();const g=cs(this.layout.layoutBox.x);f.x.min=d.target.x.min,f.x.max=f.x.min+g;const N=cs(this.layout.layoutBox.y);f.y.min=d.target.y.min,f.y.max=f.y.min+N}ys(h,f),Or(h,p),oi(this.projectionDeltaWithTransform,this.layoutCorrected,h,p)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new JT),this.sharedNodes.get(d).add(h);const x=h.options.initialPromotionConfig;h.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:h}=this.options;return h?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:h}=this.options;return h?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:f}={}){const x=this.getStack();x&&x.promote(this,f),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:f}=d;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(h=!0),!h)return;const x={};for(let p=0;p<Cj.length;p++){const g="rotate"+Cj[p];f[g]&&(x[g]=f[g],d.setStaticValue(g,0))}d.render();for(const p in x)d.setStaticValue(p,x[p]);d.scheduleRender()}getProjectionStyles(d){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return l8;const x={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,x.opacity="",x.pointerEvents=pc(d?.pointerEvents)||"",x.transform=p?p(this.latestValues,""):"none",x;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=pc(d?.pointerEvents)||""),this.hasProjected&&!kn(this.latestValues)&&(y.transform=p?p({},""):"none",this.hasProjected=!1),y}const N=g.animationValues||g.latestValues;this.applyTransformsToTarget(),x.transform=Sj(this.projectionDeltaWithTransform,this.treeScale,N),p&&(x.transform=p(N,x.transform));const{x:w,y:v}=this.projectionDelta;x.transformOrigin=`${w.origin*100}% ${v.origin*100}% 0`,g.animationValues?x.opacity=g===this?(f=(h=N.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:N.opacityExit:x.opacity=g===this?N.opacity!==void 0?N.opacity:"":N.opacityExit!==void 0?N.opacityExit:0;for(const y in Tc){if(N[y]===void 0)continue;const{correct:T,applyTo:A}=Tc[y],E=x.transform==="none"?N[y]:T(N[y],g);if(A){const S=A.length;for(let M=0;M<S;M++)x[A[M]]=E}else x[y]=E}return this.options.layoutId&&(x.pointerEvents=g===this?pc(d?.pointerEvents)||"":"none"),x}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var h;return(h=d.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(Tj),this.root.sharedNodes.clear()}}}function o8(s){s.updateLayout()}function c8(s){var n;const l=((n=s.resumeFrom)===null||n===void 0?void 0:n.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&l&&s.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:c}=s.layout,{animationType:u}=s.options,d=l.source!==s.layout.source;u==="size"?vs(g=>{const N=d?l.measuredBox[g]:l.layoutBox[g],w=cs(N);N.min=i[g].min,N.max=N.min+w}):I2(u,l.layoutBox,i)&&vs(g=>{const N=d?l.measuredBox[g]:l.layoutBox[g],w=cs(i[g]);N.max=N.min+w,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[g].max=s.relativeTarget[g].min+w)});const h=Rr();oi(h,i,l.layoutBox);const f=Rr();d?oi(f,s.applyTransform(c,!0),l.measuredBox):oi(f,i,l.layoutBox);const x=!H2(h);let p=!1;if(!s.resumeFrom){const g=s.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:N,layout:w}=g;if(N&&w){const v=ft();ci(v,l.layoutBox,N.layoutBox);const y=ft();ci(y,i,w.layoutBox),V2(v,y)||(p=!0),g.options.layoutRoot&&(s.relativeTarget=y,s.relativeTargetOrigin=v,s.relativeParent=g)}}}s.notifyListeners("didUpdate",{layout:i,snapshot:l,delta:f,layoutDelta:h,hasLayoutChanged:x,hasRelativeTargetChanged:p})}else if(s.isLead()){const{onExitComplete:i}=s.options;i&&i()}s.options.transition=void 0}function d8(s){Tn.totalNodes++,s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function u8(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function m8(s){s.clearSnapshot()}function Tj(s){s.clearMeasurements()}function x8(s){s.isLayoutDirty=!1}function h8(s){const{visualElement:n}=s.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),s.resetTransform()}function Aj(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function f8(s){s.resolveTargetDelta()}function p8(s){s.calcProjection()}function b8(s){s.resetRotation()}function g8(s){s.removeLeadSnapshot()}function Ej(s,n,l){s.translate=at(n.translate,0,l),s.scale=at(n.scale,1,l),s.origin=n.origin,s.originPoint=n.originPoint}function Dj(s,n,l,i){s.min=at(n.min,l.min,i),s.max=at(n.max,l.max,i)}function j8(s,n,l,i){Dj(s.x,n.x,l.x,i),Dj(s.y,n.y,l.y,i)}function y8(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const v8={duration:.45,ease:[.4,0,.1,1]},_j=s=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(s),Mj=_j("applewebkit/")&&!_j("chrome/")?Math.round:ot;function Lj(s){s.min=Mj(s.min),s.max=Mj(s.max)}function N8(s){Lj(s.x),Lj(s.y)}function I2(s,n,l){return s==="position"||s==="preserve-aspect"&&!qx(wj(n),wj(l),.2)}const w8=$2({attachResizeListener:(s,n)=>oa(s,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zm={current:void 0},G2=$2({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Zm.current){const s=new w8({});s.mount(window),s.setOptions({layoutScroll:!0}),Zm.current=s}return Zm.current},resetTransform:(s,n)=>{s.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),S8={pan:{Feature:FT},drag:{Feature:UT,ProjectionNode:G2,MeasureLayout:P2}},C8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function k8(s){const n=C8.exec(s);if(!n)return[,];const[,l,i]=n;return[l,i]}function Qx(s,n,l=1){const[i,c]=k8(s);if(!i)return;const u=window.getComputedStyle(n).getPropertyValue(i);if(u){const d=u.trim();return T2(d)?parseFloat(d):d}else return Ux(c)?Qx(c,n,l+1):c}function T8(s,{...n},l){const i=s.current;if(!(i instanceof Element))return{target:n,transitionEnd:l};l&&(l={...l}),s.values.forEach(c=>{const u=c.get();if(!Ux(u))return;const d=Qx(u,i);d&&c.set(d)});for(const c in n){const u=n[c];if(!Ux(u))continue;const d=Qx(u,i);d&&(n[c]=d,l||(l={}),l[c]===void 0&&(l[c]=u))}return{target:n,transitionEnd:l}}const A8=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),q2=s=>A8.has(s),E8=s=>Object.keys(s).some(q2),Bj=s=>s===Vn||s===Ce,Rj=(s,n)=>parseFloat(s.split(", ")[n]),Oj=(s,n)=>(l,{transform:i})=>{if(i==="none"||!i)return 0;const c=i.match(/^matrix3d\((.+)\)$/);if(c)return Rj(c[1],n);{const u=i.match(/^matrix\((.+)\)$/);return u?Rj(u[1],s):0}},D8=new Set(["x","y","z"]),_8=Ei.filter(s=>!D8.has(s));function M8(s){const n=[];return _8.forEach(l=>{const i=s.getValue(l);i!==void 0&&(n.push([l,i.get()]),i.set(l.startsWith("scale")?1:0))}),n.length&&s.render(),n}const Vr={width:({x:s},{paddingLeft:n="0",paddingRight:l="0"})=>s.max-s.min-parseFloat(n)-parseFloat(l),height:({y:s},{paddingTop:n="0",paddingBottom:l="0"})=>s.max-s.min-parseFloat(n)-parseFloat(l),top:(s,{top:n})=>parseFloat(n),left:(s,{left:n})=>parseFloat(n),bottom:({y:s},{top:n})=>parseFloat(n)+(s.max-s.min),right:({x:s},{left:n})=>parseFloat(n)+(s.max-s.min),x:Oj(4,13),y:Oj(5,14)};Vr.translateX=Vr.x;Vr.translateY=Vr.y;const L8=(s,n,l)=>{const i=n.measureViewportBox(),c=n.current,u=getComputedStyle(c),{display:d}=u,h={};d==="none"&&n.setStaticValue("display",s.display||"block"),l.forEach(x=>{h[x]=Vr[x](i,u)}),n.render();const f=n.measureViewportBox();return l.forEach(x=>{const p=n.getValue(x);p&&p.jump(h[x]),s[x]=Vr[x](f,u)}),s},B8=(s,n,l={},i={})=>{n={...n},i={...i};const c=Object.keys(n).filter(q2);let u=[],d=!1;const h=[];if(c.forEach(f=>{const x=s.getValue(f);if(!s.hasValue(f))return;let p=l[f],g=Gl(p);const N=n[f];let w;if(Ec(N)){const v=N.length,y=N[0]===null?1:0;p=N[y],g=Gl(p);for(let T=y;T<v&&N[T]!==null;T++)w?Ch(Gl(N[T])===w):w=Gl(N[T])}else w=Gl(N);if(g!==w)if(Bj(g)&&Bj(w)){const v=x.get();typeof v=="string"&&x.set(parseFloat(v)),typeof N=="string"?n[f]=parseFloat(N):Array.isArray(N)&&w===Ce&&(n[f]=N.map(parseFloat))}else g?.transform&&w?.transform&&(p===0||N===0)?p===0?x.set(w.transform(p)):n[f]=g.transform(N):(d||(u=M8(s),d=!0),h.push(f),i[f]=i[f]!==void 0?i[f]:n[f],x.jump(N))}),h.length){const f=h.indexOf("height")>=0?window.pageYOffset:null,x=L8(n,s,h);return u.length&&u.forEach(([p,g])=>{s.getValue(p).set(g)}),s.render(),Zc&&f!==null&&window.scrollTo({top:f}),{target:x,transitionEnd:i}}else return{target:n,transitionEnd:i}};function R8(s,n,l,i){return E8(n)?B8(s,n,l,i):{target:n,transitionEnd:i}}const O8=(s,n,l,i)=>{const c=T8(s,n,i);return n=c.target,i=c.transitionEnd,R8(s,n,l,i)},Xx={current:null},Y2={current:!1};function z8(){if(Y2.current=!0,!!Zc)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),n=()=>Xx.current=s.matches;s.addListener(n),n()}else Xx.current=!1}function P8(s,n,l){const{willChange:i}=n;for(const c in n){const u=n[c],d=l[c];if(Xt(u))s.addValue(c,u),Lc(i)&&i.add(c);else if(Xt(d))s.addValue(c,Hr(u,{owner:s})),Lc(i)&&i.remove(c);else if(d!==u)if(s.hasValue(c)){const h=s.getValue(c);!h.hasAnimated&&h.set(u)}else{const h=s.getStaticValue(c);s.addValue(c,Hr(h!==void 0?h:u,{owner:s}))}}for(const c in l)n[c]===void 0&&s.removeValue(c);return n}const zj=new WeakMap,W2=Object.keys(pi),U8=W2.length,Pj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],F8=ph.length;class H8{constructor({parent:n,props:l,presenceContext:i,reducedMotionConfig:c,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ke.render(this.render,!1,!0);const{latestValues:h,renderState:f}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=l.initial?{...h}:{},this.renderState=f,this.parent=n,this.props=l,this.presenceContext=i,this.depth=n?n.depth+1:0,this.reducedMotionConfig=c,this.options=d,this.isControllingVariants=ed(l),this.isVariantNode=Mv(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:x,...p}=this.scrapeMotionValuesFromProps(l,{});for(const g in p){const N=p[g];h[g]!==void 0&&Xt(N)&&(N.set(h[g],!1),Lc(x)&&x.add(g))}}scrapeMotionValuesFromProps(n,l){return{}}mount(n){this.current=n,zj.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((l,i)=>this.bindToMotionValue(i,l)),Y2.current||z8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){zj.delete(this.current),this.projection&&this.projection.unmount(),pa(this.notifyUpdate),pa(this.render),this.valueSubscriptions.forEach(n=>n()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features)this.features[n].unmount();this.current=null}bindToMotionValue(n,l){const i=Hn.has(n),c=l.on("change",d=>{this.latestValues[n]=d,this.props.onUpdate&&Ke.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),u=l.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(n,()=>{c(),u()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}loadFeatures({children:n,...l},i,c,u){let d,h;for(let f=0;f<U8;f++){const x=W2[f],{isEnabled:p,Feature:g,ProjectionNode:N,MeasureLayout:w}=pi[x];N&&(d=N),p(l)&&(!this.features[x]&&g&&(this.features[x]=new g(this)),w&&(h=w))}if((this.type==="html"||this.type==="svg")&&!this.projection&&d){this.projection=new d(this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:x,drag:p,dragConstraints:g,layoutScroll:N,layoutRoot:w}=l;this.projection.setOptions({layoutId:f,layout:x,alwaysMeasureLayout:!!p||g&&Lr(g),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof x=="string"?x:"both",initialPromotionConfig:u,layoutScroll:N,layoutRoot:w})}return h}updateFeatures(){for(const n in this.features){const l=this.features[n];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,l){this.latestValues[n]=l}makeTargetAnimatable(n,l=!0){return this.makeTargetAnimatableFromInstance(n,this.props,l)}update(n,l){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let i=0;i<Pj.length;i++){const c=Pj[i];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const u=n["on"+c];u&&(this.propEventSubscriptions[c]=this.on(c,u))}this.prevMotionValues=P8(this,this.scrapeMotionValuesFromProps(n,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(n=!1){if(n)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const l={};for(let i=0;i<F8;i++){const c=ph[i],u=this.props[c];(fi(u)||u===!1)&&(l[c]=u)}return l}addVariantChild(n){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(n),()=>l.variantChildren.delete(n)}addValue(n,l){l!==this.values.get(n)&&(this.removeValue(n),this.bindToMotionValue(n,l)),this.values.set(n,l),this.latestValues[n]=l.get()}removeValue(n){this.values.delete(n);const l=this.valueSubscriptions.get(n);l&&(l(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,l){if(this.props.values&&this.props.values[n])return this.props.values[n];let i=this.values.get(n);return i===void 0&&l!==void 0&&(i=Hr(l,{owner:this}),this.addValue(n,i)),i}readValue(n){var l;return this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(l=this.getBaseTargetFromProps(this.props,n))!==null&&l!==void 0?l:this.readValueFromInstance(this.current,n,this.options)}setBaseTarget(n,l){this.baseTarget[n]=l}getBaseTarget(n){var l;const{initial:i}=this.props,c=typeof i=="string"||typeof i=="object"?(l=Sh(this.props,i))===null||l===void 0?void 0:l[n]:void 0;if(i&&c!==void 0)return c;const u=this.getBaseTargetFromProps(this.props,n);return u!==void 0&&!Xt(u)?u:this.initialValues[n]!==void 0&&c===void 0?void 0:this.baseTarget[n]}on(n,l){return this.events[n]||(this.events[n]=new Bh),this.events[n].add(l)}notify(n,...l){this.events[n]&&this.events[n].notify(...l)}}class K2 extends H8{sortInstanceNodePosition(n,l){return n.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(n,l){return n.style?n.style[l]:void 0}removeValueFromRenderState(n,{vars:l,style:i}){delete l[n],delete i[n]}makeTargetAnimatableFromInstance({transition:n,transitionEnd:l,...i},{transformValues:c},u){let d=nT(i,n||{},this);if(c&&(l&&(l=c(l)),i&&(i=c(i)),d&&(d=c(d))),u){sT(this,i,d);const h=O8(this,i,d,l);l=h.transitionEnd,i=h.target}return{transition:n,transitionEnd:l,...i}}}function V8(s){return window.getComputedStyle(s)}class $8 extends K2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(n,l){if(Hn.has(l)){const i=Eh(l);return i&&i.default||0}else{const i=V8(n),c=(Ov(l)?i.getPropertyValue(l):i[l])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(n,{transformPagePoint:l}){return O2(n,l)}build(n,l,i,c){jh(n,l,i,c.transformTemplate)}scrapeMotionValuesFromProps(n,l){return wh(n,l)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Xt(n)&&(this.childSubscription=n.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}renderInstance(n,l,i,c){Vv(n,l,i,c)}}class I8 extends K2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(n,l){return n[l]}readValueFromInstance(n,l){if(Hn.has(l)){const i=Eh(l);return i&&i.default||0}return l=$v.has(l)?l:hh(l),n.getAttribute(l)}measureInstanceViewportBox(){return ft()}scrapeMotionValuesFromProps(n,l){return Gv(n,l)}build(n,l,i,c){vh(n,l,i,this.isSVGTag,c.transformTemplate)}renderInstance(n,l,i,c){Iv(n,l,i,c)}mount(n){this.isSVGTag=Nh(n.tagName),super.mount(n)}}const G8=(s,n)=>gh(s)?new I8(n,{enableHardwareAcceleration:!1}):new $8(n,{enableHardwareAcceleration:!0}),q8={layout:{ProjectionNode:G2,MeasureLayout:P2}},Y8={...jT,...UC,...S8,...q8},st=WS((s,n)=>kC(s,n,Y8,G8));function Q2(){const s=j.useRef(!1);return xh(()=>(s.current=!0,()=>{s.current=!1}),[]),s}function W8(){const s=Q2(),[n,l]=j.useState(0),i=j.useCallback(()=>{s.current&&l(n+1)},[n]);return[j.useCallback(()=>Ke.postRender(i),[i]),n]}class K8 extends j.Component{getSnapshotBeforeUpdate(n){const l=this.props.childRef.current;if(l&&n.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=l.offsetHeight||0,i.width=l.offsetWidth||0,i.top=l.offsetTop,i.left=l.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Q8({children:s,isPresent:n}){const l=j.useId(),i=j.useRef(null),c=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f}=c.current;if(n||!i.current||!u||!d)return;i.current.dataset.motionPopId=l;const x=document.createElement("style");return document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            top: ${h}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[n]),j.createElement(K8,{isPresent:n,childRef:i,sizeRef:c},j.cloneElement(s,{ref:i}))}const Jm=({children:s,initial:n,isPresent:l,onExitComplete:i,custom:c,presenceAffectsLayout:u,mode:d})=>{const h=qv(X8),f=j.useId(),x=j.useMemo(()=>({id:f,initial:n,isPresent:l,custom:c,onExitComplete:p=>{h.set(p,!0);for(const g of h.values())if(!g)return;i&&i()},register:p=>(h.set(p,!1),()=>h.delete(p))}),u?void 0:[l]);return j.useMemo(()=>{h.forEach((p,g)=>h.set(g,!1))},[l]),j.useEffect(()=>{!l&&!h.size&&i&&i()},[l]),d==="popLayout"&&(s=j.createElement(Q8,{isPresent:l},s)),j.createElement(Xc.Provider,{value:x},s)};function X8(){return new Map}function Z8(s){return j.useEffect(()=>()=>s(),[])}const An=s=>s.key||"";function J8(s,n){s.forEach(l=>{const i=An(l);n.set(i,l)})}function eA(s){const n=[];return j.Children.forEach(s,l=>{j.isValidElement(l)&&n.push(l)}),n}const X2=({children:s,custom:n,initial:l=!0,onExitComplete:i,exitBeforeEnter:c,presenceAffectsLayout:u=!0,mode:d="sync"})=>{const h=j.useContext(bh).forceRender||W8()[0],f=Q2(),x=eA(s);let p=x;const g=j.useRef(new Map).current,N=j.useRef(p),w=j.useRef(new Map).current,v=j.useRef(!0);if(xh(()=>{v.current=!1,J8(x,w),N.current=p}),Z8(()=>{v.current=!0,w.clear(),g.clear()}),v.current)return j.createElement(j.Fragment,null,p.map(E=>j.createElement(Jm,{key:An(E),isPresent:!0,initial:l?void 0:!1,presenceAffectsLayout:u,mode:d},E)));p=[...p];const y=N.current.map(An),T=x.map(An),A=y.length;for(let E=0;E<A;E++){const S=y[E];T.indexOf(S)===-1&&!g.has(S)&&g.set(S,void 0)}return d==="wait"&&g.size&&(p=[]),g.forEach((E,S)=>{if(T.indexOf(S)!==-1)return;const M=w.get(S);if(!M)return;const L=y.indexOf(S);let B=E;if(!B){const D=()=>{g.delete(S);const C=Array.from(w.keys()).filter(R=>!T.includes(R));if(C.forEach(R=>w.delete(R)),N.current=x.filter(R=>{const $=An(R);return $===S||C.includes($)}),!g.size){if(f.current===!1)return;h(),i&&i()}};B=j.createElement(Jm,{key:An(M),isPresent:!1,onExitComplete:D,custom:n,presenceAffectsLayout:u,mode:d},M),g.set(S,B)}p.splice(L,0,B)}),p=p.map(E=>{const S=E.key;return g.has(S)?E:j.createElement(Jm,{key:An(E),isPresent:!0,presenceAffectsLayout:u,mode:d},E)}),j.createElement(j.Fragment,null,g.size?p:p.map(E=>j.cloneElement(E)))},tA=()=>{const{memberId:s}=ji(),n=kt(),[l,i]=j.useState(null),[c,u]=j.useState(!0),[d,h]=j.useState(!1),[f,x]=j.useState(!1);j.useEffect(()=>{p()},[s]);const p=async()=>{if(s)try{u(!0);const E=await J.get(`/members/${s}`);E.data.status==="success"&&E.data.data&&i(E.data.data)}catch(E){console.error("Failed to load member data:",E),U.error("")}finally{u(!1)}},g=E=>({KBANK:"",SCB:"",BBL:"",KTB:"",BAY:"",TMB:"",TRUEWALLET:"TrueMoney Wallet"})[E]||E,N=E=>{switch(E){case"ACTIVE":return e.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-green-500/20 to-emerald-600/20 border border-green-400/30 rounded-lg text-green-300 font-semibold text-sm",children:""});case"SUSPENDED":return e.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-red-500/20 to-rose-600/20 border border-red-400/30 rounded-lg text-red-300 font-semibold text-sm",children:""});case"BANNED":return e.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-gray-500/20 to-gray-600/20 border border-gray-400/30 rounded-lg text-gray-300 font-semibold text-sm",children:""});default:return null}},w=E=>E?new Date(E).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",v=E=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:2}).format(E),y=async()=>{if(!l)return;const E=l.member.status==="ACTIVE"?"SUSPENDED":"ACTIVE",S=E==="ACTIVE"?"":"";if(confirm(`${S}?`))try{await J.put(`/members/${s}/status`,{status:E}),U.success(`${S}`),p()}catch{U.error(`${S}`)}},T=async()=>{if(confirm("?"))try{await J.post(`/members/${s}/reset-password`),U.success("")}catch{U.error("")}};if(c)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-admin-dark via-admin-darker to-black flex items-center justify-center",children:e.jsx(st.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-5xl text-gold-400",children:e.jsx(Cc,{})})});if(!l)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-admin-dark via-admin-darker to-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-xl text-white mb-2",children:""}),e.jsx("button",{onClick:()=>n("/admin/members"),className:"px-6 py-2 bg-gradient-to-r from-gold-500 to-gold-600 text-brown-900 font-bold rounded-lg hover:shadow-lg hover:shadow-gold-500/50 transition-all",children:""})]})});const{member:A}=l;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-admin-dark via-admin-darker to-black relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gold-600/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-info/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),e.jsx("div",{className:"relative z-10 py-6 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(st.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"mb-6",children:[e.jsxs("button",{onClick:()=>n("/admin/members"),className:"flex items-center gap-2 text-gray-300 hover:text-gold-400 transition-colors mb-4",children:[e.jsx(ki,{className:"text-xl"}),e.jsx("span",{children:""})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-gold-300 via-gold-400 to-gold-500",children:""}),e.jsxs("p",{className:"text-gray-400 mt-1",children:[": ",A.id]})]}),N(A.status)]})]}),e.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-admin-card via-admin-darker to-admin-card backdrop-blur-xl rounded-2xl border border-gold-500/30 overflow-hidden mb-6 shadow-2xl shadow-gold-500/20",children:[e.jsx("div",{className:"bg-gradient-to-r from-gold-600 via-gold-500 to-gold-600 py-3 px-6 border-b border-gold-400/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-brown-900",children:[e.jsx(Cc,{className:"text-xl"}),e.jsx("span",{className:"text-lg font-bold",children:""})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:y,className:"px-3 py-1.5 bg-brown-900/20 hover:bg-brown-900/40 rounded-lg text-brown-900 font-medium text-sm transition-all flex items-center gap-1",children:[A.status==="ACTIVE"?e.jsx(Ai,{}):e.jsx(cS,{}),A.status==="ACTIVE"?"":""]}),e.jsxs("button",{onClick:T,className:"px-3 py-1.5 bg-brown-900/20 hover:bg-brown-900/40 rounded-lg text-brown-900 font-medium text-sm transition-all flex items-center gap-1",children:[e.jsx(dt,{}),""]})]})]})}),e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-gold-400 font-bold mb-3 flex items-center gap-2",children:[e.jsx(lS,{})," "]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:""}),e.jsx("p",{className:"text-white font-bold",children:A.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"-"}),e.jsx("p",{className:"text-gray-300",children:A.fullname||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"LINE ID"}),e.jsx("p",{className:"text-gray-300",children:A.line||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:""}),e.jsx("p",{className:"text-gold-400 font-bold",children:A.referralCode})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-info font-bold mb-3 flex items-center gap-2",children:[e.jsx(Gc,{})," "]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:""}),e.jsx("p",{className:"text-white font-bold",children:g(A.bankCode)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:""}),e.jsx("p",{className:"text-gray-300",children:A.bankNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Username "}),e.jsx("p",{className:"text-gray-300",children:A.gameUsername})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-gray-400 font-bold mb-3 flex items-center gap-2",children:[e.jsx(Qe,{})," "]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:""}),e.jsx("p",{className:"text-gray-300 text-sm",children:w(A.createdAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:""}),e.jsx("p",{className:"text-gray-300 text-sm",children:w(A.updatedAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:""}),e.jsx("p",{className:"text-gray-300 text-sm",children:w(A.lastLogin)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"IP "}),e.jsx("p",{className:"text-gray-300 text-sm",children:A.lastIp||"-"})]})]})]})]})]}),e.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-admin-card to-admin-darker rounded-xl border border-gold-500/30 p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(ze,{className:"text-3xl text-gold-400"}),e.jsx("button",{className:"p-2 bg-gold-500/20 hover:bg-gold-500/30 rounded-lg transition-all",children:e.jsx(qc,{className:"text-gold-400"})})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:""}),e.jsx("p",{className:"text-white font-bold text-2xl",children:v(A.credit)}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:""})]}),e.jsxs("div",{className:"bg-gradient-to-br from-admin-card to-admin-darker rounded-xl border border-info/30 p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx(Px,{className:"text-3xl text-info"})}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:""}),e.jsx("p",{className:"text-white font-bold text-2xl",children:v(A.creditGame)}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:""})]}),e.jsxs("div",{className:"bg-gradient-to-br from-admin-card to-admin-darker rounded-xl border border-success/30 p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx(Mt,{className:"text-3xl text-success"})}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:""}),e.jsx("p",{className:"text-white font-bold text-2xl",children:v(l.totalDeposits)}),e.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[l.depositCount," "]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-admin-card to-admin-darker rounded-xl border border-danger/30 p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx(Pt,{className:"text-3xl text-danger"})}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:""}),e.jsx("p",{className:"text-white font-bold text-2xl",children:v(l.totalWithdrawals)}),e.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[l.withdrawalCount," "]})]})]}),e.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-admin-card via-admin-darker to-admin-card backdrop-blur-xl rounded-2xl border border-gold-500/30 overflow-hidden mb-6 shadow-2xl shadow-gold-500/20",children:[e.jsx("div",{className:"bg-gradient-to-r from-info via-info/80 to-info py-3 px-6 border-b border-info/30",children:e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx(Px,{className:"text-xl"}),e.jsx("span",{className:"text-lg font-bold",children:""})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:""}),e.jsx("p",{className:"text-white font-bold text-3xl",children:v(A.turnover)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:""}),e.jsx("p",{className:"text-warning font-bold text-3xl",children:v(A.turnoverNeed)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:""}),e.jsx("p",{className:`font-bold text-3xl ${A.turnoverNeed-A.turnover>0?"text-danger":"text-success"}`,children:v(Math.max(0,A.turnoverNeed-A.turnover))})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsxs("span",{className:"text-gold-400 font-bold",children:[A.turnoverNeed>0?(A.turnover/A.turnoverNeed*100).toFixed(1):0,"%"]})]}),e.jsx("div",{className:"w-full bg-admin-darker rounded-full h-3 overflow-hidden",children:e.jsx(st.div,{initial:{width:0},animate:{width:`${A.turnoverNeed>0?Math.min(100,A.turnover/A.turnoverNeed*100):0}%`},transition:{duration:1,delay:.5},className:"h-full bg-gradient-to-r from-gold-500 to-gold-400 rounded-full"})})]})]})]}),e.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-admin-card via-admin-darker to-admin-card backdrop-blur-xl rounded-2xl border border-gold-500/30 overflow-hidden shadow-2xl shadow-gold-500/20",children:[e.jsx("div",{className:"bg-gradient-to-r from-gold-600 via-gold-500 to-gold-600 py-3 px-6 border-b border-gold-400/30",children:e.jsxs("div",{className:"flex items-center gap-2 text-brown-900",children:[e.jsx(vc,{className:"text-xl"}),e.jsx("span",{className:"text-lg font-bold",children:""})]})}),e.jsxs("div",{className:"p-6 grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("button",{onClick:()=>h(!0),className:"p-4 bg-gradient-to-br from-success/20 to-success/10 border border-success/30 rounded-xl hover:shadow-lg hover:shadow-success/20 transition-all group",children:[e.jsx(vv,{className:"text-2xl text-success mx-auto mb-2 group-hover:scale-110 transition-transform"}),e.jsx("p",{className:"text-success font-medium text-sm",children:""})]}),e.jsxs("button",{onClick:()=>x(!0),className:"p-4 bg-gradient-to-br from-danger/20 to-danger/10 border border-danger/30 rounded-xl hover:shadow-lg hover:shadow-danger/20 transition-all group",children:[e.jsx(jv,{className:"text-2xl text-danger mx-auto mb-2 group-hover:scale-110 transition-transform"}),e.jsx("p",{className:"text-danger font-medium text-sm",children:""})]}),e.jsxs("button",{onClick:()=>n(`/admin/members/${A.id}/transactions`),className:"p-4 bg-gradient-to-br from-info/20 to-info/10 border border-info/30 rounded-xl hover:shadow-lg hover:shadow-info/20 transition-all group",children:[e.jsx(vc,{className:"text-2xl text-info mx-auto mb-2 group-hover:scale-110 transition-transform"}),e.jsx("p",{className:"text-info font-medium text-sm",children:""})]}),e.jsxs("button",{onClick:()=>n(`/admin/members/${A.id}/poys`),className:"p-4 bg-gradient-to-br from-gold-500/20 to-gold-600/10 border border-gold-500/30 rounded-xl hover:shadow-lg hover:shadow-gold-500/20 transition-all group",children:[e.jsx(ri,{className:"text-2xl text-gold-400 mx-auto mb-2 group-hover:scale-110 transition-transform"}),e.jsx("p",{className:"text-gold-400 font-medium text-sm",children:""})]})]})]})]})}),e.jsx(Tv,{isOpen:d,member:l?.member,onClose:()=>h(!1),onSuccess:()=>{h(!1),p()}}),e.jsx(Av,{isOpen:f,member:l?.member,onClose:()=>x(!1),onSuccess:()=>{x(!1),p()}})]})},sA=()=>{const{memberId:s}=ji(),n=kt(),[l,i]=j.useState(null),[c,u]=j.useState(!0),[d,h]=j.useState("");j.useEffect(()=>{f()},[s,d]);const f=async()=>{if(s)try{u(!0);const y={limit:50};d&&(y.status=d);const T=await J.get(`/members/${s}/poys`,{params:y});if(T.data.status==="success"&&T.data.data){const A=T.data.data;i({poys:A.poys||[],statistics:A.statistics||{totalPoys:0,totalBets:0,totalWins:0,netProfit:0,activePoys:0,cancelledPoys:0,completedPoys:0},pagination:A.pagination||{limit:50,offset:0}})}else i({poys:[],statistics:{totalPoys:0,totalBets:0,totalWins:0,netProfit:0,activePoys:0,cancelledPoys:0,completedPoys:0},pagination:{limit:50,offset:0}})}catch(y){console.error("Failed to load member poys:",y),U.error(""),i({poys:[],statistics:{totalPoys:0,totalBets:0,totalWins:0,netProfit:0,activePoys:0,cancelledPoys:0,completedPoys:0},pagination:{limit:50,offset:0}})}finally{u(!1)}},x=y=>new Date(y).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=y=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:2}).format(y),g=y=>{switch(y){case 0:return e.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-red-500/20 to-rose-600/20 border border-red-400/30 rounded-lg text-red-300 font-semibold text-xs",children:""});case 1:return e.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-yellow-500/20 to-amber-600/20 border border-yellow-400/30 rounded-lg text-yellow-300 font-semibold text-xs",children:""});case 2:return e.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-green-500/20 to-emerald-600/20 border border-green-400/30 rounded-lg text-green-300 font-semibold text-xs",children:""});default:return null}},N=y=>({g:"",o:"",b:"",s:"",y:""})[y]||y;if(c)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-admin-dark via-admin-darker to-black flex items-center justify-center",children:e.jsx(st.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-5xl text-gold-400",children:e.jsx(ri,{})})});if(!l)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-admin-dark via-admin-darker to-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-xl text-white mb-2",children:""}),e.jsx("button",{onClick:()=>n(`/admin/members/${s}`),className:"px-6 py-2 bg-gradient-to-r from-gold-500 to-gold-600 text-brown-900 font-bold rounded-lg hover:shadow-lg hover:shadow-gold-500/50 transition-all",children:""})]})});const{poys:w=[],statistics:v}=l||{poys:[],statistics:{totalPoys:0,totalBets:0,totalWins:0,netProfit:0,activePoys:0,cancelledPoys:0,completedPoys:0}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-admin-dark via-admin-darker to-black relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gold-600/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-info/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),e.jsx("div",{className:"relative z-10 py-6 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(st.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"mb-6",children:[e.jsxs("button",{onClick:()=>n(`/admin/members/${s}`),className:"flex items-center gap-2 text-gray-300 hover:text-gold-400 transition-colors mb-4",children:[e.jsx(ki,{className:"text-xl"}),e.jsx("span",{children:""})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-gold-300 via-gold-400 to-gold-500",children:""}),e.jsx("p",{className:"text-gray-400 mt-1",children:""})]})})]}),e.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-admin-card to-admin-darker rounded-xl border border-gold-500/30 p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(ze,{className:"text-3xl text-gold-400"}),e.jsx(Pt,{className:"text-xl text-gold-400/50"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:""}),e.jsx("p",{className:"text-white font-bold text-2xl",children:p(v.totalBets)}),e.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[v.totalPoys," "]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-admin-card to-admin-darker rounded-xl border border-success/30 p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(Mt,{className:"text-3xl text-success"}),e.jsx(Fe,{className:"text-xl text-success/50"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:""}),e.jsx("p",{className:"text-white font-bold text-2xl",children:p(v.totalWins)}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:""})]}),e.jsxs("div",{className:`bg-gradient-to-br from-admin-card to-admin-darker rounded-xl border ${v.netProfit>=0?"border-success/30":"border-danger/30"} p-6 shadow-lg`,children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx(gv,{className:`text-3xl ${v.netProfit>=0?"text-success":"text-danger"}`})}),e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"/"}),e.jsxs("p",{className:`font-bold text-2xl ${v.netProfit>=0?"text-success":"text-danger"}`,children:[v.netProfit>=0?"+":"",p(v.netProfit)]}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:""})]}),e.jsxs("div",{className:"bg-gradient-to-br from-admin-card to-admin-darker rounded-xl border border-info/30 p-6 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx(ri,{className:"text-3xl text-info"})}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:""}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-yellow-400",children:":"}),e.jsx("span",{className:"text-white font-bold",children:v.activePoys})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-green-400",children:":"}),e.jsx("span",{className:"text-white font-bold",children:v.completedPoys})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-red-400",children:":"}),e.jsx("span",{className:"text-white font-bold",children:v.cancelledPoys})]})]})]})]}),e.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6 flex gap-2",children:[e.jsxs("button",{onClick:()=>h(""),className:`px-4 py-2 rounded-lg font-medium transition-all ${d===""?"bg-gradient-to-r from-gold-500 to-gold-600 text-brown-900":"bg-admin-card text-gray-400 hover:text-white border border-gray-700"}`,children:[" (",v.totalPoys,")"]}),e.jsxs("button",{onClick:()=>h("1"),className:`px-4 py-2 rounded-lg font-medium transition-all ${d==="1"?"bg-gradient-to-r from-yellow-500 to-amber-600 text-white":"bg-admin-card text-gray-400 hover:text-white border border-gray-700"}`,children:[" (",v.activePoys,")"]}),e.jsxs("button",{onClick:()=>h("2"),className:`px-4 py-2 rounded-lg font-medium transition-all ${d==="2"?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":"bg-admin-card text-gray-400 hover:text-white border border-gray-700"}`,children:[" (",v.completedPoys,")"]}),e.jsxs("button",{onClick:()=>h("0"),className:`px-4 py-2 rounded-lg font-medium transition-all ${d==="0"?"bg-gradient-to-r from-red-500 to-rose-600 text-white":"bg-admin-card text-gray-400 hover:text-white border border-gray-700"}`,children:[" (",v.cancelledPoys,")"]})]}),e.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-admin-card via-admin-darker to-admin-card backdrop-blur-xl rounded-2xl border border-gold-500/30 overflow-hidden shadow-2xl shadow-gold-500/20",children:[e.jsx("div",{className:"bg-gradient-to-r from-gold-600 via-gold-500 to-gold-600 py-3 px-6 border-b border-gold-400/30",children:e.jsxs("div",{className:"flex items-center gap-2 text-brown-900",children:[e.jsx(ri,{className:"text-xl"}),e.jsx("span",{className:"text-lg font-bold",children:""})]})}),w.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-400 text-lg",children:""})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-admin-darker/50 border-b border-gold-500/20",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gold-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gold-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gold-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gold-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gold-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gold-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gold-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gold-400 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700/50",children:w.map((y,T)=>e.jsxs(st.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.05},className:"hover:bg-admin-darker/50 transition-colors",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-white font-mono text-sm",children:y.poyNumber})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-gray-300 text-sm",children:y.poyName})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"px-2 py-1 bg-info/20 border border-info/30 rounded text-info text-xs font-medium",children:N(y.poyType)})}),e.jsx("td",{className:"px-4 py-4 text-right",children:e.jsx("span",{className:"text-white font-bold",children:p(y.totalPrice)})}),e.jsx("td",{className:"px-4 py-4 text-right",children:e.jsx("span",{className:`font-bold ${y.winPrice>0?"text-success":"text-gray-500"}`,children:p(y.winPrice)})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-gray-400 text-xs",children:x(y.dateBuy)})}),e.jsx("td",{className:"px-4 py-4 text-center",children:g(y.status)}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("button",{onClick:()=>n(`/admin/poy/${y.id}`),className:"p-2 bg-gold-500/20 hover:bg-gold-500/30 rounded-lg text-gold-400 transition-all group",title:"",children:e.jsx(xa,{className:"group-hover:scale-110 transition-transform"})})})]},y.id))})]})})]})]})})]})};we.locale("th");const aA=()=>{const{memberId:s}=ji(),n=kt(),[l,i]=j.useState([]),[c,u]=j.useState(null),[d,h]=j.useState(!0),[f,x]=j.useState("all");j.useEffect(()=>{p()},[s]);const p=async()=>{if(s)try{h(!0);const y=await J.get(`/members/${s}`);y.data.status==="success"&&y.data.data&&u(y.data.data.member);const T=await J.get(`/members/${s}/transactions`);if(T.data.status==="success"&&T.data.data){const A=T.data.data.transactions||[];console.log("Transactions:",A),A.length>0&&console.log("First transaction type:",A[0].type),i(A)}}catch(y){console.error("Failed to load data:",y),U.error("")}finally{h(!1)}},g=y=>{switch(y){case"DEPOSIT":case"DEPOSIT_BONUS":return e.jsx(pv,{className:"text-success"});case"WITHDRAW":return e.jsx(bv,{className:"text-error"});default:return e.jsx(ze,{className:"text-brown-400"})}},N=(y,T)=>({DEPOSIT:"",DEPOSIT_BONUS:"",WITHDRAW:"",CASHBACK:"",PROMOTION:"",CREDIT_ADJUSTMENT:T>=0?"":"",ADJUSTMENT:T>=0?"":"",LOTTERY_BET:"",LOTTERY_WIN:"",GAME_BET:"",GAME_WIN:"",TRANSFER_IN:"",TRANSFER_OUT:""})[y]||y,w=y=>{switch(y){case"COMPLETED":return e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-success/10 text-success border border-success/20",children:""});case"PENDING":return e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-warning/10 text-warning border border-warning/20",children:""});case"CANCELLED":case"REJECTED":return e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-error/10 text-error border border-error/20",children:""});default:return e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-brown-500/10 text-brown-400 border border-brown-500/20",children:y})}},v=l.filter(y=>f==="all"?!0:y.type===f);return d?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>n(`/admin/members/${s}`),className:"p-2 hover:bg-admin-hover rounded-lg transition-colors",children:e.jsx(ki,{className:"w-6 h-6 text-brown-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-display font-bold text-gold-500",children:""}),c&&e.jsxs("p",{className:"text-brown-400 text-sm mt-1",children:[c.phone," - ",c.fullname]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fs,{className:"text-brown-400"}),e.jsxs("select",{value:f,onChange:y=>x(y.target.value),className:"px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"DEPOSIT",children:""}),e.jsx("option",{value:"WITHDRAW",children:""}),e.jsx("option",{value:"CASHBACK",children:""}),e.jsx("option",{value:"LOTTERY_BET",children:""}),e.jsx("option",{value:"LOTTERY_WIN",children:""}),e.jsx("option",{value:"GAME_BET",children:""}),e.jsx("option",{value:"GAME_WIN",children:""})]})]})]}),e.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-admin-card border border-admin-border rounded-xl overflow-hidden",children:v.length===0?e.jsx("div",{className:"p-8 text-center text-brown-400",children:""}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-brown-300 uppercase",children:"/"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-brown-300 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-brown-300 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:v.map(y=>e.jsxs("tr",{className:"hover:bg-admin-hover transition-colors",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-brown-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"text-brown-500"}),e.jsxs("div",{children:[e.jsx("div",{children:we(y.createdAt).format("DD/MM/YYYY")}),e.jsx("div",{className:"text-xs text-brown-500",children:we(y.createdAt).format("HH:mm:ss")})]})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[g(y.type),e.jsx("span",{className:"text-brown-200",children:N(y.type,y.amount)})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-right",children:e.jsx("span",{className:`font-bold ${y.amount>=0?"text-success":"text-error"}`,children:Math.abs(y.amount).toLocaleString("th-TH",{minimumFractionDigits:2})})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-right text-brown-400",children:y.beforeBalance!==null?y.beforeBalance.toLocaleString("th-TH",{minimumFractionDigits:2}):"-"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-right text-brown-200 font-medium",children:y.afterBalance!==null?y.afterBalance.toLocaleString("th-TH",{minimumFractionDigits:2}):"-"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:w(y.status)}),e.jsx("td",{className:"px-4 py-4 text-sm text-brown-400 max-w-xs truncate",children:y.remark||"-"})]},y.id))})]})})})]})},Zx={getAllPoys:async s=>{const n=new URLSearchParams;return s?.date&&n.append("date",s.date),s?.status!==void 0&&n.append("status",s.status.toString()),s?.search&&n.append("search",s.search),s?.limit&&n.append("limit",s.limit.toString()),s?.offset&&n.append("offset",s.offset.toString()),(await J.get(`/poy/all${n.toString()?"?"+n.toString():""}`)).data},getMemberPoys:async(s,n)=>{const l=new URLSearchParams;return n?.limit&&l.append("limit",n.limit.toString()),n?.offset&&l.append("offset",n.offset.toString()),n?.status!==void 0&&l.append("status",n.status.toString()),(await J.get(`/poy/member/${s}${l.toString()?"?"+l.toString():""}`)).data},getPoyDetail:async s=>(await J.get(`/poy/${s}`)).data,cancelPoy:async(s,n)=>(await J.post(`/poy/${s}/cancel`,n)).data},Uj=()=>{const{poyId:s}=ji(),n=kt(),[l,i]=j.useState(null),[c,u]=j.useState(!0),[d,h]=j.useState(null),[f,x]=j.useState(!1),[p,g]=j.useState(""),[N,w]=j.useState(!1);j.useEffect(()=>{v()},[s]);const v=async()=>{try{u(!0);const B=await Zx.getPoyDetail(s);if(B.status==="success"&&B.data){const D=B.data,C={...D.header,items:D.items||[]};i(C),C.memberId&&y(C.memberId)}}catch(B){console.error("Failed to load poy detail:",B),U.error("")}finally{u(!1)}},y=async B=>{try{const D=await J.get(`/members/${B}`);D.data.status==="success"&&D.data.data&&D.data.data.member&&h(D.data.data.member)}catch(D){console.error("Failed to load member info:",D)}},T=B=>({teng_bon_3:"3 ",teng_lang_3:"3 ",teng_lang_nha_3:"3 ",tode_3:"3 ",teng_bon_2:"2 ",teng_lang_2:"2 ",teng_bon_1:"",teng_lang_1:"",tode_4:"4 ",teng_bon_4:"4 "})[B]||B,A=B=>{switch(B){case 0:return e.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-red-500/20 to-rose-600/20 border border-red-400/30 rounded-lg text-red-300 font-semibold text-sm",children:""});case 1:return e.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-yellow-500/20 to-amber-600/20 border border-yellow-400/30 rounded-lg text-yellow-300 font-semibold text-sm",children:""});case 2:return e.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-green-500/20 to-emerald-600/20 border border-green-400/30 rounded-lg text-green-300 font-semibold text-sm",children:""});default:return null}},E=(B,D)=>D===0?{label:"",style:"bg-red-500/20 text-red-300 border-red-400/30"}:D===1?{label:"",style:"bg-yellow-500/20 text-yellow-300 border-yellow-400/30"}:B.isWin?{label:"",style:"bg-green-500/20 text-green-300 border-green-400/30"}:{label:"",style:"bg-gray-500/20 text-gray-400 border-gray-400/30"},S=B=>new Date(B).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}),M=B=>new Date(B).toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"}),L=async()=>{if(!p.trim()){U.error("");return}if(p.trim().length<5){U.error(" 5 ");return}try{w(!0);const B=await Zx.cancelPoy(s,{reason:p});U.success(B.message||""),x(!1),g(""),v()}catch(B){const D=B.response?.data?.message||"";U.error(D)}finally{w(!1)}};return c?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-admin-dark via-admin-darker to-black flex items-center justify-center",children:e.jsx(st.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-5xl text-gold-400",children:e.jsx(vc,{})})}):l?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-admin-dark via-admin-darker to-black relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gold-600/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-info/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),e.jsx("div",{className:"relative z-10 py-6 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(st.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"mb-6",children:[e.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 text-gray-300 hover:text-gold-400 transition-colors mb-4",children:[e.jsx(ki,{className:"text-xl"}),e.jsx("span",{children:""})]}),e.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-gold-300 via-gold-400 to-gold-500",children:" (Admin)"})]}),e.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-admin-card via-admin-darker to-admin-card backdrop-blur-xl rounded-2xl border border-gold-500/30 overflow-hidden mb-6 shadow-2xl shadow-gold-500/20",children:[e.jsx("div",{className:"bg-gradient-to-r from-gold-600 via-gold-500 to-gold-600 py-3 px-6 text-center border-b border-gold-400/30",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-brown-900",children:[e.jsx(vc,{className:"text-xl"}),e.jsxs("span",{className:"text-lg font-bold",children:[" #",l.poyNumber]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-300 font-medium",children:l.poyName}),A(l.status)]}),e.jsxs("div",{className:"flex items-center justify-center md:justify-end gap-4 text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(yt,{className:"text-info"}),e.jsx("span",{children:S(l.dateBuy)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Qe,{className:"text-info"}),e.jsx("span",{children:M(l.dateBuy)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d&&e.jsxs("div",{className:"bg-gradient-to-br from-info/10 to-info/5 backdrop-blur-sm rounded-xl p-4 border border-info/20",children:[e.jsxs("p",{className:"text-info text-sm mb-2 flex items-center gap-1",children:[e.jsx(Cc,{})," "]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-gray-400 text-xs",children:":"}),e.jsx("p",{className:"text-white font-bold text-sm",children:d.phone})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-gray-400 text-xs",children:":"}),e.jsx("p",{className:"text-gray-300 text-sm",children:d.fullname||"-"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 backdrop-blur-sm rounded-xl p-4 border border-blue-400/20",children:[e.jsxs("p",{className:"text-blue-300 text-sm mb-1 flex items-center gap-1",children:[e.jsx("span",{children:""})," "]}),e.jsx("p",{className:"text-white font-bold text-2xl",children:l.totalPrice.toFixed(2)}),e.jsx("p",{className:"text-gray-500 text-xs",children:""})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-600/5 backdrop-blur-sm rounded-xl p-4 border border-green-400/20",children:[e.jsxs("p",{className:"text-green-300 text-sm mb-1 flex items-center gap-1",children:[e.jsx("span",{children:""})," "]}),e.jsxs("p",{className:`font-bold text-2xl ${l.winPrice>0?"text-green-400":"text-white"}`,children:[l.winPrice>0?"+":"",l.winPrice.toFixed(2)]}),e.jsx("p",{className:"text-gray-500 text-xs",children:""})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gold-500/10 to-gold-600/5 backdrop-blur-sm rounded-xl p-4 border border-gold-400/20",children:[e.jsxs("p",{className:"text-gold-300 text-sm mb-1 flex items-center gap-1",children:[e.jsx("span",{children:""})," "]}),e.jsx("p",{className:"text-white font-bold text-2xl",children:l.items.length}),e.jsx("p",{className:"text-gray-500 text-xs",children:""})]})]}),l.note&&e.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-indigo-500/10 to-purple-500/10 border border-indigo-400/20 rounded-xl",children:[e.jsx("p",{className:"text-indigo-300 text-xs mb-1",children:""}),e.jsx("p",{className:"text-gray-300 text-sm",children:l.note})]}),l.status===1&&e.jsxs("div",{className:"mt-4 flex gap-3",children:[e.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:shadow-lg hover:shadow-red-500/50 transition-all font-medium",children:""}),e.jsx("button",{onClick:()=>n(`/admin/members/${l.memberId}`),className:"px-4 py-2 bg-gradient-to-r from-info to-info/80 text-white rounded-lg hover:shadow-lg hover:shadow-info/50 transition-all font-medium",children:""})]})]})]}),e.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsxs("h2",{className:"text-xl font-bold text-gold-400 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:""})," (",l.items.length," )"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:l.items.map((B,D)=>{const C=E(B,l.status),R=B.price*B.multiply;return e.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+D*.02},className:"bg-gradient-to-br from-admin-card via-admin-darker to-admin-card backdrop-blur-xl rounded-xl border border-gold-500/20 overflow-hidden hover:border-gold-400/40 transition-all shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gold-500/20 bg-black/20",children:[e.jsx("span",{className:"text-xs font-medium text-gray-400",children:T(B.betType)}),e.jsx("span",{className:`px-2 py-0.5 rounded-lg border text-xs font-semibold ${C.style}`,children:C.label})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:""}),e.jsx("p",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-gold-300 via-gold-400 to-gold-500",children:B.numberBet})]}),e.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-transparent via-gold-500/30 to-transparent"}),e.jsxs("div",{className:"flex-1 text-right",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:""}),e.jsxs("p",{className:`text-4xl font-bold ${B.winAmount>0?"text-success":B.winAmount<0?"text-error":"text-white"}`,children:[B.winAmount>0?"+":"",B.winAmount.toFixed(0)]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-3 border-t border-gold-500/20",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:""}),e.jsx("p",{className:"text-white font-bold text-sm",children:B.price.toFixed(0)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:""}),e.jsxs("p",{className:"text-info font-bold text-sm",children:["x",B.multiply]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:""}),e.jsx("p",{className:`font-bold text-sm ${B.isWin?"text-success":"text-white"}`,children:R.toFixed(0)})]})]})]})]},B.id)})})]})]})}),e.jsx(X2,{children:f&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!N&&x(!1),className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),e.jsxs(st.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-gradient-to-br from-admin-card via-admin-darker to-admin-card rounded-2xl border border-red-500/50 shadow-2xl shadow-red-500/20 max-w-md w-full overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-red-500 to-red-600 py-4 px-6 border-b border-red-400/30 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx(zr,{className:"text-2xl"}),e.jsx("span",{className:"text-lg font-bold",children:""})]}),e.jsx("button",{onClick:()=>!N&&x(!1),disabled:N,className:"p-1.5 hover:bg-white/20 rounded-lg transition-all disabled:opacity-50",children:e.jsx(We,{className:"text-2xl text-white"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl",children:e.jsxs("p",{className:"text-red-300 text-sm text-center",children:[" ",e.jsx("br",{}),""]})}),e.jsx("div",{className:"mb-4 p-4 bg-admin-darker rounded-xl border border-gold-500/20",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:":"}),e.jsx("span",{className:"text-gold-400 font-bold",children:l?.poyNumber})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:":"}),e.jsxs("span",{className:"text-white font-bold",children:[l?.totalPrice.toFixed(2)," "]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:":"}),e.jsxs("span",{className:"text-info font-bold",children:[l?.items.length," "]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-gold-400 font-medium",children:[" ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("textarea",{value:p,onChange:B=>g(B.target.value),placeholder:" ( 5 )...",disabled:N,rows:4,autoFocus:!0,className:"w-full px-4 py-3 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500/50 focus:border-red-500 disabled:opacity-50 resize-none transition-all"}),e.jsxs("p",{className:"text-gray-400 text-xs flex items-center justify-between",children:[e.jsx("span",{children:" 5 "}),e.jsxs("span",{className:p.length>=5?"text-success":"text-gray-500",children:[p.length,"/5"]})]})]})]}),e.jsxs("div",{className:"px-6 pb-6 flex gap-3",children:[e.jsx("button",{onClick:()=>x(!1),disabled:N,className:"flex-1 px-4 py-3 bg-admin-darker border border-gray-500/30 text-gray-300 rounded-xl hover:bg-admin-dark transition-all font-medium disabled:opacity-50",children:""}),e.jsx("button",{onClick:L,disabled:N||p.trim().length<5,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:shadow-lg hover:shadow-red-500/50 transition-all font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:N?"...":""})]})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-admin-dark via-admin-darker to-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-xl text-white mb-2",children:""}),e.jsx("button",{onClick:()=>n(-1),className:"px-6 py-2 bg-gradient-to-r from-gold-500 to-gold-600 text-brown-900 font-bold rounded-lg hover:shadow-lg hover:shadow-gold-500/50 transition-all",children:""})]})})},nA=()=>{const[s,n]=j.useState([]),[l,i]=j.useState(!1),[c,u]=j.useState(0),[d,h]=j.useState(1),[f]=j.useState(20),[x,p]=j.useState(""),[g,N]=j.useState("ALL"),[w,v]=j.useState(""),[y,T]=j.useState(""),[A,E]=j.useState({totalIn:0,totalOut:0,countIn:0,countOut:0});j.useEffect(()=>{S()},[d,g]);const S=async()=>{i(!0);try{const R={limit:f,offset:(d-1)*f};x&&(R.search=x),g!=="ALL"&&(R.type=g),w&&(R.startDate=w),y&&(R.endDate=y);const $=await _t.getTransferLogs(R);n($.logs||[]),u($.total||0),M($.logs||[])}catch(R){U.error(R.response?.data?.message||"")}finally{i(!1)}},M=R=>{const $=R.filter(P=>P.type==="IN"),q=R.filter(P=>P.type==="OUT");E({totalIn:$.reduce((P,V)=>P+V.amount,0),totalOut:q.reduce((P,V)=>P+V.amount,0),countIn:$.length,countOut:q.length})},L=R=>{R.preventDefault(),h(1),S()},B=()=>{p(""),N("ALL"),v(""),T(""),h(1),setTimeout(S,100)},D=R=>new Date(R).toLocaleString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),C=R=>R.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2});return e.jsxs("div",{className:"p-6 max-w-[1800px] mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-info/20 to-info/10 rounded-lg flex items-center justify-center",children:e.jsx(dt,{className:"w-5 h-5 text-info"})}),""]}),e.jsx("p",{className:"text-brown-300 text-sm ml-13",children:"-"})]}),e.jsxs("button",{onClick:S,disabled:l,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-info to-info/80 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 font-semibold",children:[e.jsx(dt,{className:l?"animate-spin":""}),""]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm",children:""}),e.jsx("p",{className:"text-2xl font-bold text-success",children:A.countIn}),e.jsxs("p",{className:"text-sm text-gold-500 mt-1 font-semibold",children:["",C(A.totalIn)]})]}),e.jsx("div",{className:"p-3 bg-success/20 rounded-full",children:e.jsx(Fr,{className:"text-success text-2xl"})})]})}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm",children:""}),e.jsx("p",{className:"text-2xl font-bold text-warning",children:A.countOut}),e.jsxs("p",{className:"text-sm text-gold-500 mt-1 font-semibold",children:["",C(A.totalOut)]})]}),e.jsx("div",{className:"p-3 bg-warning/20 rounded-full",children:e.jsx(Xa,{className:"text-warning text-2xl"})})]})}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg p-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm",children:""}),e.jsx("p",{className:"text-2xl font-bold text-info",children:c}),e.jsx("p",{className:"text-sm text-brown-400 mt-1",children:""})]})}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg p-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm",children:" (IN - OUT)"}),e.jsxs("p",{className:`text-2xl font-bold ${A.totalIn-A.totalOut>=0?"text-success":"text-error"}`,children:["",C(A.totalIn-A.totalOut)]}),e.jsx("p",{className:"text-sm text-brown-400 mt-1",children:""})]})})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg p-6 mb-6",children:e.jsx("form",{onSubmit:L,className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:""}),e.jsx("input",{type:"text",value:x,onChange:R=>p(R.target.value),placeholder:", ",className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:""}),e.jsxs("select",{value:g,onChange:R=>N(R.target.value),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"ALL",children:""}),e.jsx("option",{value:"IN",children:""}),e.jsx("option",{value:"OUT",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:""}),e.jsx("input",{type:"date",value:w,onChange:R=>v(R.target.value),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:""}),e.jsx("input",{type:"date",value:y,onChange:R=>T(R.target.value),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-info to-info/80 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:[e.jsx(Ja,{}),""]}),e.jsx("button",{type:"button",onClick:B,className:"px-4 py-2.5 bg-admin-hover text-brown-200 rounded-lg hover:bg-admin-border transition-all font-semibold",children:""})]})]})})}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-gradient-to-r from-admin-bg to-admin-bg/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:"/"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsx("div",{className:"spinner"}),e.jsx("span",{className:"text-brown-400",children:"..."})]})})}):s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-brown-400",children:""})}):s.map(R=>e.jsxs("tr",{className:"hover:bg-admin-hover/50 transition-all",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-200",children:D(R.createdAt)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-brown-100",children:R.memberName}),e.jsx("div",{className:"text-sm text-brown-400",children:R.memberPhone})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:R.type==="IN"?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-semibold bg-success/20 text-success border border-success/30",children:[e.jsx(Fr,{}),""]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-semibold bg-warning/20 text-warning border border-warning/30",children:[e.jsx(Xa,{}),""]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-gold-500",children:["",C(R.amount)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-brown-300",children:["",C(R.beforeBalance)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-brown-300",children:["",C(R.afterBalance)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs font-semibold rounded-lg border ${R.status==="COMPLETED"?"bg-success/20 text-success border-success/30":R.status==="FAILED"?"bg-error/20 text-error border-error/30":"bg-warning/20 text-warning border-warning/30"}`,children:R.status==="COMPLETED"?"":R.status==="FAILED"?"":R.status})}),e.jsx("td",{className:"px-6 py-4 text-sm text-brown-400",children:R.remark||"-"})]},R.id))})]})}),!l&&c>0&&e.jsxs("div",{className:"bg-admin-bg/50 px-6 py-4 flex items-center justify-between border-t border-admin-border",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>h(d-1),disabled:d===1,className:"relative inline-flex items-center px-4 py-2 border border-admin-border text-sm font-medium rounded-lg text-brown-200 hover:bg-admin-hover disabled:opacity-50 transition-all",children:""}),e.jsx("button",{onClick:()=>h(d+1),disabled:d*f>=c,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-admin-border text-sm font-medium rounded-lg text-brown-200 hover:bg-admin-hover disabled:opacity-50 transition-all",children:""})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-brown-300",children:[" ",e.jsx("span",{className:"font-semibold text-brown-100",children:(d-1)*f+1})," "," ",e.jsx("span",{className:"font-semibold text-brown-100",children:Math.min(d*f,c)})," "," ",e.jsx("span",{className:"font-semibold text-brown-100",children:c})," "]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>h(d-1),disabled:d===1,className:"relative inline-flex items-center px-4 py-2 rounded-l-lg border border-admin-border text-sm font-medium text-brown-200 hover:bg-admin-hover disabled:opacity-50 transition-all",children:""}),e.jsx("button",{onClick:()=>h(d+1),disabled:d*f>=c,className:"relative inline-flex items-center px-4 py-2 rounded-r-lg border border-admin-border text-sm font-medium text-brown-200 hover:bg-admin-hover disabled:opacity-50 transition-all",children:""})]})})]})]})]})]})},rA=()=>{const[s,n]=j.useState([]),[l,i]=j.useState(!1),[c,u]=j.useState(0),[d,h]=j.useState(1),[f]=j.useState(20),[x,p]=j.useState(""),[g,N]=j.useState(""),[w,v]=j.useState(""),[y,T]=j.useState("PROBLEM"),[A,E]=j.useState(null),[S,M]=j.useState(!1),[L,B]=j.useState(!1),[D,C]=j.useState(""),[R,$]=j.useState(""),[q,P]=j.useState(""),[V,K]=j.useState({totalProblem:0,totalMissingAmount:0,totalTransfers:0});j.useEffect(()=>{W()},[d]);const W=async()=>{i(!0);try{const I={limit:f,offset:(d-1)*f};x&&(I.search=x),g&&(I.startDate=g),w&&(I.endDate=w);const ae=await _t.getPendingTransfers(I);let de=ae.transfers||[];y==="PROBLEM"?de=de.filter(fe=>fe.isProblem):y==="OK"&&(de=de.filter(fe=>!fe.isProblem)),n(de),u(ae.total||0);const he=(ae.transfers||[]).filter(fe=>fe.isProblem),be=he.reduce((fe,Ae)=>fe+Math.abs(Ae.missingAmount),0);K({totalProblem:he.length,totalMissingAmount:be,totalTransfers:ae.transfers?.length||0})}catch(I){U.error(I.response?.data?.message||"")}finally{i(!1)}},z=I=>{I.preventDefault(),h(1),W()},H=()=>{p(""),N(""),v(""),T("PROBLEM"),h(1),setTimeout(W,100)},F=async()=>{if(A)try{await _t.reconcileTransfer(A.id,D),U.success(""),M(!1),C(""),W()}catch(I){U.error(I.response?.data?.message||"")}},le=async()=>{if(!A||!R||!q){U.error("");return}const I=parseFloat(R);if(isNaN(I)||I<=0){U.error("");return}try{await _t.refundTransfer(A.id,I,q),U.success(` ${_(I)}  `),B(!1),$(""),P(""),W()}catch(ae){U.error(ae.response?.data?.message||"")}},oe=I=>new Date(I).toLocaleString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),_=I=>I.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 flex items-center gap-3",children:[e.jsx(zr,{})," - "]}),e.jsx("p",{className:"text-brown-400 mt-1",children:"-"})]}),e.jsxs("button",{onClick:W,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 disabled:opacity-50 transition-colors font-medium",children:[e.jsx(dt,{className:l?"animate-spin":""}),""]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-error/20 to-error/30 border border-error/40 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm font-medium mb-1",children:""}),e.jsx("p",{className:"text-4xl font-bold text-error",children:V.totalProblem}),e.jsxs("p",{className:"text-brown-400 text-sm mt-2",children:[" ",V.totalTransfers," "]})]}),e.jsx(zr,{className:"text-5xl text-error/30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-warning/20 to-warning/30 border border-warning/40 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm font-medium mb-1",children:""}),e.jsxs("p",{className:"text-4xl font-bold text-warning",children:["",_(V.totalMissingAmount)]}),e.jsx("p",{className:"text-brown-400 text-sm mt-2",children:""})]}),e.jsx(ze,{className:"text-5xl text-warning/30"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-gold-500/20 to-gold-600/20 border border-gold-500/30 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm font-medium mb-1",children:""}),e.jsx("p",{className:"text-4xl font-bold text-gold-500",children:c}),e.jsx("p",{className:"text-brown-400 text-sm mt-2",children:"Transaction "})]}),e.jsx(Qe,{className:"text-5xl text-gold-500/30"})]})})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg p-6",children:e.jsx("form",{onSubmit:z,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-brown-400"}),e.jsx("input",{type:"text",value:x,onChange:I=>p(I.target.value),placeholder:", ",className:"w-full pl-10 pr-3 py-2.5 bg-admin-bg border border-admin-border text-brown-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold-500 placeholder-brown-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-brown-400"}),e.jsxs("select",{value:y,onChange:I=>T(I.target.value),className:"w-full pl-10 pr-3 py-2.5 bg-admin-bg border border-admin-border text-brown-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold-500 appearance-none",children:[e.jsx("option",{value:"PROBLEM",children:""}),e.jsx("option",{value:"OK",children:""}),e.jsx("option",{value:"ALL",children:""})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("input",{type:"date",value:g,onChange:I=>N(I.target.value),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border text-brown-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("input",{type:"date",value:w,onChange:I=>v(I.target.value),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border text-brown-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 transition-colors font-medium",children:[e.jsx(Ja,{}),""]}),e.jsx("button",{type:"button",onClick:H,className:"px-4 py-2.5 bg-admin-hover text-brown-300 rounded-lg hover:bg-admin-card transition-colors font-medium",children:""})]})]})})}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:[l?e.jsxs("div",{className:"flex justify-center items-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"}),e.jsx("span",{className:"ml-4 text-brown-300 font-medium",children:"..."})]}):s.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Fe,{className:"mx-auto text-6xl text-success mb-4"}),e.jsx("p",{className:"text-brown-400 text-lg",children:""})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-hover",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gold-500 uppercase tracking-wider",children:"/"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gold-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gold-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:s.map(I=>e.jsxs("tr",{className:`hover:bg-admin-hover transition-colors ${I.isProblem?"bg-error/5":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-200",children:oe(I.createdAt)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-brown-200",children:I.memberName}),e.jsx("div",{className:"text-sm text-brown-400",children:I.memberPhone})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:I.type==="TRANSFER_IN"?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold bg-blue-500/20 text-blue-400 border border-blue-500/30",children:[e.jsx(Pt,{}),""]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold bg-success/20 text-success border border-success/30",children:[e.jsx(Mt,{}),""]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-brown-200",children:["",_(I.amount)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-brown-300",children:["",_(I.balanceBefore)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-blue-400",children:["",_(I.balanceAfter)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-brown-200",children:["",_(I.currentBalance)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:I.isProblem?e.jsxs("span",{className:"font-bold text-error text-base",children:["-",_(Math.abs(I.missingAmount))]}):e.jsx("span",{className:"text-success font-medium",children:""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>{E(I),M(!0)},className:"px-3 py-1.5 bg-gold-500 text-brown-900 text-xs font-medium rounded-lg hover:bg-gold-600 transition-colors",children:""}),I.isProblem&&e.jsx("button",{onClick:()=>{E(I),$(Math.abs(I.missingAmount).toString()),B(!0)},className:"px-3 py-1.5 bg-success text-white text-xs font-medium rounded-lg hover:bg-success/80 transition-colors",children:""})]})})]},I.id))})]})}),!l&&c>0&&e.jsxs("div",{className:"bg-admin-hover px-6 py-4 flex items-center justify-between border-t border-admin-border",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-brown-300",children:[" ",e.jsx("span",{className:"font-medium text-gold-500",children:(d-1)*f+1})," "," ",e.jsx("span",{className:"font-medium text-gold-500",children:Math.min(d*f,c)})," "," ",e.jsx("span",{className:"font-medium text-gold-500",children:c})," "]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(d-1),disabled:d===1,className:"px-4 py-2 border border-admin-border text-sm font-medium rounded-lg text-brown-300 bg-admin-card hover:bg-admin-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""}),e.jsx("button",{onClick:()=>h(d+1),disabled:d*f>=c,className:"px-4 py-2 border border-admin-border text-sm font-medium rounded-lg text-brown-300 bg-admin-card hover:bg-admin-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]})]}),S&&A&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("h3",{className:"text-xl font-display font-bold text-gold-500 mb-4 flex items-center gap-2",children:[e.jsx(Fe,{}),""]}),e.jsxs("div",{className:"mb-4 p-4 bg-gold-500/10 border border-gold-500/30 rounded-lg",children:[e.jsx("p",{className:"text-sm text-brown-400",children:""}),e.jsx("p",{className:"font-medium text-brown-200",children:A.memberName}),e.jsx("p",{className:"text-sm text-brown-400",children:A.memberPhone})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("textarea",{value:D,onChange:I=>C(I.target.value),rows:3,placeholder:"...",className:"w-full px-3 py-2 bg-admin-bg border border-admin-border text-brown-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold-500 placeholder-brown-500"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{M(!1),C("")},className:"flex-1 px-4 py-2 border border-admin-border text-brown-300 rounded-lg hover:bg-admin-hover font-medium transition-colors",children:""}),e.jsx("button",{onClick:F,className:"flex-1 px-4 py-2 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 font-medium transition-colors",children:""})]})]})}),L&&A&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("h3",{className:"text-xl font-display font-bold text-gold-500 mb-4 flex items-center gap-2",children:[e.jsx(ze,{}),""]}),e.jsxs("div",{className:"mb-4 p-4 bg-error/10 border border-error/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(zr,{className:"text-error"}),e.jsx("p",{className:"font-semibold text-error",children:""})]}),e.jsxs("p",{className:"text-sm text-brown-300",children:[": ",A.memberName]}),e.jsxs("p",{className:"text-sm text-brown-300",children:[": ",A.memberPhone]}),e.jsxs("p",{className:"text-2xl font-bold text-error mt-2",children:["",_(Math.abs(A.missingAmount))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("input",{type:"number",value:R,onChange:I=>$(I.target.value),step:"0.01",placeholder:"0.00",className:"w-full px-3 py-2 bg-admin-bg border border-admin-border text-brown-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-success placeholder-brown-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:" *"}),e.jsx("textarea",{value:q,onChange:I=>P(I.target.value),rows:3,placeholder:"...",className:"w-full px-3 py-2 bg-admin-bg border border-admin-border text-brown-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-success placeholder-brown-500"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{B(!1),$(""),P("")},className:"flex-1 px-4 py-2 border border-admin-border text-brown-300 rounded-lg hover:bg-admin-hover font-medium transition-colors",children:""}),e.jsx("button",{onClick:le,className:"flex-1 px-4 py-2 bg-success text-white rounded-lg hover:bg-success/80 font-medium transition-colors",children:""})]})]})})]})};function lA(){const{admin:s}=xi(),[n,l]=j.useState([]),[i,c]=j.useState(!1),[u,d]=j.useState(!1),[h,f]=j.useState(!1),[x,p]=j.useState(null),[g,N]=j.useState(null),[w,v]=j.useState(""),[y,T]=j.useState({username:"",password:"",fullname:"",role:"SUPPORT"});j.useEffect(()=>{A()},[]);const A=async()=>{try{c(!0);const P=await Er.getAllStaff({limit:100,offset:0});l(P.staff||[])}catch{U.error("")}finally{c(!1)}},E=P=>{P?(p(P),T({username:P.username,fullname:P.fullname,role:P.role})):(p(null),T({username:"",password:"",fullname:"",role:"SUPPORT"})),d(!0)},S=()=>{d(!1),p(null)},M=async P=>{P.preventDefault();try{if(x)await Er.updateStaff(x.id,y),U.success("");else{if(!y.password){U.error("");return}await Er.createStaff(y),U.success("")}S(),A()}catch{U.error("")}},L=async(P,V)=>{try{await Er.updateStaffStatus(P,{isActive:!V}),U.success(""),A()}catch{U.error("")}},B=P=>{N(P),v(""),f(!0)},D=async P=>{if(P.preventDefault(),!g||!w){U.error("");return}try{await Er.resetPassword(g,{newPassword:w}),U.success(""),f(!1),N(null),v("")}catch{U.error("")}},C=async P=>{if(confirm("?"))try{await Er.deleteStaff(P),U.success(""),A()}catch{U.error("")}},R=P=>({SUPER_ADMIN:"Super Admin",ADMIN:"Admin",SUPPORT:"Support"})[P]||P,$=P=>({SUPER_ADMIN:"bg-red-500/20 text-red-400 border border-red-500/30",ADMIN:"bg-gold-500/20 text-gold-400 border border-gold-500/30",SUPPORT:"bg-purple-500/20 text-purple-400 border border-purple-500/30"})[P]||"bg-brown-700 text-brown-300 border border-brown-600";return s?.role==="SUPER_ADMIN"?e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gold-500",children:""}),e.jsxs("button",{onClick:()=>E(),className:"bg-gold-500 hover:bg-gold-600 text-admin-dark px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[e.jsx(Sc,{}),""]})]}),e.jsx("div",{className:"bg-admin-card border border-brown-700 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-brown-700",children:[e.jsx("thead",{className:"bg-admin-dark",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gold-400 uppercase",children:"Username"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gold-400 uppercase",children:"-"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gold-400 uppercase",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gold-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gold-400 uppercase",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gold-400 uppercase",children:"Last IP"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gold-400 uppercase",children:""})]})}),e.jsx("tbody",{className:"bg-admin-card divide-y divide-brown-700",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-brown-300",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"spinner"})})})}):n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-brown-300",children:""})}):n.map(P=>e.jsxs("tr",{className:"hover:bg-admin-dark/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gold-400",children:P.username}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-100",children:P.fullname}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${$(P.role)}`,children:R(P.role)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>L(P.id,P.isActive),disabled:P.id===s?.id,className:`flex items-center gap-2 ${P.id===s?.id?"opacity-50 cursor-not-allowed":""}`,children:P.isActive?e.jsxs(e.Fragment,{children:[e.jsx(Sv,{className:"text-green-400 text-2xl"}),e.jsx("span",{className:"text-sm text-green-400",children:""})]}):e.jsxs(e.Fragment,{children:[e.jsx(wv,{className:"text-brown-500 text-2xl"}),e.jsx("span",{className:"text-sm text-brown-400",children:""})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-300",children:P.lastLogin?new Date(P.lastLogin).toLocaleString("th-TH"):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-300",children:P.lastIp||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>E(P),disabled:P.id===s?.id,className:`text-gold-400 hover:text-gold-300 transition-colors ${P.id===s?.id?"opacity-50 cursor-not-allowed":""}`,title:"",children:e.jsx(qc,{className:"text-lg"})}),e.jsx("button",{onClick:()=>B(P.id),className:"text-yellow-400 hover:text-yellow-300 transition-colors",title:"",children:e.jsx(Ai,{className:"text-lg"})}),e.jsx("button",{onClick:()=>C(P.id),disabled:P.id===s?.id,className:`text-red-400 hover:text-red-300 transition-colors ${P.id===s?.id?"opacity-50 cursor-not-allowed":""}`,title:"",children:e.jsx(Fn,{className:"text-lg"})})]})})]},P.id))})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-admin-card border border-brown-700 rounded-lg p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-bold text-gold-500 mb-4",children:x?"":""}),e.jsxs("form",{onSubmit:M,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:"Username"}),e.jsx("input",{type:"text",value:y.username,onChange:P=>T({...y,username:P.target.value}),disabled:!!x,className:"input disabled:opacity-50",required:!0})]}),!x&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:"Password"}),e.jsx("input",{type:"password",value:y.password,onChange:P=>T({...y,password:P.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:"-"}),e.jsx("input",{type:"text",value:y.fullname,onChange:P=>T({...y,fullname:P.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:"Role"}),e.jsxs("select",{value:y.role,onChange:P=>T({...y,role:P.target.value}),className:"input",children:[e.jsx("option",{value:"SUPER_ADMIN",children:"Super Admin"}),e.jsx("option",{value:"ADMIN",children:"Admin"}),e.jsx("option",{value:"SUPPORT",children:"Support"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-brown-100 bg-admin-dark border border-brown-700 rounded-lg hover:bg-brown-800 transition-colors",children:""}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-admin-dark bg-gold-500 rounded-lg hover:bg-gold-600 transition-colors",children:x?"":""})]})]})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-admin-card border border-brown-700 rounded-lg p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-bold text-gold-500 mb-4",children:""}),e.jsxs("form",{onSubmit:D,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:""}),e.jsx("input",{type:"password",value:w,onChange:P=>v(P.target.value),className:"input",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-brown-100 bg-admin-dark border border-brown-700 rounded-lg hover:bg-brown-800 transition-colors",children:""}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-admin-dark bg-yellow-500 rounded-lg hover:bg-yellow-600 transition-colors",children:""})]})]})]})})]}):e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-admin-card border border-brown-700 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-red-400 mb-2",children:""}),e.jsx("p",{className:"text-brown-300",children:" Super Admin "})]})})}const iA=()=>{const[s,n]=j.useState(null),[l,i]=j.useState(!1),[c,u]=j.useState(()=>{const w=new Date;return w.setDate(w.getDate()-30),w.toISOString().split("T")[0]}),[d,h]=j.useState(()=>new Date().toISOString().split("T")[0]),f=async()=>{try{i(!0);const w=await Bn.getBankSCBReport({startDate:c,endDate:d});n(w)}catch(w){U.error(""),console.error("Error fetching SCB bank report:",w)}finally{i(!1)}};j.useEffect(()=>{f()},[]);const x=()=>{if(!c||!d){U.error("");return}if(new Date(c)>new Date(d)){U.error("");return}f()},p=w=>new Intl.NumberFormat("th-TH",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(w),g=w=>new Date(w).toLocaleString("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),N=({title:w,value:v,icon:y,colorClass:T,bgClass:A,subValue:E})=>e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6 hover:border-gold-500/50 transition-all",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-brown-400 mb-2",children:w}),e.jsx("p",{className:`text-2xl font-bold ${T}`,children:v}),E&&e.jsx("p",{className:"text-xs text-brown-500 mt-2",children:E})]}),e.jsx("div",{className:`p-3 rounded-lg ${A}`,children:e.jsx(y,{className:`w-6 h-6 ${T}`})})]})});return l&&!s?e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-admin-bg",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"})}):e.jsxs("div",{className:"min-h-screen bg-admin-bg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-brown-100 flex items-center gap-3",children:[e.jsx(q6,{className:"text-gold-500"})," SCB"]}),e.jsx("p",{className:"text-brown-400 mt-1",children:"-"})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(zx,{className:"text-gold-500"}),e.jsx("h2",{className:"text-lg font-semibold text-brown-100",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("input",{type:"date",value:c,onChange:w=>u(w.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("input",{type:"date",value:d,onChange:w=>h(w.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:x,disabled:l,className:"w-full px-6 py-2.5 bg-gradient-to-r from-gold-500 to-gold-600 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 font-semibold",children:[e.jsx(Ci,{className:"w-4 h-4"}),e.jsx("span",{children:""})]})})]})]}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[e.jsx(N,{title:" (Credit)",value:`${p(s.stats.totalIn)}`,icon:R6,colorClass:"text-success",bgClass:"bg-success/20"}),e.jsx(N,{title:" (Debit)",value:`${p(s.stats.totalOut)}`,icon:L6,colorClass:"text-error",bgClass:"bg-error/20"}),e.jsx(N,{title:"",value:s.stats.currentBalance!==null?`${p(s.stats.currentBalance)}`:"N/A",icon:W6,colorClass:"text-info",bgClass:"bg-info/20",subValue:`: ${p(s.stats.netBalance)}`})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsx(N,{title:" (Matched)",value:`${s.stats.totalMatched} `,icon:ma,colorClass:"text-success",bgClass:"bg-success/20"}),e.jsx(N,{title:" (Unmatched)",value:`${s.stats.totalUnmatch} `,icon:hi,colorClass:"text-warning",bgClass:"bg-warning/20"})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-admin-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kg,{className:"text-gold-500"}),e.jsx("h2",{className:"text-lg font-semibold text-brown-100",children:""})]}),e.jsxs("p",{className:"text-sm text-brown-400 mt-1",children:[" ",s.transactions.length," "]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-admin-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:"-"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:s.transactions.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[e.jsx(kg,{className:"text-5xl text-brown-600 mx-auto mb-3"}),e.jsx("p",{className:"text-brown-400",children:""})]})}):s.transactions.map(w=>e.jsxs("tr",{className:"hover:bg-admin-hover transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-200",children:g(w.transactionDate)}),e.jsxs("td",{className:"px-6 py-4 text-sm text-brown-200",children:[e.jsx("div",{className:"font-medium",children:w.fromName||"-"}),e.jsx("div",{className:"text-xs text-brown-400",children:w.fromBank&&w.fromAccount?`${w.fromBank} ${w.fromAccount}`:"-"})]}),e.jsxs("td",{className:"px-6 py-4 text-sm text-brown-200",children:[e.jsx("div",{className:"font-medium",children:w.toName||"-"}),e.jsx("div",{className:"text-xs text-brown-400",children:w.toAccount||"-"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:e.jsxs("span",{className:`font-semibold ${w.amount>0?"text-success":"text-error"}`,children:[w.amount>0?"+":"","",p(Math.abs(w.amount))]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-brown-200",children:w.balanceAfter!==null?`${p(w.balanceAfter)}`:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:w.matched?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-success/20 text-success",children:[e.jsx(ma,{className:"w-3 h-3 mr-1"}),""]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-warning/20 text-warning",children:[e.jsx(hi,{className:"w-3 h-3 mr-1"}),""]})})]},w.id))})]})})]})]})]})},oA=()=>{const[s,n]=j.useState(null),[l,i]=j.useState(!1),[c,u]=j.useState(()=>{const y=new Date;return y.setDate(y.getDate()-30),y.toISOString().split("T")[0]}),[d,h]=j.useState(()=>new Date().toISOString().split("T")[0]),[f,x]=j.useState(""),p=async()=>{try{i(!0);const y={startDate:c,endDate:d};f&&(y.action=f);const T=await Bn.getPincodeReport(y);n(T)}catch(y){U.error(""),console.error("Error fetching pincode report:",y)}finally{i(!1)}};j.useEffect(()=>{p()},[]);const g=()=>{if(!c||!d){U.error("");return}if(new Date(c)>new Date(d)){U.error("");return}p()},N=y=>new Date(y).toLocaleString("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=y=>{switch(y.toLowerCase()){case"request":case"created":return"bg-info/20 text-info";case"verify":case"verified":return"bg-success/20 text-success";case"expired":return"bg-error/20 text-error";case"failed":return"bg-warning/20 text-warning";default:return"bg-brown-500/20 text-brown-400"}},v=({title:y,value:T,icon:A,colorClass:E,bgClass:S})=>e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6 hover:border-gold-500/50 transition-all",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-brown-400 mb-2",children:y}),e.jsx("p",{className:`text-2xl font-bold ${E}`,children:T})]}),e.jsx("div",{className:`p-3 rounded-lg ${S}`,children:e.jsx(A,{className:`w-6 h-6 ${E}`})})]})});return l&&!s?e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-admin-bg",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"})}):e.jsxs("div",{className:"min-h-screen bg-admin-bg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-brown-100 flex items-center gap-3",children:[e.jsx(Ag,{className:"text-gold-500"})," Pincode"]}),e.jsx("p",{className:"text-brown-400 mt-1",children:" Pincode  Admin"})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(mv,{className:"text-gold-500"}),e.jsx("h2",{className:"text-lg font-semibold text-brown-100",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:[e.jsx(zx,{className:"inline w-4 h-4 mr-1"}),""]}),e.jsx("input",{type:"date",value:c,onChange:y=>u(y.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:[e.jsx(zx,{className:"inline w-4 h-4 mr-1"}),""]}),e.jsx("input",{type:"date",value:d,onChange:y=>h(y.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:"Action"}),e.jsxs("select",{value:f,onChange:y=>x(y.target.value),className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"request",children:"Request"}),e.jsx("option",{value:"verify",children:"Verify"}),e.jsx("option",{value:"expired",children:"Expired"}),e.jsx("option",{value:"failed",children:"Failed"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:g,disabled:l,className:"w-full px-6 py-2.5 bg-gradient-to-r from-gold-500 to-gold-600 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 font-semibold",children:[e.jsx(Ci,{className:"w-4 h-4"}),e.jsx("span",{children:""})]})})]})]}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(v,{title:"",value:`${s.stats.totalLogs}`,icon:U6,colorClass:"text-info",bgClass:"bg-info/20"}),e.jsx(v,{title:" (Success)",value:`${s.stats.successCount}`,icon:ma,colorClass:"text-success",bgClass:"bg-success/20"}),e.jsx(v,{title:" (Failed)",value:`${s.stats.failCount}`,icon:hi,colorClass:"text-error",bgClass:"bg-error/20"}),e.jsx(v,{title:"Admin ",value:`${s.stats.uniqueAdmins}`,icon:Y6,colorClass:"text-warning",bgClass:"bg-warning/20"})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-admin-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ur,{className:"text-gold-500"}),e.jsx("h2",{className:"text-lg font-semibold text-brown-100",children:" Pincode Log"})]}),e.jsxs("p",{className:"text-sm text-brown-400 mt-1",children:[" ",s.total," "]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-admin-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:"-"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:"Admin"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:s.logs.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[e.jsx(Ag,{className:"text-5xl text-brown-600 mx-auto mb-3"}),e.jsx("p",{className:"text-brown-400",children:" Pincode Log"})]})}):s.logs.map(y=>e.jsxs("tr",{className:"hover:bg-admin-hover transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-200",children:N(y.createdAt)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${w(y.action)}`,children:y.action})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-brown-200",children:[e.jsx("div",{className:"font-medium",children:y.username||"-"}),y.createdBy&&e.jsxs("div",{className:"text-xs text-brown-400",children:[": ",y.createdBy]})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-brown-200",children:y.msg||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:y.status===null?e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-brown-500/20 text-brown-400",children:"-"}):y.status?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-success/20 text-success",children:[e.jsx(ma,{className:"w-3 h-3 mr-1"}),""]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-error/20 text-error",children:[e.jsx(hi,{className:"w-3 h-3 mr-1"}),""]})})]},y.id))})]})})]})]})]})},cA=()=>{const[s,n]=j.useState(null),[l,i]=j.useState([]),[c,u]=j.useState(!1),[d,h]=j.useState(()=>{const R=new Date;return R.setDate(R.getDate()-30),R.toISOString().split("T")[0]}),[f,x]=j.useState(()=>new Date().toISOString().split("T")[0]),[p,g]=j.useState(new Date),[N,w]=j.useState(!0),v=async()=>{try{u(!0);const R=await Bn.getProfitSummary({startDate:d,endDate:f});n(R)}catch(R){U.error(""),console.error("Error fetching profit summary:",R)}finally{u(!1)}},y=async()=>{try{const R=p.getFullYear(),$=p.getMonth()+1,q=await Bn.getDailyProfitReport({year:R,month:$});i(q||[])}catch(R){console.error("Error fetching daily data:",R),i([])}};j.useEffect(()=>{v()},[]),j.useEffect(()=>{N&&y()},[p,N]);const T=()=>{if(!d||!f){U.error("");return}if(new Date(d)>new Date(f)){U.error("");return}v()},A=async()=>{try{U.loading(" Excel...");const R=await J.get("/reports/profit/export",{params:{startDate:d,endDate:f},responseType:"blob"}),$=window.URL.createObjectURL(new Blob([R.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),q=document.createElement("a");q.href=$,q.setAttribute("download",`profit_report_${d}_${f}.xlsx`),document.body.appendChild(q),q.click(),q.remove(),window.URL.revokeObjectURL($),U.dismiss(),U.success(" Excel ")}catch(R){U.dismiss(),U.error(""),console.error("Export error:",R)}},E=R=>new Intl.NumberFormat("th-TH",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(R),S=R=>R>=1e6?`${(R/1e6).toFixed(1)}M`:R>=1e3?`${(R/1e3).toFixed(0)}K`:R.toFixed(0),M=R=>{const $=R.getFullYear(),q=R.getMonth(),P=new Date($,q,1),K=new Date($,q+1,0).getDate(),W=P.getDay();return{daysInMonth:K,startingDayOfWeek:W,year:$,month:q}},L=R=>{const $=R.toISOString().split("T")[0];return l.find(q=>q.date===$)||null},B=R=>{g($=>{const q=new Date($);return R==="prev"?q.setMonth(q.getMonth()-1):q.setMonth(q.getMonth()+1),q})},D=R=>`${["","","","","","","","","","","",""][R.getMonth()]} ${R.getFullYear()+543}`,C=({title:R,value:$,icon:q,color:P,subValue:V})=>e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 hover:border-gold-500/50 hover:shadow-[0_0_30px_rgba(234,179,8,0.2)] transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-brown-400 mb-1",children:R}),e.jsx("p",{className:`text-2xl font-bold ${P}`,children:$}),V&&e.jsx("p",{className:"text-xs text-brown-400 mt-1",children:V})]}),e.jsx("div",{className:`p-3 rounded-lg ${P.includes("success")?"bg-success/10":P.includes("error")?"bg-error/10":P.includes("info")?"bg-info/10":"bg-gold-500/10"}`,children:e.jsx(q,{className:`w-6 h-6 ${P}`})})]})});return e.jsxs("div",{className:"min-h-screen bg-admin-bg",children:[e.jsx("div",{className:"bg-gradient-to-r from-admin-card to-brown-900 border-b border-admin-border shadow-xl",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2",children:""}),e.jsx("p",{className:"text-brown-300",children:""})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("input",{type:"date",value:d,onChange:R=>h(R.target.value),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("input",{type:"date",value:f,onChange:R=>x(R.target.value),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsx("button",{onClick:T,disabled:c,className:"px-6 py-2 bg-gold-500 text-white rounded-lg hover:bg-gold-600 disabled:bg-brown-600 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx(dt,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(dt,{className:"w-5 h-5"}),e.jsx("span",{children:""})]})}),e.jsxs("button",{onClick:A,disabled:c||!s,className:"px-6 py-2 bg-success text-white rounded-lg hover:bg-success/90 disabled:bg-brown-600 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:[e.jsx(Fr,{className:"w-5 h-5"}),e.jsx("span",{children:"Export Excel"})]})]})}),c?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gold-500",children:"..."})}):s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(C,{title:"",value:`${E(s.totalDeposits)}`,icon:Mt,color:"text-success",subValue:`${s.depositCount} `}),e.jsx(C,{title:"",value:`${E(s.totalWithdrawals)}`,icon:Pt,color:"text-error",subValue:`${s.withdrawalCount} `}),e.jsx(C,{title:"",value:`${E(s.totalBonuses)}`,icon:ze,color:"text-gold-500"}),e.jsx(C,{title:"",value:`${E(s.totalCashback)}`,icon:ze,color:"text-info"})]}),e.jsx("div",{className:"bg-gradient-to-br from-gold-500 to-gold-600 rounded-xl shadow-lg p-8 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gold-100 text-sm font-medium mb-2",children:""}),e.jsxs("p",{className:"text-4xl font-bold",children:["",E(s.netProfit)]}),e.jsxs("p",{className:"text-gold-100 text-sm mt-2",children:["=  (",E(s.totalDeposits),") -  (",E(s.totalWithdrawals),") -  (",E(s.totalBonuses),") -  (",E(s.totalCashback),")"]})]}),e.jsx("div",{className:"bg-white/20 p-4 rounded-lg",children:e.jsx(ze,{className:"w-12 h-12"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(C,{title:"",value:s.newMemberCount.toString(),icon:As,color:"text-info",subValue:""}),e.jsx(C,{title:"",value:`${E(s.depositCount>0?s.totalDeposits/s.depositCount:0)}`,icon:Mt,color:"text-success"}),e.jsx(C,{title:"",value:`${E(s.withdrawalCount>0?s.totalWithdrawals/s.withdrawalCount:0)}`,icon:Pt,color:"text-error"})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-admin-card to-brown-900 border-b border-admin-border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yt,{className:"w-6 h-6 text-gold-500"}),e.jsx("h2",{className:"text-xl font-display font-bold text-gold-500",children:""})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>w(!N),className:"px-4 py-2 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all text-sm",children:N?"":""}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>B("prev"),className:"p-2 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all",children:e.jsx(Z6,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-brown-200 font-medium min-w-[150px] text-center",children:D(p)}),e.jsx("button",{onClick:()=>B("next"),className:"p-2 bg-admin-bg hover:bg-admin-hover text-brown-300 rounded-lg transition-all",children:e.jsx(J6,{className:"w-5 h-5"})})]})]})]})}),N&&e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["","","","","","",""].map(R=>e.jsx("div",{className:"text-center text-sm font-medium text-brown-400 py-2",children:R},R))}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:(()=>{const{daysInMonth:R,startingDayOfWeek:$,year:q,month:P}=M(p),V=[];for(let K=0;K<$;K++)V.push(e.jsx("div",{className:"aspect-square"},`empty-${K}`));for(let K=1;K<=R;K++){const W=new Date(q,P,K),z=L(W),H=new Date().toDateString()===W.toDateString();V.push(e.jsx("div",{className:`border rounded-lg p-3 transition-all min-h-[140px] ${H?"border-gold-500 bg-gold-500/10":z?"border-admin-border bg-admin-bg hover:border-gold-500/50 hover:shadow-lg cursor-pointer":"border-admin-border/30 bg-admin-bg/30"}`,children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:`text-sm font-bold mb-2 ${H?"text-gold-500":"text-brown-300"}`,children:K}),z?e.jsxs("div",{className:"flex-1 flex flex-col justify-between text-xs",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"text-success font-bold",children:S(z.deposits)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"text-error font-bold",children:S(z.withdrawals)})]}),e.jsx("div",{className:"h-px bg-admin-border my-1"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-brown-400 font-medium",children:":"}),e.jsxs("span",{className:`font-bold ${z.profit>=0?"text-success":"text-error"}`,children:[z.profit>=0?"+":"",S(z.profit)]})]})]}),e.jsx("div",{className:`text-center text-xs font-bold mt-2 pt-2 border-t-2 ${z.profit>=0?"border-success text-success":"border-error text-error"}`,children:z.profit>=0?" ":" "})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("span",{className:"text-brown-500 text-xs",children:""})})]})},K))}return V})()}),e.jsx("div",{className:"mt-6 pt-6 border-t border-admin-border",children:e.jsxs("div",{className:"flex flex-wrap gap-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-success/20 border border-success/50"}),e.jsx("span",{className:"text-brown-300",children:""})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-error/20 border border-error/50"}),e.jsx("span",{className:"text-brown-300",children:""})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-gold-500/20 border border-gold-500"}),e.jsx("span",{className:"text-brown-300",children:""})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-brown-400 text-xs",children:": K = , M = "})})]})})]})]})]}):e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl p-12 text-center",children:e.jsx("p",{className:"text-brown-400",children:""})})]})]})},ks={getAllLotteries:async()=>(await J.get("/lottery")).data.data,getLotteryStats:async()=>(await J.get("/lottery/stats")).data.data,getLotteryByID:async s=>(await J.get(`/lottery/${s}`)).data.data,updateLottery:async(s,n)=>(await J.put(`/lottery/${s}`,n)).data.data,createLottery:async s=>{await J.post("/lottery",s)},deleteLottery:async s=>{await J.delete(`/lottery/${s}`)},toggleLotteryStatus:async s=>(await J.post(`/lottery/${s}/toggle`)).data.data,getAllConfigs:async()=>(await J.get("/lottery/config")).data.data,getLotteryConfig:async s=>(await J.get(`/lottery/config/lottery/${s}`)).data.data,getPayoutRates:async s=>(await J.get(`/lottery/config/lottery/${s}/payout`)).data.data,getLimits:async s=>(await J.get(`/lottery/config/lottery/${s}/limits`)).data.data,createConfig:async s=>(await J.post("/lottery/config",s)).data.data,updateConfig:async(s,n)=>(await J.put(`/lottery/config/${s}`,n)).data.data,updatePayoutRate:async(s,n,l)=>{await J.put(`/lottery/config/lottery/${s}/payout`,{optionType:n,multiply:l})},bulkUpdateConfigs:async s=>{await J.put("/lottery/config/bulk",s)},deleteConfig:async s=>{await J.delete(`/lottery/config/${s}`)},initDefaultConfigs:async(s,n)=>{await J.post(`/lottery/config/lottery/${s}/init`,{huayType:n})},createPeriod:async s=>(await J.post("/lottery/periods",s)).data.data,getPeriods:async s=>(await J.get("/lottery/periods",{params:s})).data.data,getPeriodByID:async s=>(await J.get(`/lottery/periods/${s}`)).data.data,closePeriod:async s=>(await J.post(`/lottery/periods/${s}/close`)).data.data,announceResult:async(s,n)=>(await J.post(`/lottery/periods/${s}/result`,n)).data.data,getPeriodStatistics:async s=>(await J.get(`/lottery/periods/${s}/statistics`)).data.data,getPeriodBets:async(s,n)=>(await J.get(`/lottery/periods/${s}/bets`,{params:n})).data.data,getTiersByLottery:async(s,n,l=1)=>(await J.get(`/lottery/tiers/lottery/${s}`,{params:{optionType:n,type:l}})).data.data,calculateMultiply:async(s,n,l,i)=>(await J.get("/lottery/tiers/calculate-multiply",{params:{lotteryId:s,optionType:n,type:l,amount:i}})).data,createTier:async s=>(await J.post("/lottery/tiers",s)).data.data,updateTier:async(s,n)=>(await J.put(`/lottery/tiers/${s}`,n)).data.data,deleteTier:async s=>{await J.delete(`/lottery/tiers/${s}`)},setupDefaultTiers:async s=>{await J.post("/lottery/tiers/setup-default",s)},bulkReplaceTiers:async(s,n,l,i)=>{await J.post("/lottery/tiers/bulk-replace",{lotteryId:s,optionType:n,type:l,tiers:i})},generateDailyStocks:async s=>{const n=s?{date:s}:{};return(await J.post("/lottery/stock/generate-daily",null,{params:n})).data.data}};we.locale("th");const dA=({isOpen:s,onClose:n,lottery:l})=>{if(!s)return null;const i=d=>({1:"",2:"",3:"",4:"",5:"",6:"",7:""})[d]||` ${d}`,c=d=>({1:"",2:"",3:"",4:"",5:"",6:"",7:""})[d]||"",u=d=>{const h=d.toLowerCase();return{th:"",la:"",vn:"",cn:"",jp:"",kr:"",sg:"",my:"",tw:"",hk:""}[h]||""};return e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-admin-border sticky top-0 bg-admin-card z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Nc,{className:"w-6 h-6 text-gold-500"}),e.jsx("h2",{className:"text-2xl font-display font-bold text-gold-500",children:""})]}),e.jsx("button",{onClick:n,className:"p-1 hover:bg-admin-hover rounded transition-colors",children:e.jsx(We,{className:"w-6 h-6 text-brown-400 hover:text-gold-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-admin-bg border border-admin-border rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gold-500 mb-4 flex items-center gap-2",children:[e.jsx(Nc,{className:"w-5 h-5"}),""]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.icon&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("span",{className:"text-4xl",children:u(l.icon)})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("span",{className:"text-gold-500 font-bold",children:l.huayCode})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("span",{className:"text-brown-200 font-semibold",children:l.huayName})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("span",{className:"px-3 py-1 text-sm font-semibold rounded-full bg-gold-500/10 text-gold-500 border border-gold-500/20",children:i(l.huayGroup)})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("span",{className:"text-brown-200",children:l.huayType})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("span",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${l.status?"bg-success/10 text-success border border-success/20":"bg-error/10 text-error border border-error/20"}`,children:l.status?e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"w-4 h-4"}),""]}):e.jsxs(e.Fragment,{children:[e.jsx(fa,{className:"w-4 h-4"}),""]})})]})]})]}),e.jsxs("div",{className:"bg-admin-bg border border-admin-border rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gold-500 mb-4 flex items-center gap-2",children:[e.jsx(Qe,{className:"w-5 h-5"}),""]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("span",{className:"text-brown-200",children:l.timeOpen?l.timeOpen.split("T")[1]?.substring(0,5):"-"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("span",{className:"text-brown-200",children:l.timeClose?l.timeClose.split("T")[1]?.substring(0,5):"-"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("span",{className:"text-brown-200",children:l.timeResult?l.timeResult.split("T")[1]?.substring(0,5):"-"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("span",{className:"text-brown-200",children:l.flagNextday?"":""})]})]})]}),e.jsxs("div",{className:"bg-admin-bg border border-admin-border rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gold-500 mb-4 flex items-center gap-2",children:[e.jsx(yt,{className:"w-5 h-5"}),""]}),e.jsxs("div",{className:"space-y-4",children:[l.dateOpent&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.dateOpent.split(",").map((d,h)=>e.jsx("span",{className:"px-3 py-1 text-sm bg-info/10 text-info border border-info/20 rounded-full",children:c(parseInt(d))},h))})]}),l.opentFix&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:" Fix:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.opentFix.split(",").map((d,h)=>e.jsxs("span",{className:"px-3 py-1 text-sm bg-warning/10 text-warning border border-warning/20 rounded-full",children:[" ",d]},h))})]}),!l.dateOpent&&!l.opentFix&&e.jsx("div",{className:"text-brown-500 text-center py-2",children:""})]})]}),e.jsxs("div",{className:"bg-admin-bg border border-admin-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gold-500 mb-4",children:""}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:`p-3 rounded-lg border ${l.has4d?"bg-success/10 border-success/20 text-success":"bg-admin-bg border-admin-border text-brown-500"}`,children:[e.jsx("div",{className:"font-medium",children:"4 "}),e.jsx("div",{className:"text-xs mt-1",children:l.has4d?"":""})]}),e.jsxs("div",{className:`p-3 rounded-lg border ${l.has3dTop?"bg-success/10 border-success/20 text-success":"bg-admin-bg border-admin-border text-brown-500"}`,children:[e.jsx("div",{className:"font-medium",children:"3 "}),e.jsx("div",{className:"text-xs mt-1",children:l.has3dTop?"":""})]}),e.jsxs("div",{className:`p-3 rounded-lg border ${l.has3dBottom?"bg-success/10 border-success/20 text-success":"bg-admin-bg border-admin-border text-brown-500"}`,children:[e.jsx("div",{className:"font-medium",children:"3 "}),e.jsx("div",{className:"text-xs mt-1",children:l.has3dBottom?"":""})]}),e.jsxs("div",{className:`p-3 rounded-lg border ${l.has2dTop?"bg-success/10 border-success/20 text-success":"bg-admin-bg border-admin-border text-brown-500"}`,children:[e.jsx("div",{className:"font-medium",children:"2 "}),e.jsx("div",{className:"text-xs mt-1",children:l.has2dTop?"":""})]}),e.jsxs("div",{className:`p-3 rounded-lg border ${l.has2dBottom?"bg-success/10 border-success/20 text-success":"bg-admin-bg border-admin-border text-brown-500"}`,children:[e.jsx("div",{className:"font-medium",children:"2 "}),e.jsx("div",{className:"text-xs mt-1",children:l.has2dBottom?"":""})]})]})]}),l.detail&&e.jsxs("div",{className:"bg-admin-bg border border-admin-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gold-500 mb-4",children:""}),e.jsx("div",{className:"text-brown-200 prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:l.detail}})]}),l.officialWebsite&&e.jsxs("div",{className:"bg-admin-bg border border-admin-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gold-500 mb-4",children:""}),e.jsx("a",{href:l.officialWebsite,target:"_blank",rel:"noopener noreferrer",className:"text-info hover:text-info/80 underline break-all",children:l.officialWebsite})]}),e.jsxs("div",{className:"bg-admin-bg border border-admin-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gold-500 mb-4",children:""}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:"ID:"}),e.jsx("span",{className:"text-brown-200",children:l.id})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:"Display Order:"}),e.jsx("span",{className:"text-brown-200",children:l.displayOrder})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("span",{className:"text-brown-200",children:we(l.createdAt).format("DD/MM/YYYY HH:mm:ss")})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-brown-400 font-medium min-w-[120px]",children:":"}),e.jsx("span",{className:"text-brown-200",children:we(l.updatedAt).format("DD/MM/YYYY HH:mm:ss")})]})]})]})]}),e.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-admin-border sticky bottom-0 bg-admin-card",children:e.jsx("button",{onClick:n,className:"px-6 py-2 text-brown-200 bg-admin-bg border border-admin-border rounded-lg hover:border-gold-500/50 hover:text-gold-500 transition-colors",children:""})})]})})},Yl={getConfigsByLottery:async(s,n)=>(await J.get(`/lottery/${s}/huay-config`,{params:{type:n}})).data.data||[],getConfigById:async s=>(await J.get(`/lottery/huay-config/${s}`)).data.data,createConfig:async(s,n)=>(await J.post(`/lottery/${s}/huay-config`,n)).data.data,updateConfig:async(s,n)=>(await J.put(`/lottery/huay-config/${s}`,n)).data.data,deleteConfig:async s=>{await J.delete(`/lottery/huay-config/${s}`)},setDefault:async s=>(await J.post(`/lottery/huay-config/${s}/set-default`)).data.data},ex=[{value:"teng_bon_4",label:"4 ",shortLabel:"4"},{value:"tode_4",label:"4 ",shortLabel:"4"},{value:"teng_bon_3",label:"3 ",shortLabel:"3"},{value:"tode_3",label:"3 ",shortLabel:"3"},{value:"teng_lang_nha_3",label:"3 ",shortLabel:"3",gloOnly:!0},{value:"teng_lang_3",label:"3 ",shortLabel:"3",gloOnly:!0},{value:"teng_bon_2",label:"2 ",shortLabel:"2"},{value:"teng_lang_2",label:"2 ",shortLabel:"2"},{value:"teng_bon_1",label:"",shortLabel:""},{value:"teng_lang_1",label:"",shortLabel:""}],uA=({isOpen:s,onClose:n,lottery:l})=>{const[i,c]=j.useState(1),[u,d]=j.useState([]),[h,f]=j.useState(!1),[x,p]=j.useState(!1),[g,N]=j.useState(null),[w,v]=j.useState(!1),[y,T]=j.useState("optionType"),[A,E]=j.useState("asc"),[S,M]=j.useState({optionType:"teng_bon_3",minPrice:1,maxPrice:1e4,multiply:850,status:1,default:0,maxPricePerNum:0,maxPricePerUser:0,typeConfig:1});j.useEffect(()=>{s&&L()},[s,i,l.id]);const L=async()=>{f(!0);try{const F=await Yl.getConfigsByLottery(l.id,i);d(F)}catch(F){console.error("Failed to fetch configs:",F),U.error(" Config ")}finally{f(!1)}},B=F=>{y===F?E(A==="asc"?"desc":"asc"):(T(F),E("asc"))},D=j.useMemo(()=>[...u].sort((le,oe)=>{let _=le[y],I=oe[y];return y==="optionType"&&(_=String(_).toLowerCase(),I=String(I).toLowerCase()),_<I?A==="asc"?-1:1:_>I?A==="asc"?1:-1:0}),[u,y,A]),C=F=>{c(F),p(!1),N(null)},R=()=>l.huayCode==="GLO"?ex:ex.filter(le=>!le.gloOnly),$=()=>{N(null),M({optionType:"teng_bon_3",minPrice:1,maxPrice:1e4,multiply:i===1?850:0,status:1,default:0,maxPricePerNum:0,maxPricePerUser:0,typeConfig:i}),p(!0)},q=F=>{N(F),M({optionType:F.optionType,minPrice:F.minPrice,maxPrice:F.maxPrice,multiply:F.multiply,status:F.status,default:F.default,maxPricePerNum:F.maxPricePerNum||0,maxPricePerUser:F.maxPricePerUser||0,typeConfig:F.typeConfig}),p(!0)},P=async F=>{if(F.preventDefault(),!S.optionType){U.error("");return}if(S.minPrice<0||S.maxPrice<0){U.error("");return}if(S.minPrice>S.maxPrice){U.error("");return}if(i===1&&S.multiply<=0){U.error(" 0");return}try{v(!0),g?(await Yl.updateConfig(g.id,S),U.success(" Config ")):(await Yl.createConfig(l.id,S),U.success(" Config ")),p(!1),N(null),L()}catch(le){console.error("Failed to save config:",le),U.error(le.response?.data?.message||"")}finally{v(!1)}},V=async F=>{if(confirm(` Config "${W(F.optionType)}" ?`))try{await Yl.deleteConfig(F.id),U.success(" Config "),L()}catch(le){console.error("Failed to delete config:",le),U.error(le.response?.data?.message||" Config ")}},K=async F=>{if(F.default===1){U("Config  Default ",{icon:""});return}try{await Yl.setDefault(F.id),U.success(" Default "),L()}catch(le){console.error("Failed to set default:",le),U.error(le.response?.data?.message||" Default ")}},W=F=>ex.find(le=>le.value===F)?.label||F,z=({field:F,label:le,className:oe=""})=>e.jsx("th",{onClick:()=>B(F),className:`px-4 py-3 text-xs font-medium text-brown-300 uppercase tracking-wider cursor-pointer hover:bg-admin-hover transition-colors select-none ${oe}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{children:le}),y===F&&(A==="asc"?e.jsx(bv,{className:"w-4 h-4 text-gold-500"}):e.jsx(pv,{className:"w-4 h-4 text-gold-500"}))]})}),H=F=>F===1?e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-success/10 text-success border border-success/20",children:""}):e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-error/10 text-error border border-error/20",children:""});return s?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-admin-border sticky top-0 bg-admin-card z-20",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-gold-500",children:" Config "}),e.jsxs("p",{className:"text-brown-400 text-sm mt-1",children:[l.huayName," (",l.huayCode,")"]})]}),e.jsx("button",{onClick:n,className:"p-1 hover:bg-admin-hover rounded transition-colors",children:e.jsx(We,{className:"w-6 h-6 text-brown-400 hover:text-gold-500"})})]}),e.jsx("div",{className:"border-b border-admin-border bg-admin-bg sticky top-[88px] z-10",children:e.jsxs("div",{className:"flex gap-4 px-6",children:[e.jsx("button",{onClick:()=>C(1),className:`py-3 px-4 font-medium transition-all relative ${i===1?"text-gold-500 border-b-2 border-gold-500":"text-brown-400 hover:text-brown-200"}`,children:" (Type 1)"}),e.jsx("button",{onClick:()=>C(2),className:`py-3 px-4 font-medium transition-all relative ${i===2?"text-gold-500 border-b-2 border-gold-500":"text-brown-400 hover:text-brown-200"}`,children:" (Type 2)"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6 p-4 bg-info/10 border border-info/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ft,{className:"w-5 h-5 text-info mt-0.5 flex-shrink-0"}),e.jsx("div",{className:"text-sm text-info",children:i===1?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Type 1 ():"})," ",e.jsx("br",{}),"- ",e.jsx("strong",{children:"Default = 1:"}),"  ( Config )",e.jsx("br",{}),"- ",e.jsx("strong",{children:"Default = 0:"}),"  Config  (tiered config)"]}):e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Type 2 ():"})," ",e.jsx("br",{}),"- ",e.jsx("strong",{children:"maxPricePerNum:"})," ",e.jsx("br",{}),"- ",e.jsx("strong",{children:"maxPricePerUser:"})," "]})})]})}),!x&&e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-gold-600 to-gold-500 text-white rounded-lg hover:from-gold-700 hover:to-gold-600 transition-all shadow-lg hover:shadow-gold-500/50",children:[e.jsx(Yc,{size:20})," Config "]})}),x&&e.jsxs("div",{className:"mb-6 bg-admin-bg border border-admin-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gold-500 mb-4",children:g?" Config":" Config "}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:S.optionType,onChange:F=>M({...S,optionType:F.target.value}),className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",required:!0,children:R().map(F=>e.jsx("option",{value:F.value,children:F.label},F.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:S.minPrice,onChange:F=>M({...S,minPrice:parseFloat(F.target.value)||0}),className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:S.maxPrice,onChange:F=>M({...S,maxPrice:parseFloat(F.target.value)||0}),className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),i===1&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:[" (Multiply) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:S.multiply,onChange:F=>M({...S,multiply:parseFloat(F.target.value)||0}),className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),i===2&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("input",{type:"number",value:S.maxPricePerNum,onChange:F=>M({...S,maxPricePerNum:parseFloat(F.target.value)||0}),className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",min:"0",step:"0.01"})]}),i===2&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("input",{type:"number",value:S.maxPricePerUser,onChange:F=>M({...S,maxPricePerUser:parseFloat(F.target.value)||0}),className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:S.status,onChange:F=>M({...S,status:parseInt(F.target.value)}),className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:1,children:""}),e.jsx("option",{value:0,children:""})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:["Default ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:S.default,onChange:F=>M({...S,default:parseInt(F.target.value)}),className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:1,children:"Default Config"}),e.jsx("option",{value:0,children:"Tiered Config"})]}),e.jsx("p",{className:"text-xs text-brown-500 mt-1",children:S.default===1?" Config  ()":" ( minPrice-maxPrice)"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-admin-border",children:[e.jsx("button",{type:"button",onClick:()=>{p(!1),N(null)},className:"px-6 py-2 text-brown-300 bg-admin-card border border-admin-border rounded-lg hover:border-gold-500/50 transition-colors",disabled:w,children:""}),e.jsx("button",{type:"submit",disabled:w,className:"px-6 py-2 bg-gradient-to-r from-gold-600 to-gold-500 text-white rounded-lg hover:from-gold-700 hover:to-gold-600 transition-all shadow-lg hover:shadow-gold-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"...":g?"":" Config"})]})]})]}),e.jsx("div",{className:"bg-admin-bg border border-admin-border rounded-lg overflow-hidden",children:h?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-brown-300",children:"..."})]}):u.length===0?e.jsxs("div",{className:"p-8 text-center text-brown-400",children:[" Config  ",i===1?"":""]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-card",children:e.jsxs("tr",{children:[e.jsx(z,{field:"optionType",label:"",className:"text-left"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:"-"}),i===1?e.jsx(z,{field:"multiply",label:"",className:"text-center"}):e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""})]}),e.jsx(z,{field:"status",label:"",className:"text-center"}),e.jsx(z,{field:"default",label:"Default",className:"text-center"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:D.map(F=>e.jsxs("tr",{className:"hover:bg-admin-hover transition-colors",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-brown-200",children:W(F.optionType)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm text-brown-200",children:[F.minPrice.toLocaleString()," - ",F.maxPrice.toLocaleString()]}),i===1?e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm font-bold text-gold-500",children:F.multiply.toLocaleString()}):e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm text-brown-200",children:F.maxPricePerNum?F.maxPricePerNum.toLocaleString():"-"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm text-brown-200",children:F.maxPricePerUser?F.maxPricePerUser.toLocaleString():"-"})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm",children:H(F.status)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm",children:F.default===1?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full bg-warning/10 text-warning border border-warning/20",children:[e.jsx(wc,{className:"w-3 h-3"}),"Default"]}):e.jsx("span",{className:"text-brown-500 text-xs",children:"Tiered"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[F.default!==1&&e.jsx("button",{onClick:()=>K(F),className:"text-warning hover:text-warning/80 transition-colors",title:" Default",children:e.jsx(wc,{})}),e.jsx("button",{onClick:()=>q(F),className:"text-info hover:text-info/80 transition-colors",title:"",children:e.jsx(Ti,{})}),e.jsx("button",{onClick:()=>V(F),className:"text-error hover:text-error/80 transition-colors",title:"",children:e.jsx(Fn,{})})]})})]},F.id))})]})})})]}),e.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-admin-border sticky bottom-0 bg-admin-card",children:e.jsx("button",{onClick:n,className:"px-6 py-2 text-brown-200 bg-admin-bg border border-admin-border rounded-lg hover:border-gold-500/50 hover:text-gold-500 transition-colors",children:""})})]})}):null};we.locale("th");const Fj=()=>{const[s,n]=j.useState([]),[l,i]=j.useState(!1),[c,u]=j.useState(!1),[d,h]=j.useState(!1),[f,x]=j.useState(we().format("YYYY-MM-DD")),[p,g]=j.useState(0),[N,w]=j.useState({total:0,active:0,inactive:0,lastUpdate:new Date().toISOString(),groupStats:{}}),[v,y]=j.useState(!1),[T,A]=j.useState(!1),[E,S]=j.useState(null),[M,L]=j.useState(!1),[B,D]=j.useState(!1),[C,R]=j.useState(!1),[$,q]=j.useState(null),[P,V]=j.useState({huayCode:"",huayName:"",timeClose:"",huayGroup:1,dateOpent:[],opentFix:"",icon:"",status:!0,flagNextday:!1,has4d:!1});j.useEffect(()=>{K(),W()},[]);const K=async()=>{i(!0);try{const Q=await ks.getAllLotteries();n(Q)}catch(Q){console.error("Failed to fetch lotteries:",Q),U.error("")}finally{i(!1)}},W=async()=>{try{const Q=await ks.getLotteryStats();w(Q)}catch(Q){console.error("Failed to fetch stats:",Q)}},z=()=>{A(!1),S(null),V({huayCode:"",huayName:"",timeClose:"",huayGroup:1,dateOpent:[],opentFix:"",icon:"",status:!0,flagNextday:!1,has4d:!1}),y(!0)},H=async Q=>{A(!0),S(Q.id),L(!0),y(!0);try{const ye=await ks.getLotteryByID(Q.id.toString());let Xe=[];ye.dateOpent&&ye.dateOpent!==null&&ye.dateOpent.trim()!==""&&(Xe=ye.dateOpent.split(",").map(Ds=>parseInt(Ds.trim())).filter(Ds=>!isNaN(Ds)));let Ht=ye.timeClose||"";Ht.includes("T")&&(Ht=Ht.split("T")[1]?.split("Z")[0]?.substring(0,5)||""),setTimeout(()=>{V({huayCode:ye.huayCode,huayName:ye.huayName,timeClose:Ht,huayGroup:ye.huayGroup,dateOpent:Xe,opentFix:ye.opentFix??"",icon:ye.icon??"",status:!!ye.status,flagNextday:!!ye.flagNextday,has4d:!!(ye.has4d||ye.hauy4)}),L(!1)},100)}catch(ye){console.error("Failed to fetch lottery details:",ye),U.error(""),y(!1),L(!1)}},F=async()=>{if(!P.huayCode||!P.huayName){U.error("");return}try{const Q={huayName:P.huayName,huayGroup:P.huayGroup,timeClose:P.timeClose||"23:59",opentFix:P.opentFix||null,dateOpent:P.dateOpent.length>0?P.dateOpent.join(","):null,icon:P.icon||null,flagNextday:P.flagNextday?1:0,has4d:P.has4d?1:0,status:P.status?1:0};T||(Q.huayCode=P.huayCode,Q.detail=""),T&&E?(await ks.updateLottery(E.toString(),Q),U.success("")):(await ks.createLottery(Q),U.success("")),y(!1),K(),W()}catch(Q){console.error("Failed to save lottery:",Q),U.error("")}},le=async Q=>{if(confirm(` "${Q.huayName}" ?`))try{await ks.deleteLottery(Q.id.toString()),U.success(""),K(),W()}catch(ye){console.error("Failed to delete lottery:",ye),U.error("")}},oe=async Q=>{try{await ks.toggleLotteryStatus(Q.id.toString()),U.success(`${Q.status?"":""}`),K(),W()}catch(ye){console.error("Failed to toggle status:",ye),U.error("")}},_=Q=>{q(Q),D(!0)},I=Q=>{q(Q),R(!0)},ae=async()=>{u(!0);try{const Q=await ks.generateDailyStocks();Q.errors&&Q.errors.length>0?Q.created===0?U.error(`: ${Q.errors[0]}`):U("",{icon:""}):Q.created===0&&Q.totalEligible>0?U("",{icon:""}):Q.created>0?U.success(` ${Q.created} `):U("",{icon:""}),console.log("Generate Daily Stocks Result:",Q),h(!1),x(we().format("YYYY-MM-DD"))}catch(Q){console.error("Failed to generate daily stocks:",Q),U.error("")}finally{u(!1)}},de=Q=>({1:"",2:"",3:"",4:"",5:"",6:"",7:""})[Q]||` ${Q}`,he=Q=>({1:"",2:"",3:"",4:"",5:"",6:"",7:""})[Q]||"",be=Q=>({1:"",2:"",3:"",4:"",5:"",6:"",7:""})[Q]||"",fe=Q=>{const ye=Q.toLowerCase();return{th:"",la:"",vn:"",cn:"",jp:"",kr:"",sg:"",my:"",tw:"",hk:""}[ye]||""},Ae=()=>[{code:"",name:"-  -"},{code:"th",name:""},{code:"la",name:""},{code:"vn",name:""},{code:"cn",name:""},{code:"jp",name:""},{code:"kr",name:""},{code:"tw",name:""},{code:"hk",name:""},{code:"sg",name:""},{code:"my",name:""}],ve=Q=>{V(ye=>{const Xe=ye.dateOpent.includes(Q)?ye.dateOpent.filter(Ht=>Ht!==Q):[...ye.dateOpent,Q].sort();return{...ye,dateOpent:Xe,opentFix:Xe.length>0?"":ye.opentFix}})},xe=p===0?s:s.filter(Q=>Q.huayGroup===p),Z={1:"text-blue-500 cursor-pointer hover:text-blue-700",2:"text-green-500 cursor-pointer hover:text-green-700",3:"text-cyan-500 cursor-pointer hover:text-cyan-700",4:"text-orange-500 cursor-pointer hover:text-orange-700",5:"text-red-500 cursor-pointer hover:text-red-700",6:"text-purple-500 cursor-pointer hover:text-purple-700",7:"text-gray-500 cursor-pointer hover:text-gray-700"};return e.jsxs("div",{className:"min-h-screen bg-admin-bg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2",children:""}),e.jsx("p",{className:"text-brown-300",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 hover:border-gold-500/50 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-info/10 rounded-lg group-hover:bg-info/20 transition-colors",children:e.jsx(Mt,{className:"w-6 h-6 text-info"})}),e.jsx("span",{className:"text-xs text-brown-400 font-medium",children:""})]}),e.jsx("div",{className:"text-3xl font-bold text-gold-500 mb-1 drop-shadow-lg",children:N.total}),e.jsx("div",{className:"text-sm text-brown-400",children:""})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 hover:border-gold-500/50 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-success/10 rounded-lg group-hover:bg-success/20 transition-colors",children:e.jsx(zs,{className:"w-6 h-6 text-success"})}),e.jsx("span",{className:"text-xs text-brown-400 font-medium",children:""})]}),e.jsx("div",{className:"text-3xl font-bold text-gold-500 mb-1 drop-shadow-lg",children:N.active}),e.jsx("div",{className:"text-sm text-brown-400",children:""})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 hover:border-gold-500/50 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-warning/10 rounded-lg group-hover:bg-warning/20 transition-colors",children:e.jsx(We,{className:"w-6 h-6 text-warning"})}),e.jsx("span",{className:"text-xs text-brown-400 font-medium",children:""})]}),e.jsx("div",{className:"text-3xl font-bold text-gold-500 mb-1 drop-shadow-lg",children:N.inactive}),e.jsx("div",{className:"text-sm text-brown-400",children:""})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 hover:border-gold-500/50 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gold-500/10 rounded-lg group-hover:bg-gold-500/20 transition-colors",children:e.jsx(Qe,{className:"w-6 h-6 text-gold-500"})}),e.jsx("span",{className:"text-xs text-brown-400 font-medium",children:""})]}),e.jsx("div",{className:"text-lg font-bold text-gold-500 mb-1",children:we(N.lastUpdate).format("DD/MM/YY")}),e.jsx("div",{className:"text-sm text-brown-400",children:we(N.lastUpdate).format("HH:mm:ss")})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(iS,{className:"w-5 h-5 text-gold-500"}),e.jsx("h3",{className:"text-lg font-display font-bold text-gold-500",children:""})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[1,2,3,4,5,6,7].map(Q=>e.jsxs("div",{onClick:()=>g(p===Q?0:Q),className:`text-center p-4 bg-admin-bg rounded-lg border border-admin-border hover:border-gold-500/30 transition-all cursor-pointer ${Z[Q]}`,children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:N.groupStats[Q]||0}),e.jsx("div",{className:"text-sm",children:de(Q)})]},Q))})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-4 mb-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("label",{className:"text-brown-300 font-medium",children:":"}),e.jsxs("select",{value:p,onChange:Q=>g(parseInt(Q.target.value)),className:"px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",children:[e.jsx("option",{value:0,children:""}),[1,2,3,4,5,6,7].map(Q=>e.jsx("option",{value:Q,children:de(Q)},Q))]}),p!==0&&e.jsx("button",{onClick:()=>g(0),className:"px-4 py-2 text-brown-300 bg-admin-bg border border-admin-border rounded-lg hover:border-gold-500/50 transition-colors",children:""})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>{W(),K()},className:"flex items-center gap-2 px-4 py-2 bg-admin-bg border border-admin-border text-brown-200 rounded-lg hover:border-gold-500/50 hover:text-gold-500 transition-all",children:[e.jsx(dt,{size:18}),""]}),e.jsxs("button",{onClick:()=>h(!0),disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-gold-600 to-gold-500 text-white rounded-lg hover:from-gold-700 hover:to-gold-600 transition-all shadow-lg hover:shadow-gold-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(yt,{size:18}),""]}),e.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-gold-600 to-gold-500 text-white rounded-lg hover:from-gold-700 hover:to-gold-600 transition-all shadow-lg hover:shadow-gold-500/50",children:[e.jsx(Yc,{size:20}),""]})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:[l?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-brown-300",children:"..."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:"Icon"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:xe.map((Q,ye)=>e.jsxs("tr",{className:"hover:bg-admin-hover transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-brown-200",children:ye+1}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:Q.icon?e.jsx("span",{className:"text-2xl",title:Q.icon,children:fe(Q.icon)}):e.jsx("span",{className:"text-brown-500",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium text-gold-500",children:Q.huayCode}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-200",children:Q.huayName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-gold-500/10 text-gold-500 border border-gold-500/20",children:de(Q.huayGroup)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-brown-200",children:Q.timeClose?Q.timeClose.split("T")[1]?.substring(0,5):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:Q.flagNextday?e.jsx("span",{className:"text-warning",children:""}):e.jsx("span",{className:"text-brown-500",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-brown-200",children:Q.opentFix||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-brown-200",children:Q.dateOpent?Q.dateOpent.split(",").map(Xe=>he(parseInt(Xe))).join(","):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("button",{onClick:()=>oe(Q),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${Q.status?"bg-success/10 text-success hover:bg-success/20 border border-success/20":"bg-error/10 text-error hover:bg-error/20 border border-error/20"}`,children:Q.status?"":""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[e.jsxs("button",{onClick:()=>_(Q),className:"text-info hover:text-info/80 inline-flex items-center gap-1 transition-colors",children:[e.jsx(Nc,{}),""]}),e.jsxs("button",{onClick:()=>I(Q),className:"text-gold-500 hover:text-gold-600 inline-flex items-center gap-1 transition-colors",children:[e.jsx(Wc,{})," Config"]}),e.jsxs("button",{onClick:()=>H(Q),className:"text-info hover:text-info/80 inline-flex items-center gap-1 transition-colors",children:[e.jsx(Ti,{}),""]}),e.jsxs("button",{onClick:()=>le(Q),className:"text-error hover:text-error/80 inline-flex items-center gap-1 transition-colors",children:[e.jsx(Fn,{}),""]})]})})]},Q.id))})]})}),!l&&xe.length===0&&e.jsx("div",{className:"p-8 text-center text-brown-400",children:""})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl max-w-2xl w-full p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-display font-bold text-gold-500",children:T?"":""}),e.jsx("button",{onClick:()=>y(!1),className:"text-brown-400 hover:text-gold-500 transition-colors",children:e.jsx(We,{size:24})})]}),M?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500 mx-auto mb-4"}),e.jsx("p",{className:"text-brown-300",children:"..."})]}):e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-1",children:" *"}),e.jsx("input",{type:"text",value:P.huayCode,onChange:Q=>V({...P,huayCode:Q.target.value}),className:"w-full px-3 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",placeholder:" SET_1",disabled:T})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-1",children:" *"}),e.jsx("input",{type:"text",value:P.huayName,onChange:Q=>V({...P,huayName:Q.target.value}),className:"w-full px-3 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-1",children:""}),e.jsx("input",{type:"time",value:P.timeClose,onChange:Q=>V({...P,timeClose:Q.target.value}),className:"w-full px-3 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-1",children:""}),e.jsx("select",{value:P.huayGroup,onChange:Q=>V({...P,huayGroup:parseInt(Q.target.value)}),className:"w-full px-3 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",children:[1,2,3,4,5,6,7].map(Q=>e.jsx("option",{value:Q,children:de(Q)},Q))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[1,2,3,4,5,6,7].map(Q=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.dateOpent.includes(Q),onChange:()=>ve(Q),disabled:P.opentFix!=="",className:"mr-2 w-4 h-4 text-gold-500 bg-admin-bg border-admin-border rounded focus:ring-gold-500 focus:ring-2"}),e.jsx("span",{className:"text-sm text-brown-300",children:be(Q)})]},Q))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-300 mb-1",children:["Fix  ",e.jsx("span",{className:"text-xs text-brown-500",children:"( 1,16  17,27)"})]}),e.jsx("input",{type:"text",value:P.opentFix,onChange:Q=>V({...P,opentFix:Q.target.value,dateOpent:[]}),disabled:P.dateOpent.length>0,className:"w-full px-3 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"17,27"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.flagNextday,onChange:Q=>V({...P,flagNextday:Q.target.checked}),className:"mr-2 w-4 h-4 text-gold-500 bg-admin-bg border-admin-border rounded focus:ring-gold-500 focus:ring-2"}),e.jsx("span",{className:"text-sm font-medium text-brown-300",children:" (Next Day)"})]}),e.jsx("p",{className:"text-xs text-brown-500 ml-6 mt-1",children:""})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.has4d,onChange:Q=>V({...P,has4d:Q.target.checked}),className:"mr-2 w-4 h-4 text-gold-500 bg-admin-bg border-admin-border rounded focus:ring-gold-500 focus:ring-2"}),e.jsx("span",{className:"text-sm font-medium text-brown-300",children:" 4 "})]}),e.jsx("p",{className:"text-xs text-brown-500 ml-6 mt-1",children:" 4 "})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-1",children:""}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("select",{value:P.icon||"",onChange:Q=>V({...P,icon:Q.target.value}),className:"flex-1 px-3 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",children:Ae().map(Q=>e.jsx("option",{value:Q.code,children:Q.name},Q.code))}),P.icon&&e.jsx("div",{className:"flex items-center justify-center w-12 h-10 text-3xl",children:fe(P.icon)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-1",children:""}),e.jsxs("select",{value:P.status?"1":"0",onChange:Q=>V({...P,status:Q.target.value==="1"}),className:"w-full px-3 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent",children:[e.jsx("option",{value:"1",children:""}),e.jsx("option",{value:"0",children:""})]})]})]}),!M&&e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>y(!1),className:"px-6 py-2 text-brown-300 bg-admin-bg border border-admin-border rounded-lg hover:border-gold-500/50 transition-colors",children:""}),e.jsx("button",{onClick:F,className:"px-6 py-2 text-white bg-gradient-to-r from-gold-600 to-gold-500 rounded-lg hover:from-gold-700 hover:to-gold-600 transition-all shadow-lg hover:shadow-gold-500/50",children:T?"":""})]})]})}),$&&e.jsx(dA,{isOpen:B,onClose:()=>{D(!1),q(null)},lottery:$}),$&&e.jsx(uA,{isOpen:C,onClose:()=>{R(!1),q(null)},lottery:$}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl max-w-md w-full p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-display font-bold text-gold-500",children:""}),e.jsx("button",{onClick:()=>{h(!1),x(we().format("YYYY-MM-DD"))},className:"text-brown-400 hover:text-gold-500 transition-colors",children:e.jsx(We,{size:24})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-300 mb-2",children:""}),e.jsx("input",{type:"date",value:f,onChange:Q=>x(Q.target.value),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-200 focus:ring-2 focus:ring-gold-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-brown-500 mt-2",children:" lottery_master "})]}),e.jsx("div",{className:"bg-admin-bg border border-admin-border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Nc,{className:"w-5 h-5 text-gold-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-brown-300",children:[e.jsx("p",{className:"font-medium mb-1",children:":"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[e.jsx("li",{children:" date_opent () "}),e.jsx("li",{children:" opent_fix () "}),e.jsx("li",{children:""})]})]})]})})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{h(!1),x(we().format("YYYY-MM-DD"))},disabled:c,className:"px-6 py-2 text-brown-300 bg-admin-bg border border-admin-border rounded-lg hover:border-gold-500/50 transition-colors disabled:opacity-50",children:""}),e.jsx("button",{onClick:ae,disabled:c,className:"flex items-center gap-2 px-6 py-2 text-white bg-gradient-to-r from-gold-600 to-gold-500 rounded-lg hover:from-gold-700 hover:to-gold-600 transition-all shadow-lg hover:shadow-gold-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"..."]}):e.jsxs(e.Fragment,{children:[e.jsx(yt,{size:18}),""]})})]})]})})]})},mA=()=>{const s=kt(),[n,l]=j.useState(!1),[i,c]=j.useState(null),[u,d]=j.useState([]),[h,f]=j.useState(0),[x,p]=j.useState(new Date().toISOString().split("T")[0]),[g,N]=j.useState("all"),[w,v]=j.useState(""),[y,T]=j.useState(1),[A]=j.useState(50);j.useEffect(()=>{E()},[x,g,y]);const E=async()=>{try{l(!0);const C={date:x,limit:A,offset:(y-1)*A};g!=="all"&&(C.status=parseInt(g)),w&&(C.search=w);const R=await Zx.getAllPoys(C);R.status==="success"&&R.data&&(c(R.data.statistics),d(R.data.poys),f(R.data.pagination.total))}catch(C){console.error("Failed to fetch poys:",C)}finally{l(!1)}},S=()=>{T(1),E()},M=C=>{switch(C){case 1:return e.jsxs("span",{className:"px-3 py-1 bg-warning/20 text-warning rounded-full text-sm font-medium flex items-center gap-1",children:[e.jsx(Ur,{})," "]});case 2:return e.jsxs("span",{className:"px-3 py-1 bg-success/20 text-success rounded-full text-sm font-medium flex items-center gap-1",children:[e.jsx(ma,{})," "]});case 0:return e.jsxs("span",{className:"px-3 py-1 bg-error/20 text-error rounded-full text-sm font-medium flex items-center gap-1",children:[e.jsx(ai,{})," "]});default:return e.jsx("span",{className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm font-medium",children:"-"})}},L=C=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(C),B=C=>{const R=C.replace("Z","+07:00"),$=new Date(R);return new Intl.DateTimeFormat("th-TH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:"Asia/Bangkok"}).format($)},D=Math.ceil(h/A);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-admin-dark via-admin-darker to-black p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gold-500 via-gold-400 to-gold-500 rounded-2xl shadow-2xl p-8 mb-8 border border-gold-300",children:[e.jsxs("h1",{className:"text-3xl font-bold text-brown-900 mb-2 flex items-center gap-3",children:[e.jsx(Om,{className:"text-4xl"})," ()"]}),e.jsx("p",{className:"text-brown-700 text-lg",children:""})]}),i&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-7 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(Om,{className:"text-blue-400"})]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:i.totalPoys}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(Ur,{className:"text-warning"})]}),e.jsx("div",{className:"text-2xl font-bold text-warning",children:i.activePoys}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(ma,{className:"text-success"})]}),e.jsx("div",{className:"text-2xl font-bold text-success",children:i.completedPoys}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(ai,{className:"text-error"})]}),e.jsx("div",{className:"text-2xl font-bold text-error",children:i.cancelledPoys}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(Ic,{className:"text-blue-400"})]}),e.jsx("div",{className:"text-xl font-bold text-white",children:L(i.totalBets)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(hv,{className:"text-warning"})]}),e.jsx("div",{className:"text-xl font-bold text-warning",children:L(i.totalWins)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"/"}),e.jsx(Dn,{className:i.netProfit>=0?"text-success":"text-error"})]}),e.jsx("div",{className:`text-xl font-bold ${i.netProfit>=0?"text-success":"text-error"}`,children:L(i.netProfit)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:""})]})]}),e.jsx("div",{className:"bg-admin-card rounded-2xl shadow-2xl border border-admin-border p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:""}),e.jsx("input",{type:"date",value:x,onChange:C=>{p(C.target.value),T(1)},className:"w-full px-4 py-2 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white focus:ring-2 focus:ring-gold-500 focus:border-gold-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:""}),e.jsxs("select",{value:g,onChange:C=>{N(C.target.value),T(1)},className:"w-full px-4 py-2 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white focus:ring-2 focus:ring-gold-500 focus:border-gold-500",children:[e.jsx("option",{value:"all",className:"bg-admin-darker text-white",children:""}),e.jsx("option",{value:"1",className:"bg-admin-darker text-white",children:""}),e.jsx("option",{value:"2",className:"bg-admin-darker text-white",children:""}),e.jsx("option",{value:"0",className:"bg-admin-darker text-white",children:""})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:""}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:", , ...",value:w,onChange:C=>v(C.target.value),onKeyPress:C=>C.key==="Enter"&&S(),className:"flex-1 px-4 py-2 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-gold-500 focus:border-gold-500"}),e.jsxs("button",{onClick:S,className:"px-6 py-2 bg-gold-500 hover:bg-gold-600 text-brown-900 font-medium rounded-lg transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:[e.jsx(Ci,{}),""]})]})]})]})}),n?e.jsx("div",{className:"text-center py-20 text-gray-400 text-xl",children:"..."}):u.length===0?e.jsx("div",{className:"text-center py-20 text-gray-400 text-xl",children:""}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-admin-card rounded-2xl shadow-2xl border border-admin-border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"sticky top-0 z-10",children:e.jsxs("tr",{className:"bg-gradient-to-r from-gold-600 via-gold-500 to-gold-600 border-b border-gold-400",children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-brown-900",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-brown-900",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-brown-900",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-brown-900",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold text-brown-900",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold text-brown-900",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-brown-900",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-brown-900",children:""})]})}),e.jsx("tbody",{children:u.map((C,R)=>e.jsxs("tr",{className:`border-b border-admin-border hover:bg-admin-darker/50 transition-all ${R%2===0?"bg-admin-darker/20":""}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Om,{className:"text-gold-400"}),e.jsx("span",{className:"text-white font-medium",children:C.poy_number||"-"})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-white",children:C.poy_name||"-"}),e.jsx("div",{className:"text-xs text-gray-400",children:C.member_id})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-gray-300",children:C.note||"-"})}),e.jsx("td",{className:"px-6 py-4 text-center text-gray-300 text-sm",children:B(C.date_buy)}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("span",{className:"text-blue-400 font-medium",children:L(C.totalprice)})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("span",{className:"text-warning font-medium",children:L(C.win_price)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-center",children:M(C.status)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-center gap-2",children:e.jsxs("button",{onClick:()=>s(`/admin/lottery/poy/${C.id}`),className:"px-3 py-2 bg-info hover:bg-info/80 text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg flex items-center gap-2 text-sm",title:"",children:[e.jsx(oh,{}),""]})})})]},C.id))})]})})}),D>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between bg-admin-card rounded-xl p-4 border border-admin-border",children:[e.jsxs("div",{className:"text-gray-300 text-sm",children:[" ",(y-1)*A+1,"  ",Math.min(y*A,h),"  ",h," "]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>T(C=>Math.max(C-1,1)),disabled:y===1,className:"px-4 py-2 bg-admin-darker border border-gold-500/40 text-white rounded-lg hover:bg-gold-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:""}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,D)},(C,R)=>{const $=R+1;return e.jsx("button",{onClick:()=>T($),className:`px-4 py-2 rounded-lg transition-all ${y===$?"bg-gold-500 text-brown-900 font-bold":"bg-admin-darker border border-gold-500/40 text-white hover:bg-gold-500/20"}`,children:$},$)})}),e.jsx("button",{onClick:()=>T(C=>Math.min(C+1,D)),disabled:y===D,className:"px-4 py-2 bg-admin-darker border border-gold-500/40 text-white rounded-lg hover:bg-gold-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:""})]})]})]})]})},xA=()=>{const[s]=H4(),[n,l]=j.useState([]),[i,c]=j.useState([]),[u,d]=j.useState(!1),[h,f]=j.useState(0),[x,p]=j.useState(1),[g]=j.useState(20),[N,w]=j.useState(s.get("period_id")||"all"),[v,y]=j.useState("all"),[T,A]=j.useState("all"),[E,S]=j.useState(""),[M,L]=j.useState({total_bets:0,total_bet_amount:0,total_payout:0,net_profit:0,win_rate:0});j.useEffect(()=>{B()},[]),j.useEffect(()=>{D()},[x,N,v,T]);const B=async()=>{try{const z=await ks.getPeriods({limit:100,offset:0});z.data&&c(z.data.periods||[])}catch(z){console.error("Failed to fetch periods:",z)}},D=async()=>{if(N==="all"){l([]);return}d(!0);try{const z={limit:g,offset:(x-1)*g};v!=="all"&&(z.status=v),T!=="all"&&(z.bet_type=T);const H=await ks.getPeriodBets(N,z);H.data&&(l(H.data.bets||[]),f(H.data.total||0),C(H.data.bets||[]))}catch(z){console.error("Failed to fetch bets:",z),U.error("")}finally{d(!1)}},C=z=>{const H=z.length,F=z.reduce((ae,de)=>ae+de.amount,0),le=z.reduce((ae,de)=>ae+(de.win_amount||0),0),oe=F-le,_=z.filter(ae=>ae.status==="WIN").length,I=H>0?_/H*100:0;L({total_bets:H,total_bet_amount:F,total_payout:le,net_profit:oe,win_rate:I})},R=()=>{if(n.length===0){U.error(" Export");return}const z=["","","","","","","","","",""],H=n.map(I=>[I.member_username||"-",I.lottery_name||"-",I.period_name||"-",I.period_date||"-",$(I.bet_type),I.number,I.amount,I.payout_rate,q(I.status),I.win_amount||0]),F=[z.join(","),...H.map(I=>I.join(","))].join(`
`),le=new Blob(["\uFEFF"+F],{type:"text/csv;charset=utf-8;"}),oe=document.createElement("a"),_=URL.createObjectURL(le);oe.setAttribute("href",_),oe.setAttribute("download",`lottery_bets_${new Date().toISOString().split("T")[0]}.csv`),oe.style.visibility="hidden",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),U.success("")},$=z=>({"3top":"3","3tod":"3","3bottom":"3","2top":"2","2bottom":"2",run_top:"",run_bottom:"","4d":"4"})[z]||z,q=z=>({PENDING:"",WIN:"",LOSE:"",CANCELLED:""})[z]||z,P=z=>({"3top":"bg-info/20 text-info border border-info/30","3tod":"bg-purple-500/20 text-purple-400 border border-purple-500/30","3bottom":"bg-indigo-500/20 text-indigo-400 border border-indigo-500/30","2top":"bg-success/20 text-success border border-success/30","2bottom":"bg-teal-500/20 text-teal-400 border border-teal-500/30",run_top:"bg-warning/20 text-warning border border-warning/30",run_bottom:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30","4d":"bg-pink-500/20 text-pink-400 border border-pink-500/30"})[z]||"bg-admin-hover text-brown-300 border border-admin-border",V=z=>({PENDING:"bg-admin-hover text-brown-300 border border-admin-border",WIN:"bg-success/20 text-success border border-success/30",LOSE:"bg-error/20 text-error border border-error/30",CANCELLED:"bg-warning/20 text-warning border border-warning/30"})[z]||"bg-admin-hover text-brown-300 border border-admin-border",K=n.filter(z=>E&&z.member_username?z.member_username.toLowerCase().includes(E.toLowerCase()):!0),W=Math.ceil(h/g);return e.jsxs("div",{className:"p-6 max-w-[1800px] mx-auto",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gold-500/20 to-gold-500/10 rounded-lg flex items-center justify-center",children:e.jsx(ze,{className:"w-5 h-5 text-gold-500"})}),""]}),e.jsx("p",{className:"text-brown-300 text-sm ml-13",children:""})]}),e.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-success to-success/80 text-white rounded-lg hover:shadow-lg transition-all disabled:opacity-50 font-semibold",disabled:n.length===0,children:[e.jsx(Fr,{}),"Export CSV"]})]}),N!=="all"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-6",children:[e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm",children:""}),e.jsx("p",{className:"text-2xl font-bold text-brown-100",children:M.total_bets})]}),e.jsx("div",{className:"bg-info/20 p-3 rounded-full",children:e.jsx(ze,{className:"text-info",size:24})})]})}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm",children:""}),e.jsx("p",{className:"text-2xl font-bold text-info",children:M.total_bet_amount.toLocaleString("th-TH")})]}),e.jsx("div",{className:"bg-info/20 p-3 rounded-full",children:e.jsx(Mt,{className:"text-info",size:24})})]})}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm",children:""}),e.jsx("p",{className:"text-2xl font-bold text-warning",children:M.total_payout.toLocaleString("th-TH")})]}),e.jsx("div",{className:"bg-warning/20 p-3 rounded-full",children:e.jsx(Pt,{className:"text-warning",size:24})})]})}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm",children:""}),e.jsx("p",{className:`text-2xl font-bold ${M.net_profit>=0?"text-success":"text-error"}`,children:M.net_profit.toLocaleString("th-TH")})]}),e.jsx("div",{className:`${M.net_profit>=0?"bg-success/20":"bg-error/20"} p-3 rounded-full`,children:e.jsx(ze,{className:M.net_profit>=0?"text-success":"text-error",size:24})})]})}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-400 text-sm",children:""}),e.jsxs("p",{className:"text-2xl font-bold text-purple-400",children:[M.win_rate.toFixed(1),"%"]})]}),e.jsx("div",{className:"bg-purple-500/20 p-3 rounded-full",children:e.jsx(yv,{className:"text-purple-400",size:24})})]})})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4 bg-admin-card border border-admin-border rounded-xl shadow-lg p-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:""}),e.jsxs("select",{value:N,onChange:z=>{w(z.target.value),p(1)},className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"all",children:""}),i.map(z=>e.jsxs("option",{value:z.id,children:[z.lottery_name," - ",z.period_name]},z.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:""}),e.jsxs("select",{value:T,onChange:z=>{A(z.target.value),p(1)},className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"3top",children:"3"}),e.jsx("option",{value:"3tod",children:"3"}),e.jsx("option",{value:"3bottom",children:"3"}),e.jsx("option",{value:"2top",children:"2"}),e.jsx("option",{value:"2bottom",children:"2"}),e.jsx("option",{value:"run_top",children:""}),e.jsx("option",{value:"run_bottom",children:""}),e.jsx("option",{value:"4d",children:"4"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:""}),e.jsxs("select",{value:v,onChange:z=>{y(z.target.value),p(1)},className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"PENDING",children:""}),e.jsx("option",{value:"WIN",children:""}),e.jsx("option",{value:"LOSE",children:""}),e.jsx("option",{value:"CANCELLED",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-1",children:""}),e.jsx("input",{type:"text",placeholder:"...",value:E,onChange:z=>S(z.target.value),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:[u?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"spinner mx-auto"}),e.jsx("p",{className:"mt-4 text-brown-400",children:"..."})]}):N==="all"?e.jsx("div",{className:"p-8 text-center text-brown-400",children:""}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-gradient-to-r from-admin-bg to-admin-bg/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-brown-200 uppercase",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-brown-200 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:K.map(z=>e.jsxs("tr",{className:"hover:bg-admin-hover/50 transition-all",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brown-100",children:z.member_username||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-300",children:z.lottery_name||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-300",children:z.period_name||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-lg ${P(z.bet_type)}`,children:$(z.bet_type)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-lg font-bold text-gold-500",children:z.number}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-info",children:z.amount.toLocaleString("th-TH")}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-brown-300",children:[z.payout_rate,"x"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-lg ${V(z.status)}`,children:q(z.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:z.status==="WIN"?e.jsx("span",{className:"font-bold text-success",children:(z.win_amount||0).toLocaleString("th-TH")}):e.jsx("span",{className:"text-brown-500",children:"-"})})]},z.id))})]})}),!u&&K.length===0&&N!=="all"&&e.jsx("div",{className:"p-8 text-center text-brown-400",children:""})]}),W>1&&e.jsxs("div",{className:"mt-6 flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>p(Math.max(1,x-1)),disabled:x===1,className:"px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 hover:bg-admin-hover disabled:opacity-50 transition-all",children:""}),e.jsxs("div",{className:"px-4 py-2 bg-admin-hover rounded-lg text-brown-200",children:[" ",x," / ",W]}),e.jsx("button",{onClick:()=>p(Math.min(W,x+1)),disabled:x===W,className:"px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 hover:bg-admin-hover disabled:opacity-50 transition-all",children:""})]})]})},hA=()=>{const[s,n]=j.useState([]),[l,i]=j.useState(0),[c,u]=j.useState(0),[d,h]=j.useState(null),[f,x]=j.useState(!1);j.useEffect(()=>{p()},[]),j.useEffect(()=>{c>0&&g(c)},[c]);const p=async()=>{try{const S=await ks.getAllLotteries();n(S.filter(L=>L.status));const M=S.filter(L=>L.status);M.length>0&&u(M[0].id)}catch(S){console.error("Failed to fetch lotteries:",S),U.error("")}},g=async S=>{x(!0);try{const L=await(await fetch(`http://localhost:3000/api/v1/admin/lottery/stock/current/${S}`,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}})).json();L.status==="success"&&L.data?h(L.data):h(null)}catch(M){console.error("Failed to fetch current stock:",M),h(null)}finally{x(!1)}},w=(S=>s.filter(M=>S===0||M.huayGroup===S))(l),v=S=>({1:"",2:"",3:"",4:""})[S]||` ${S}`,y=S=>{switch(S){case 0:return e.jsx("span",{className:"badge bg-secondary",children:""});case 1:return e.jsx("span",{className:"badge bg-success",children:""});case 2:return e.jsx("span",{className:"badge bg-primary",children:""});default:return e.jsx("span",{className:"badge bg-secondary",children:"-"})}},T=S=>S?new Date(S).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",A=S=>S.toLocaleString("th-TH",{minimumFractionDigits:2}),E={total:s.length,active:s.filter(S=>S.status).length,group1:s.filter(S=>S.huayGroup===1).length,group2:s.filter(S=>S.huayGroup===2).length,group3:s.filter(S=>S.huayGroup===3).length,group4:s.filter(S=>S.huayGroup===4).length};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:""}),e.jsx("p",{className:"text-gray-600",children:" "})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded",children:e.jsx(os,{className:"text-blue-600 w-6 h-6"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-gray-500 text-xs",children:""}),e.jsx("div",{className:"text-xl font-bold text-gray-800",children:E.total})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded",children:e.jsx(os,{className:"text-green-600 w-6 h-6"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-gray-500 text-xs",children:""}),e.jsx("div",{className:"text-xl font-bold text-gray-800",children:E.active})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow cursor-pointer hover:bg-blue-50",onClick:()=>i(l===1?0:1),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded",children:e.jsx(os,{className:"text-purple-600 w-6 h-6"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-gray-500 text-xs",children:""}),e.jsx("div",{className:"text-xl font-bold text-gray-800",children:E.group1})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow cursor-pointer hover:bg-blue-50",onClick:()=>i(l===2?0:2),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-orange-100 p-3 rounded",children:e.jsx(os,{className:"text-orange-600 w-6 h-6"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-gray-500 text-xs",children:""}),e.jsx("div",{className:"text-xl font-bold text-gray-800",children:E.group2})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow cursor-pointer hover:bg-blue-50",onClick:()=>i(l===3?0:3),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-indigo-100 p-3 rounded",children:e.jsx(os,{className:"text-indigo-600 w-6 h-6"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-gray-500 text-xs",children:""}),e.jsx("div",{className:"text-xl font-bold text-gray-800",children:E.group3})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow cursor-pointer hover:bg-blue-50",onClick:()=>i(l===4?0:4),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-pink-100 p-3 rounded",children:e.jsx(os,{className:"text-pink-600 w-6 h-6"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-gray-500 text-xs",children:""}),e.jsx("div",{className:"text-xl font-bold text-gray-800",children:E.group4})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(Fs,{})," "]}),e.jsxs("select",{value:l,onChange:S=>i(parseInt(S.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"--  --"}),e.jsx("option",{value:1,children:""}),e.jsx("option",{value:2,children:""}),e.jsx("option",{value:3,children:""}),e.jsx("option",{value:4,children:""})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(os,{})," "]}),e.jsxs("select",{value:c,onChange:S=>u(parseInt(S.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"--  --"}),w.map(S=>e.jsxs("option",{value:S.id,children:[S.huayName," (",v(S.huayGroup),")"]},S.id))]})]})]})}),f?e.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"..."})]}):d?e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-4",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(yt,{}),d.stockName]}),e.jsx("div",{className:"text-sm opacity-90 mt-1",children:T(d.stockTime)})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:T(d.dateBuy)})]}),e.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:T(d.dateClose)})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"text-lg font-semibold",children:y(d.status)})]})]}),d.status===2&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(os,{className:"text-yellow-600"}),""]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[d.result3Top&&e.jsxs("div",{className:"bg-white p-3 rounded",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"3 "}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.result3Top})]}),d.result3Bottom&&e.jsxs("div",{className:"bg-white p-3 rounded",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"3 "}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.result3Bottom})]}),d.result2Top&&e.jsxs("div",{className:"bg-white p-3 rounded",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"2 "}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.result2Top})]}),d.result2Bottom&&e.jsxs("div",{className:"bg-white p-3 rounded",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"2 "}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.result2Bottom})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A(d.totalBet||0)})]}),e.jsx(ze,{className:"text-blue-400 w-10 h-10"})]})}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:A(d.totalWin||0)})]}),e.jsx(ze,{className:"text-red-400 w-10 h-10"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"/"}),e.jsx("div",{className:`text-2xl font-bold ${(d.totalProfit||0)>=0?"text-green-600":"text-red-600"}`,children:A(d.totalProfit||0)})]}),e.jsx(ze,{className:"text-green-400 w-10 h-10"})]})})]})]})]}):c>0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(yt,{className:"w-16 h-16 mx-auto"})}),e.jsx("p",{className:"text-gray-600",children:""})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(os,{className:"w-16 h-16 mx-auto"})}),e.jsx("p",{className:"text-gray-600",children:""})]})]})},Mn={getDailyList:async s=>{const n=new URLSearchParams;return s?.date&&n.append("date",s.date),s?.stock_type&&n.append("stock_type",s.stock_type.toString()),s?.status!==void 0&&n.append("status",s.status.toString()),s?.search&&n.append("search",s.search),(await J.get(`/lottery/daily/list${n.toString()?"?"+n.toString():""}`)).data},getStockBets:async s=>(await J.get(`/lottery/daily/${s}/bets`)).data,getBetDetail:async(s,n,l)=>(await J.get(`/lottery/daily/${s}/bets/detail?bet_type=${n}&number=${l}`)).data,openLottery:async s=>(await J.post(`/lottery/daily/${s}/open`)).data,closeLottery:async s=>(await J.post(`/lottery/daily/${s}/close`)).data,cancelLottery:async s=>(await J.post(`/lottery/daily/${s}/cancel`)).data,saveResult:async s=>(await J.post(`/lottery/daily/${s.stockId}/result`,s)).data},fA=({isOpen:s,lottery:n,onClose:l,onSuccess:i})=>{const[c,u]=j.useState(!1),[d,h]=j.useState(""),[f,x]=j.useState(""),[p,g]=j.useState(""),[N,w]=j.useState(""),[v,y]=j.useState(""),[T,A]=j.useState(""),[E,S]=j.useState("");j.useEffect(()=>{s&&n&&(h(""),x(""),g(""),w(""),y(""),A(""),S(""))},[s,n]),j.useEffect(()=>{f&&f.length===3&&A(f.substring(1,3))},[f]),j.useEffect(()=>{v&&v.length===4&&(x(v.substring(1,4)),A(v.substring(2,4)))},[v]);const M=()=>n?.huayCode?.toLowerCase()==="glo",L=()=>n?.has4d===!0,B=async()=>{if(n){if(M()){if(!d||d.length!==6){U.error(" 6 ");return}if(!p||p.trim()===""){U.error(" 3  (: 123,456)");return}if(!N||N.trim()===""){U.error(" 3  (: 654,321)");return}}else if(!f||f.length!==3){U.error(" 3 ");return}if(L()&&(!v||v.length!==4)){U.error(" 4 ");return}if(!E||E.length!==2){U.error(" 2 ");return}try{u(!0);const D={stockId:n.stockId,stockWin:f,stock2Up:T,stock2Low:E};M()&&(D.stockWin1=d,D.g3Front=p,D.g3Down=N),L()&&v&&(D.g4Up=v),await Mn.saveResult(D),U.success(""),i(),l()}catch(D){console.error("Failed to save lottery result:",D),U.error(D.response?.data?.message||"")}finally{u(!1)}}};return n?e.jsx(X2,{children:s&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!c&&l(),className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),e.jsxs(st.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-gradient-to-br from-admin-card via-admin-darker to-admin-card rounded-2xl border border-gold-500/30 shadow-2xl shadow-gold-500/20 max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-gold-600 via-gold-500 to-gold-600 py-4 px-6 border-b border-gold-400/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(os,{className:"text-2xl text-brown-900"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-brown-900",children:""}),e.jsx("p",{className:"text-brown-700 text-sm",children:n.stockName})]})]}),e.jsx("button",{onClick:l,disabled:c,className:"p-2 hover:bg-brown-900/20 rounded-lg transition-colors disabled:opacity-50",children:e.jsx(We,{className:"text-xl text-brown-900"})})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:e.jsxs("div",{className:"space-y-4",children:[M()&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gold-400 font-semibold mb-2",children:[" 6  ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:d,onChange:D=>{const C=D.target.value.replace(/[^0-9]/g,"");C.length<=6&&h(C)},placeholder:"123456",maxLength:6,className:"w-full px-4 py-3 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white text-center text-2xl font-bold placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gold-500/50 focus:border-gold-500",disabled:c}),e.jsx("p",{className:"text-gray-400 text-xs mt-1 text-center",children:" 1 (6 )"})]}),M()&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gold-400 font-semibold mb-2",children:["3  ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:p,onChange:D=>g(D.target.value),placeholder:"123,456",className:"w-full px-4 py-3 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white text-center text-lg font-bold placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gold-500/50 focus:border-gold-500",disabled:c}),e.jsx("p",{className:"text-gray-400 text-xs mt-1 text-center",children:"  123,456"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gold-400 font-semibold mb-2",children:["3  ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:N,onChange:D=>w(D.target.value),placeholder:"654,321",className:"w-full px-4 py-3 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white text-center text-lg font-bold placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gold-500/50 focus:border-gold-500",disabled:c}),e.jsx("p",{className:"text-gray-400 text-xs mt-1 text-center",children:"  654,321"})]})]}),L()&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gold-400 font-semibold mb-2",children:["4  ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:v,onChange:D=>{const C=D.target.value.replace(/[^0-9]/g,"");C.length<=4&&y(C)},placeholder:"1234",maxLength:4,className:"w-full px-4 py-3 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white text-center text-2xl font-bold placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gold-500/50 focus:border-gold-500",disabled:c})]}),!M()&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gold-400 font-semibold mb-2",children:["3  ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:f,onChange:D=>{const C=D.target.value.replace(/[^0-9]/g,"");C.length<=3&&x(C)},placeholder:"123",maxLength:3,className:"w-full px-4 py-3 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white text-center text-2xl font-bold placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gold-500/50 focus:border-gold-500",disabled:c})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gold-400 font-semibold mb-2",children:"2 "}),e.jsx("input",{type:"text",value:T,readOnly:!0,placeholder:"12",className:"w-full px-4 py-3 bg-black/20 border-2 border-gold-500/20 rounded-xl text-gray-400 text-center text-xl font-bold placeholder-gray-500 cursor-not-allowed",disabled:!0}),e.jsx("p",{className:"text-gray-400 text-xs mt-1 text-center",children:"2  3  ()"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gold-400 font-semibold mb-2",children:["2  ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:E,onChange:D=>{const C=D.target.value.replace(/[^0-9]/g,"");C.length<=2&&S(C)},placeholder:"34",maxLength:2,className:"w-full px-4 py-3 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white text-center text-xl font-bold placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gold-500/50 focus:border-gold-500",disabled:c})]})]}),e.jsxs("div",{className:"bg-info/10 border border-info/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-info text-sm",children:e.jsx("strong",{children:":"})}),e.jsxs("ul",{className:"text-info/80 text-xs mt-2 space-y-1 list-disc list-inside",children:[M()&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:" 6  =  1"}),e.jsx("li",{children:"3 / =  (  123,456)"})]}),e.jsx("li",{children:"2  (2 ) = 2  3  ( 123  23)"}),e.jsx("li",{children:"2  = "}),L()&&e.jsx("li",{children:"4  (1234)  3  (234), 2  (34)"})]})]})]})}),e.jsxs("div",{className:"bg-admin-darker/50 border-t border-gold-500/20 py-4 px-6 flex justify-end gap-3",children:[e.jsx("button",{onClick:l,disabled:c,className:"px-6 py-2.5 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""}),e.jsxs("button",{onClick:B,disabled:c,className:"px-6 py-2.5 bg-gradient-to-r from-gold-600 to-gold-500 hover:from-gold-700 hover:to-gold-600 text-brown-900 font-bold rounded-lg transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx(ha,{}),c?"...":""]})]})]})]})}):null},nc={getAll:async()=>(await J.get("/lottery/huay-limit")).data.data||[],getByLotteryId:async s=>(await J.get(`/lottery/${s}/huay-limit`)).data.data||[],getById:async s=>(await J.get(`/lottery/huay-limit/${s}`)).data.data,create:async(s,n)=>(await J.post(`/lottery/${s}/huay-limit`,n)).data.data,update:async(s,n)=>(await J.put(`/lottery/huay-limit/${s}`,n)).data.data,delete:async s=>{await J.delete(`/lottery/huay-limit/${s}`)}},pA=({isOpen:s,onClose:n,lotteryId:l,lotteryName:i})=>{const[c,u]=j.useState(!1),[d,h]=j.useState([]),[f,x]=j.useState(null),[p,g]=j.useState({}),[N,w]=j.useState({}),v=[{value:"3top",label:" 3 "},{value:"3tode",label:" 3 "},{value:"3bottom",label:" 3 "},{value:"2top",label:" 2 "},{value:"2bottom",label:" 2 "},{value:"2tode",label:" 2 "},{value:"run_top",label:""},{value:"run_bottom",label:""}];j.useEffect(()=>{if(s){y();const D={};v.forEach(C=>{D[C.value]=!0}),w(D)}},[s,l]);const y=async()=>{try{u(!0);const D=await nc.getByLotteryId(l);h(D)}catch(D){console.error("Failed to fetch number limits:",D),alert("")}finally{u(!1)}},T=Ut.useMemo(()=>{const D={};return d.forEach(C=>{D[C.poyOption]||(D[C.poyOption]=[]),D[C.poyOption].push(C)}),D},[d]),A=()=>{x(-1),g({huayId:l,huayType:"g",poyOption:"3top",multiply:50,pPrice:100,status:1})},E=D=>{x(D.id),g({huayType:D.huayType,poyOption:D.poyOption,poyNumber:D.poyNumber||void 0,multiply:D.multiply,pPrice:D.pPrice,status:D.status})},S=async()=>{try{f===-1?(await nc.create(l,p),alert("")):f&&(await nc.update(f,p),alert("")),x(null),g({}),y()}catch(D){console.error("Failed to save:",D),alert(D.response?.data?.message||"")}},M=async D=>{if(confirm("?"))try{await nc.delete(D),alert(""),y()}catch(C){alert(C.response?.data?.message||"")}},L=()=>{x(null),g({})},B=D=>{w(C=>({...C,[D]:!C[D]}))};return s?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card rounded-2xl shadow-2xl border border-admin-border w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gold-500 via-gold-400 to-gold-500 p-6 flex justify-between items-center",children:[e.jsxs("h2",{className:"text-2xl font-bold text-brown-900",children:[" - ",i]}),e.jsx("button",{onClick:n,className:"text-brown-900 hover:text-brown-700 transition-colors p-2 hover:bg-white/20 rounded-lg",children:e.jsx(Dt,{className:"text-2xl"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"mb-4 flex justify-end",children:e.jsxs("button",{onClick:A,className:"px-4 py-2 bg-success hover:bg-green-600 text-white rounded-lg transition-all shadow-lg flex items-center gap-2",children:[e.jsx(dh,{}),""]})}),f!==null&&e.jsxs("div",{className:"bg-admin-darker border border-admin-border rounded-xl p-4 mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gold-400 mb-4",children:f===-1?"":""}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:""}),e.jsx("select",{value:p.poyOption||"",onChange:D=>g({...p,poyOption:D.target.value}),className:"input w-full",children:v.map(D=>e.jsx("option",{value:D.value,children:D.label},D.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 text-sm mb-2",children:[" ",e.jsx("span",{className:"text-xs text-gray-400",children:"(123,456,789)"})]}),e.jsx("input",{type:"text",value:p.poyNumber||"",onChange:D=>g({...p,poyNumber:D.target.value}),className:"input w-full",placeholder:"123,456,789"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:" ()"}),e.jsx("input",{type:"number",value:p.multiply||"",onChange:D=>g({...p,multiply:parseFloat(D.target.value)}),className:"input w-full",placeholder:"50",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:" ()"}),e.jsx("input",{type:"number",value:p.pPrice||"",onChange:D=>g({...p,pPrice:parseFloat(D.target.value)}),className:"input w-full",placeholder:"100",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:""}),e.jsxs("select",{value:p.status||1,onChange:D=>g({...p,status:parseInt(D.target.value)}),className:"input w-full",children:[e.jsx("option",{value:1,children:""}),e.jsx("option",{value:0,children:""})]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:S,className:"flex-1 px-4 py-2 bg-success hover:bg-green-600 text-white rounded-lg flex items-center justify-center gap-2",children:[e.jsx(I6,{})," "]}),e.jsx("button",{onClick:L,className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg",children:""})]})]}),c?e.jsx("div",{className:"text-center py-10 text-gray-400",children:"..."}):d.length===0?e.jsx("div",{className:"text-center py-10 text-gray-400",children:""}):e.jsx("div",{className:"space-y-4",children:v.map(D=>{const C=T[D.value];if(!C||C.length===0)return null;const R=N[D.value];return e.jsxs("div",{className:"bg-admin-darker border border-admin-border rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>B(D.value),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gold-400 font-bold text-lg",children:D.label}),e.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded-full",children:C.length})]}),R?e.jsx(z6,{className:"text-gray-400"}):e.jsx(O6,{className:"text-gray-400"})]}),R&&e.jsx("div",{className:"p-4 space-y-3",children:C.map($=>e.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-gold-500 transition-all",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400",children:""}),e.jsx("p",{className:"text-white font-semibold",children:$.poyNumber||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400",children:""}),e.jsxs("p",{className:"text-warning font-bold",children:["1 : ",$.multiply]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400",children:""}),e.jsxs("p",{className:"text-info font-semibold",children:[$.pPrice," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-700",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${$.status===1?"bg-success/20 text-success":"bg-gray-600/20 text-gray-400"}`,children:$.status===1?"":""}),e.jsx("div",{className:"flex-1"}),e.jsxs("button",{onClick:()=>E($),className:"px-3 py-1 bg-warning hover:bg-yellow-600 text-brown-900 rounded-lg flex items-center gap-1 text-sm",children:[e.jsx(zn,{})," "]}),e.jsxs("button",{onClick:()=>M($.id),className:"px-3 py-1 bg-error hover:bg-red-600 text-white rounded-lg flex items-center gap-1 text-sm",children:[e.jsx(Un,{})," "]})]})]},$.id))})]},D.value)})})]}),e.jsx("div",{className:"bg-admin-darker border-t border-admin-border p-4 flex justify-end",children:e.jsx("button",{onClick:n,className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg",children:""})})]})}):null},Wr=({isOpen:s,onClose:n,onConfirm:l,title:i,message:c,confirmText:u="",cancelText:d="",type:h="warning"})=>{if(!s)return null;const f={danger:"bg-error/10 text-error",warning:"bg-warning/10 text-warning",info:"bg-blue-500/10 text-blue-500"},x={danger:"bg-error hover:bg-error/90",warning:"bg-warning hover:bg-warning/90",info:"bg-blue-500 hover:bg-blue-600"};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-2xl max-w-md w-full animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-admin-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${f[h]}`,children:e.jsx(zr,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-lg font-semibold text-brown-100",children:i})]}),e.jsx("button",{onClick:n,className:"p-2 text-brown-400 hover:text-brown-200 hover:bg-admin-hover rounded-lg transition-colors",children:e.jsx(We,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-brown-300 leading-relaxed",children:c})}),e.jsxs("div",{className:"flex gap-3 p-6 border-t border-admin-border",children:[e.jsx("button",{onClick:n,className:"flex-1 px-4 py-2.5 bg-admin-hover text-brown-200 hover:bg-admin-border rounded-lg transition-colors font-medium",children:d}),e.jsx("button",{onClick:()=>{l(),n()},className:`flex-1 px-4 py-2.5 text-white rounded-lg transition-colors font-medium ${x[h]}`,children:u})]})]})})},bA=()=>{const s=kt(),[n,l]=j.useState(!1),[i,c]=j.useState(null),[u,d]=j.useState([]),[h,f]=j.useState(()=>{const H=new Date().toLocaleString("en-US",{timeZone:"Asia/Bangkok"});return new Date(H).toISOString().split("T")[0]}),[x,p]=j.useState("all"),[g,N]=j.useState(""),[w,v]=j.useState(!1),[y,T]=j.useState(null),[A,E]=j.useState(!1),[S,M]=j.useState(null),[L,B]=j.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),D=Ut.useMemo(()=>{const H={};return u.forEach(F=>{const le=F.lotteryGroup;if(!H[le]){const oe={0:"//",1:"",2:"",3:"",4:"",5:""};H[le]={name:oe[le]||"",items:[]}}H[le].items.push(F)}),Object.values(H).forEach(F=>{F.items.sort((le,oe)=>{const _=new Date(le.time).getTime(),I=new Date(oe.time).getTime();return _-I})}),Object.entries(H).sort(([F],[le])=>parseInt(F)-parseInt(le)).map(([F,le])=>({groupId:parseInt(F),...le}))},[u]),C=j.useCallback(H=>({th:"",la:"",vn:"",cn:"",jp:"",kr:"",sg:"",tw:"",hk:"",gb:"",de:"",ru:"",us:""})[H?.toLowerCase()]||"",[]),R=j.useCallback(async()=>{try{l(!0);const H={date:h};x!=="all"&&(H.status=parseInt(x)),g&&(H.search=g);const F=await Mn.getDailyList(H);F.status==="success"&&F.data&&(c(F.data.statistics),d(F.data.lotteries))}catch(H){console.error("Failed to fetch daily list:",H),U.error("")}finally{l(!1)}},[h,x,g]);j.useEffect(()=>{R()},[R]);const $=j.useCallback(()=>{R()},[R]),q=j.useCallback(async H=>{try{const F=await Mn.openLottery(H);F.status==="success"?(U.success(F.message||""),R()):U.error(F.message||"")}catch(F){console.error("Failed to open lottery:",F),U.error(F.response?.data?.message||"")}},[R]),P=j.useCallback(async H=>{try{const F=await Mn.closeLottery(H);F.status==="success"?(U.success(F.message||""),R()):U.error(F.message||"")}catch(F){console.error("Failed to close lottery:",F),U.error(F.response?.data?.message||"")}},[R]),V=j.useCallback(async H=>{try{const F=await Mn.cancelLottery(H);F.status==="success"?(U.success(F.message||""),R()):U.error(F.message||"")}catch(F){console.error("Failed to cancel lottery:",F),U.error(F.response?.data?.message||"")}},[R]),K=j.useCallback(H=>{switch(H){case 1:return e.jsxs("span",{className:"px-3 py-1 bg-success/20 text-success rounded-full text-sm font-medium flex items-center gap-1",children:[e.jsx(ma,{})," "]});case 2:return e.jsxs("span",{className:"px-3 py-1 bg-info/20 text-info rounded-full text-sm font-medium flex items-center gap-1",children:[e.jsx(zm,{})," "]});case 0:return e.jsxs("span",{className:"px-3 py-1 bg-error/20 text-error rounded-full text-sm font-medium flex items-center gap-1",children:[e.jsx(ai,{})," "]});case 4:return e.jsxs("span",{className:"px-3 py-1 bg-warning/20 text-warning rounded-full text-sm font-medium flex items-center gap-1",children:[e.jsx(Ur,{})," "]});default:return e.jsx("span",{className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm font-medium",children:"-"})}},[]),W=j.useCallback(H=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(H),[]),z=j.useCallback(H=>{const F=H.replace("Z","+07:00"),le=new Date(F);return new Intl.DateTimeFormat("th-TH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:"Asia/Bangkok"}).format(le)},[]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-admin-dark via-admin-darker to-black p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gold-500 via-gold-400 to-gold-500 rounded-2xl shadow-2xl p-8 mb-8 border border-gold-300",children:[e.jsxs("h1",{className:"text-3xl font-bold text-brown-900 mb-2 flex items-center gap-3",children:[e.jsx(Dn,{className:"text-4xl"}),""]}),e.jsx("p",{className:"text-brown-700 text-lg",children:"  "})]}),i&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(Dn,{className:"text-blue-400"})]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:i.totalLotteries})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(ma,{className:"text-success"})]}),e.jsx("div",{className:"text-2xl font-bold text-success",children:i.openLotteries})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(Ur,{className:"text-warning"})]}),e.jsx("div",{className:"text-2xl font-bold text-warning",children:i.closedLotteries})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(zm,{className:"text-info"})]}),e.jsx("div",{className:"text-2xl font-bold text-info",children:i.resultAnnounced})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(ai,{className:"text-error"})]}),e.jsx("div",{className:"text-2xl font-bold text-error",children:i.cancelledLotteries})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(Ic,{className:"text-blue-400"})]}),e.jsx("div",{className:"text-xl font-bold text-white",children:W(i.totalBets)})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:""}),e.jsx(hv,{className:"text-warning"})]}),e.jsx("div",{className:"text-xl font-bold text-warning",children:W(i.totalWins)})]}),e.jsxs("div",{className:"bg-admin-card rounded-xl p-4 border border-admin-border shadow-lg hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"/"}),e.jsx(Dn,{className:i.totalProfitLoss>=0?"text-success":"text-error"})]}),e.jsx("div",{className:`text-xl font-bold ${i.totalProfitLoss>=0?"text-success":"text-error"}`,children:W(i.totalProfitLoss)})]})]}),e.jsx("div",{className:"bg-admin-card rounded-2xl shadow-2xl border border-admin-border p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:""}),e.jsx("input",{type:"date",value:h,onChange:H=>f(H.target.value),className:"w-full px-4 py-2 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white focus:ring-2 focus:ring-gold-500 focus:border-gold-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:""}),e.jsxs("select",{value:x,onChange:H=>p(H.target.value),className:"w-full px-4 py-2 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white focus:ring-2 focus:ring-gold-500 focus:border-gold-500",children:[e.jsx("option",{value:"all",className:"bg-admin-darker text-white",children:""}),e.jsx("option",{value:"1",className:"bg-admin-darker text-white",children:""}),e.jsx("option",{value:"4",className:"bg-admin-darker text-white",children:""}),e.jsx("option",{value:"2",className:"bg-admin-darker text-white",children:""}),e.jsx("option",{value:"0",className:"bg-admin-darker text-white",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:""}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"...",value:g,onChange:H=>N(H.target.value),onKeyPress:H=>H.key==="Enter"&&$(),className:"flex-1 px-4 py-2 bg-black/40 border-2 border-gold-500/40 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-gold-500 focus:border-gold-500"}),e.jsxs("button",{onClick:$,className:"px-6 py-2 bg-gold-500 hover:bg-gold-600 text-brown-900 font-medium rounded-lg transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:[e.jsx(Ci,{}),""]})]})]})]})}),n?e.jsx("div",{className:"text-center py-20 text-gray-400 text-xl",children:"..."}):D.length===0?e.jsx("div",{className:"text-center py-20 text-gray-400 text-xl",children:""}):e.jsx("div",{className:"bg-admin-card rounded-2xl shadow-2xl border border-admin-border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"sticky top-0 z-10",children:e.jsxs("tr",{className:"bg-admin-darker border-b border-admin-border",children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-300",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-gray-300",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-gray-300",children:""}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-gray-300",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold text-gray-300",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold text-gray-300",children:""}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold text-gray-300",children:"/"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-gray-300",children:""})]})}),e.jsx("tbody",{children:D.map(H=>e.jsxs(Ut.Fragment,{children:[e.jsx("tr",{className:"bg-gradient-to-r from-gold-600 via-gold-500 to-gold-600",children:e.jsx("td",{colSpan:8,className:"px-6 py-3 border-t-2 border-gold-400",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-brown-900",children:H.name}),e.jsxs("span",{className:"text-sm font-medium text-brown-800 bg-brown-900/20 px-3 py-1 rounded-full",children:[H.items.length," "]})]})})}),H.items.map((F,le)=>e.jsxs("tr",{className:`border-b border-admin-border hover:bg-admin-darker/50 transition-all ${le%2===0?"bg-admin-darker/20":""}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:C(F.icon)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:F.name}),F.has4d&&e.jsx("span",{className:"text-xs bg-gold-500/20 text-gold-400 px-2 py-0.5 rounded",children:" 4 "})]})]})}),e.jsx("td",{className:"px-6 py-4 text-center text-gray-300 text-sm",children:z(F.time)}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-center",children:K(F.status)})}),e.jsx("td",{className:"px-6 py-4",children:F.status===2?e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsx("div",{children:F.has4d&&F.result4Up?e.jsx("div",{className:"px-2 py-1 bg-gold-500/20 text-gold-400 font-bold rounded text-sm",children:F.result4Up}):e.jsx("span",{className:"text-gray-600 text-xs",children:"-"})}),e.jsx("div",{children:F.result3Up?e.jsx("div",{className:"px-2 py-1 bg-info/20 text-info font-bold rounded text-sm",children:F.result3Up}):e.jsx("span",{className:"text-gray-600 text-xs",children:"-"})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[F.result2Up?e.jsx("div",{className:"px-2 py-0.5 bg-success/20 text-success font-bold rounded text-xs",children:F.result2Up}):e.jsx("span",{className:"text-gray-600 text-xs",children:"-"}),F.result2Low?e.jsx("div",{className:"px-2 py-0.5 bg-warning/20 text-warning font-bold rounded text-xs",children:F.result2Low}):e.jsx("span",{className:"text-gray-600 text-xs",children:"-"})]})]}):e.jsx("div",{className:"text-center text-gray-500 text-sm",children:"-"})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("span",{className:"text-blue-400 font-medium",children:W(F.betAmount)})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("span",{className:"text-warning font-medium",children:W(F.winAmount)})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("span",{className:`font-bold ${F.profitLoss>=0?"text-success":"text-error"}`,children:W(F.profitLoss)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("button",{onClick:()=>s(`/admin/lottery/daily/${F.id}`),className:"px-3 py-2 bg-info hover:bg-info/80 text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg flex items-center gap-2 text-sm",title:"",children:[e.jsx(Dn,{}),""]}),e.jsxs("button",{onClick:()=>{M({lotteryId:F.stockType,lotteryName:F.name}),E(!0)},className:"px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg flex items-center gap-2 text-sm",title:"",children:[e.jsx(V6,{}),""]}),F.status===1&&e.jsxs("button",{onClick:()=>{B({isOpen:!0,title:"",message:"?",onConfirm:()=>P(F.id),type:"warning"})},className:"px-3 py-2 bg-warning hover:bg-warning/80 text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg flex items-center gap-2 text-sm",title:"",children:[e.jsx(G6,{}),""]}),F.status===4&&e.jsxs("button",{onClick:()=>{B({isOpen:!0,title:"",message:"?",onConfirm:()=>q(F.id),type:"info"})},className:"px-3 py-2 bg-success hover:bg-success/80 text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg flex items-center gap-2 text-sm",title:"",children:[e.jsx($6,{}),""]}),F.status>=1&&F.status!==0&&e.jsxs("button",{onClick:()=>{T({stockId:F.id,stockName:F.name,lotteryGroup:F.lotteryGroup,huayCode:F.huayCode,has4d:F.has4d}),v(!0)},className:"px-3 py-2 bg-gold-500 hover:bg-gold-600 text-brown-900 font-medium rounded-lg transition-all shadow-md hover:shadow-lg flex items-center gap-2 text-sm",title:F.status===2?"":"",children:[F.status===2?e.jsx(zn,{}):e.jsx(zm,{}),F.status===2?"":""]}),F.status!==2&&F.status!==0&&e.jsxs("button",{onClick:()=>{B({isOpen:!0,title:"",message:"? ",onConfirm:()=>V(F.id),type:"danger"})},className:"px-3 py-2 bg-error hover:bg-error/80 text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg flex items-center gap-2 text-sm",title:"",children:[e.jsx(ai,{}),""]})]})})]},F.id))]},H.groupId))})]})})}),e.jsx(fA,{isOpen:w,lottery:y,onClose:()=>{v(!1),T(null)},onSuccess:()=>{v(!1),T(null),R()}}),S&&e.jsx(pA,{isOpen:A,onClose:()=>{E(!1),M(null)},lotteryId:S.lotteryId,lotteryName:S.lotteryName}),e.jsx(Wr,{isOpen:L.isOpen,onClose:()=>B({...L,isOpen:!1}),onConfirm:()=>{L.onConfirm(),B({...L,isOpen:!1})},title:L.title,message:L.message,type:L.type})]})},Z2=j.memo(({isOpen:s,onClose:n,stockId:l,betType:i,number:c,betTypeName:u})=>{const[d,h]=j.useState(!1),[f,x]=j.useState([]),p=j.useCallback(async()=>{try{h(!0);const y=await Mn.getBetDetail(l,i,c);y.status==="success"&&y.data&&x(y.data.betDetail)}catch(y){console.error("Failed to fetch bet detail:",y)}finally{h(!1)}},[l,i,c]);j.useEffect(()=>{s&&l&&i&&c&&p()},[s,p]);const g=j.useCallback(y=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(y),[]),N=j.useCallback(y=>{const T=new Date(y);return new Intl.DateTimeFormat("th-TH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(T)},[]),w=j.useMemo(()=>f.reduce((y,T)=>y+T.amount,0),[f]),v=j.useMemo(()=>f.reduce((y,T)=>y+T.winAmount,0),[f]);return s?e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card rounded-2xl shadow-2xl border border-admin-border w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gold-500 via-gold-400 to-gold-500 p-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-brown-900",children:""}),e.jsxs("p",{className:"text-brown-700 mt-1",children:[u," | : ",e.jsx("span",{className:"font-bold text-3xl ml-2",children:c})]})]}),e.jsx("button",{onClick:n,className:"p-3 hover:bg-brown-900/20 rounded-xl transition-all",children:e.jsx(Dt,{className:"text-2xl text-brown-900"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:d?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-gold-500 mb-4"}),e.jsx("p",{className:"text-gray-400",children:"..."})]}):f.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Ic,{className:"text-6xl text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-xl",children:""})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"sticky top-0 z-10",children:e.jsxs("tr",{className:"bg-gradient-to-r from-admin-darker via-brown-900 to-admin-darker border-b-2 border-gold-500",children:[e.jsx("th",{className:"px-4 py-4 text-left text-sm font-bold text-gold-400",children:""}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-bold text-gold-400",children:""}),e.jsx("th",{className:"px-4 py-4 text-right text-sm font-bold text-gold-400",children:""}),e.jsx("th",{className:"px-4 py-4 text-right text-sm font-bold text-gold-400",children:""}),e.jsx("th",{className:"px-4 py-4 text-center text-sm font-bold text-gold-400",children:""}),e.jsx("th",{className:"px-4 py-4 text-center text-sm font-bold text-gold-400",children:""}),e.jsx("th",{className:"px-4 py-4 text-center text-sm font-bold text-gold-400",children:""})]})}),e.jsx("tbody",{children:f.map((y,T)=>e.jsxs("tr",{className:"border-b border-admin-border/30 hover:bg-admin-darker/50 transition-all",children:[e.jsx("td",{className:"px-4 py-3 text-gray-300 font-medium",children:T+1}),e.jsx("td",{className:"px-4 py-3 text-white font-medium",children:y.memberName}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx("span",{className:"text-blue-400 font-bold",children:g(y.amount)})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx("span",{className:"text-warning font-bold",children:y.winAmount>0?g(y.winAmount):"-"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:y.status===1?e.jsx("span",{className:"px-3 py-1 bg-success/20 text-success rounded-full text-xs font-bold border border-success/30",children:""}):y.status===2?e.jsx("span",{className:"px-3 py-1 bg-info/20 text-info rounded-full text-xs font-bold border border-info/30",children:""}):e.jsx("span",{className:"px-3 py-1 bg-gray-500/20 text-gray-400 rounded-full text-xs font-bold border border-gray-500/30",children:""})}),e.jsx("td",{className:"px-4 py-3 text-center text-gray-400 text-sm",children:N(y.createdAt)}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("a",{href:`/admin/lottery/poy/${y.poyId}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gold-500/20 hover:bg-gold-500/30 text-gold-400 rounded-lg text-xs font-bold transition-all inline-block border border-gold-500/30",children:""})})]},y.betId))}),e.jsx("tfoot",{className:"sticky bottom-0",children:e.jsxs("tr",{className:"bg-gradient-to-r from-admin-darker via-brown-900 to-admin-darker border-t-2 border-gold-500 font-bold",children:[e.jsx("td",{colSpan:2,className:"px-4 py-4 text-right text-gold-400 text-lg",children:":"}),e.jsx("td",{className:"px-4 py-4 text-right text-blue-400 text-lg",children:g(w)}),e.jsx("td",{className:"px-4 py-4 text-right text-warning text-lg",children:g(v)}),e.jsxs("td",{colSpan:3,className:"px-4 py-4 text-left text-gray-400 text-sm",children:["(",f.length," )"]})]})})]})})}),e.jsx("div",{className:"bg-admin-darker p-4 flex justify-end border-t border-admin-border",children:e.jsx("button",{onClick:n,className:"px-6 py-2 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white font-bold rounded-lg transition-all shadow-lg",children:""})})]})}):null});Z2.displayName="BetDetailModal";const gA=()=>{const{lotteryId:s}=ji(),n=s,l=kt(),[i,c]=j.useState(!1),[u,d]=j.useState(null),[h,f]=j.useState(!1),[x,p]=j.useState(null),g=j.useCallback(async()=>{try{c(!0);const S=await Mn.getStockBets(parseInt(n));S.status==="success"&&S.data&&d(S.data)}catch(S){console.error("Failed to fetch stock bets:",S)}finally{c(!1)}},[n]);j.useEffect(()=>{n&&g()},[g]);const N=j.useCallback(S=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:0,maximumFractionDigits:0}).format(S),[]),w=j.useCallback((S,M,L)=>{p({type:S,number:M,typeName:L}),f(!0)},[]),v=j.useCallback(S=>({teng_bon_4:"4 ",tode_4:"4 ",teng_bon_3:"3 ",tode_3:"3 ",teng_lang_nha_3:"3 ",teng_lang_3:"3 ",teng_bon_2:"2 ",teng_lang_2:"2 ",teng_bon_1:"",teng_lang_1:""})[S]||S,[]),{columns:y,rows:T,totals:A,grandTotal:E}=j.useMemo(()=>{if(!u)return{columns:[],rows:[],totals:{},grandTotal:{totalCount:0,totalAmount:0}};const M=u.huayCode==="GLO"||u.has4d?["teng_bon_4","tode_4","teng_bon_3","tode_3","teng_lang_nha_3","teng_lang_3","teng_bon_2","teng_lang_2","teng_bon_1","teng_lang_1"]:["teng_bon_3","tode_3","teng_bon_2","teng_lang_2","teng_bon_1","teng_lang_1"];let L=0;const B={};M.forEach(q=>{const P=u.betGroups[q]||[];B[q]=P,P.length>L&&(L=P.length)});const D=[];for(let q=0;q<L;q++){const P={index:q};M.forEach(V=>{P[V]=B[V][q]||null}),D.push(P)}const C={};let R=0,$=0;return M.forEach(q=>{const P=B[q],V=P.reduce((K,W)=>K+W.amount,0);C[q]={count:P.length,sum:V},R+=P.length,$+=V}),{columns:M,rows:D,totals:C,grandTotal:{totalCount:R,totalAmount:$}}},[u]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-admin-dark via-admin-darker to-black p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-gold-500 via-gold-400 to-gold-500 rounded-2xl shadow-2xl p-8 mb-8 border border-gold-300",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>l("/admin/lottery/daily"),className:"p-3 bg-brown-900/20 hover:bg-brown-900/40 rounded-xl transition-all shadow-lg",children:e.jsx(B6,{className:"text-2xl text-brown-900"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-3xl font-bold text-brown-900 flex items-center gap-3",children:[e.jsx(Dn,{}),u?.stockName||""]}),e.jsxs("p",{className:"text-brown-700 text-lg mt-2 flex items-center gap-3",children:[e.jsxs("span",{children:[": ",e.jsx("span",{className:"font-bold",children:u?.huayCode})]}),u?.has4d&&e.jsx("span",{className:"bg-brown-900/30 px-4 py-1 rounded-full font-bold text-sm border border-brown-900/50",children:" 4 "})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"bg-brown-900/20 px-6 py-3 rounded-xl border border-brown-900/30",children:[e.jsx("p",{className:"text-brown-700 text-sm",children:""}),e.jsx("p",{className:"text-2xl font-bold text-brown-900",children:N(E.totalCount)})]}),e.jsxs("div",{className:"bg-brown-900/20 px-6 py-3 rounded-xl border border-brown-900/30",children:[e.jsx("p",{className:"text-brown-700 text-sm",children:""}),e.jsx("p",{className:"text-2xl font-bold text-brown-900",children:N(E.totalAmount)})]})]})]})}),i?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-gold-500 mb-6"}),e.jsx("p",{className:"text-gray-400 text-xl",children:"..."})]}):u?T.length===0?e.jsx("div",{className:"bg-admin-card rounded-2xl shadow-2xl border border-admin-border p-12",children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Ic,{className:"text-8xl text-gray-600 mx-auto mb-6"}),e.jsx("p",{className:"text-gray-400 text-2xl font-bold",children:""})]})}):e.jsxs("div",{className:"bg-admin-card rounded-2xl shadow-2xl border border-gold-500/30 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-admin-darker via-brown-900 to-admin-darker p-4 border-b border-gold-500/30",children:e.jsxs("p",{className:"text-gray-300 text-sm",children:[" ",e.jsx("span",{className:"text-gold-400 font-bold",children:T.length})," "]})}),e.jsx("div",{className:"overflow-auto",style:{maxHeight:"calc(100vh - 400px)"},children:e.jsxs("table",{className:"w-full text-sm",style:{minWidth:"1400px"},children:[e.jsx("thead",{className:"sticky top-0 z-20 shadow-lg",children:e.jsx("tr",{className:"bg-gradient-to-r from-admin-darker via-brown-900 to-admin-darker border-b-2 border-gold-500",children:y.map(S=>e.jsx("th",{className:"px-3 py-4 text-center text-gold-400 font-bold border-r border-admin-border/50 min-w-[180px]",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("span",{className:"text-base font-bold",children:v(S)}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("span",{className:"text-gray-400",children:[A[S]?.count||0," "]}),e.jsx("span",{className:"text-success font-bold",children:N(A[S]?.sum||0)})]})]})},S))})}),e.jsx("tbody",{children:T.map((S,M)=>e.jsx("tr",{className:`border-b border-admin-border/20 hover:bg-gold-500/5 transition-all ${M%2===0?"bg-admin-darker/30":""}`,children:y.map(L=>{const B=S[L];return e.jsx("td",{className:"px-3 py-2 border-r border-admin-border/20",children:B?e.jsxs("button",{type:"button",onClick:()=>w(L,B.number,v(L)),className:"w-full flex items-center justify-between gap-3 px-4 py-3 bg-gradient-to-r from-admin-darker/50 to-brown-900/30 hover:from-gold-500/10 hover:to-gold-600/10 rounded-lg transition-all border border-admin-border/30 hover:border-gold-500/50",children:[e.jsx("span",{className:"text-white font-mono text-xl font-bold",children:B.number}),e.jsx("span",{className:"text-blue-400 font-bold text-base",children:N(B.amount)})]}):e.jsx("div",{className:"py-3 text-center",children:e.jsx("span",{className:"text-gray-700 text-sm",children:"-"})})},`${M}-${L}`)})},M))}),e.jsx("tfoot",{className:"sticky bottom-0 z-10 shadow-lg",children:e.jsx("tr",{className:"bg-gradient-to-r from-admin-darker via-brown-900 to-admin-darker border-t-2 border-gold-500 font-bold",children:y.map(S=>e.jsx("td",{className:"px-3 py-4 text-center border-r border-admin-border/50",children:e.jsxs("div",{className:"flex items-center justify-between px-4",children:[e.jsxs("span",{className:"text-warning text-lg",children:[A[S].count," "]}),e.jsx("span",{className:"text-success text-lg",children:N(A[S].sum)})]})},`total-${S}`))})})]})})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Dn,{className:"text-6xl text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-xl",children:""})]}),x&&e.jsx(Z2,{isOpen:h,onClose:()=>f(!1),stockId:parseInt(n),betType:x.type,number:x.number,betTypeName:x.typeName})]})},Wl="http://localhost:3001",tx="/api/v1",$r=({isOpen:s,onClose:n,onSelect:l,currentImage:i})=>{const[c,u]=j.useState([]),[d,h]=j.useState(!1),[f,x]=j.useState(!1),[p,g]=j.useState(i||""),[N,w]=j.useState(""),[v,y]=j.useState("library"),[T,A]=j.useState("grid"),[E,S]=j.useState("all"),[M,L]=j.useState(!1),[B,D]=j.useState("");j.useEffect(()=>{s&&(C(),g(i||""),w(""))},[s,i]);const C=async()=>{h(!0);try{const W=localStorage.getItem("admin_selector"),H=await(await fetch(`${Wl}${tx}/admin/images?category=promotions`,{headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},credentials:"include"})).json();if(H.success){const F=Array.isArray(H.data)?H.data:[];u(F)}else u([])}catch(W){console.error("Error loading images:",W),U.error(""),u([])}finally{h(!1)}},R=async W=>{const z=W.target.files?.[0];if(z){if(!z.type.startsWith("image/")){U.error("");return}if(z.size>5*1024*1024){U.error(" 5MB");return}x(!0);try{const H=new FormData;H.append("image",z),H.append("category","promotions");const F=localStorage.getItem("admin_selector"),oe=await(await fetch(`${Wl}${tx}/admin/images/upload`,{method:"POST",headers:{Authorization:`Bearer ${F}`},credentials:"include",body:H})).json();oe.success?(U.success(""),g(oe.data.url),w(oe.data.id),C(),y("library")):U.error(oe.message||"")}catch(H){console.error("Error uploading image:",H),U.error("")}finally{x(!1)}}},$=()=>{if(!p){U.error("");return}if(N)l({id:N,url:p});else{const W=c.find(z=>z.url===p);if(W)l({id:W.id,url:W.url});else{U.error("");return}}n()},q=(W,z)=>{z.stopPropagation(),D(W),L(!0)},P=async()=>{if(B)try{const W=localStorage.getItem("admin_selector"),H=await(await fetch(`${Wl}${tx}/admin/images?url=${encodeURIComponent(B)}`,{method:"DELETE",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},credentials:"include"})).json();H.success?(U.success(""),p===B&&(g(""),w("")),C()):U.error(H.message||"")}catch(W){console.error("Error deleting image:",W),U.error("")}finally{D("")}},V=["all",...new Set(c.map(W=>{const z=W.url.split("/");return z[z.length-2]||"root"}))],K=E==="all"?c:c.filter(W=>{const z=W.url.split("/");return(z[z.length-2]||"root")===E});return s?e.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:[e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-admin-border",children:[e.jsx("h2",{className:"text-2xl font-bold text-gold-500",children:""}),e.jsx("button",{onClick:n,className:"text-brown-400 hover:text-gold-500 transition-colors",children:e.jsx(We,{size:24})})]}),e.jsxs("div",{className:"flex border-b border-admin-border",children:[e.jsxs("button",{onClick:()=>y("library"),className:`flex-1 px-6 py-3 font-medium transition-colors ${v==="library"?"text-gold-500 border-b-2 border-gold-500":"text-brown-400 hover:text-gold-500"}`,children:[e.jsx(ia,{className:"inline mr-2"}),""]}),e.jsxs("button",{onClick:()=>y("upload"),className:`flex-1 px-6 py-3 font-medium transition-colors ${v==="upload"?"text-gold-500 border-b-2 border-gold-500":"text-brown-400 hover:text-gold-500"}`,children:[e.jsx(Xa,{className:"inline mr-2"}),""]})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:v==="upload"?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"border-2 border-dashed border-admin-border rounded-xl p-12 hover:border-gold-500 transition-colors",children:[e.jsx(Xa,{className:"mx-auto text-6xl text-brown-500 mb-4"}),e.jsx("p",{className:"text-brown-300 mb-4",children:""}),e.jsx("p",{className:"text-brown-500 text-sm mb-4",children:": JPG, PNG, GIF ( 5MB)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:R,disabled:f,className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:`inline-flex items-center gap-2 px-6 py-3 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 transition-colors font-medium cursor-pointer ${f?"opacity-50 cursor-not-allowed":""}`,children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-brown-900"}),e.jsx("span",{children:"..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Xa,{}),e.jsx("span",{children:""})]})})]})})}):e.jsx("div",{children:d?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx("div",{className:"spinner"})}):c.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(ia,{className:"mx-auto text-6xl text-brown-500 mb-4"}),e.jsx("p",{className:"text-brown-400",children:""}),e.jsx("button",{onClick:()=>y("upload"),className:"mt-4 px-6 py-3 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 transition-colors font-medium",children:""})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-admin-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tS,{className:"text-brown-400"}),e.jsx("select",{value:E,onChange:W=>S(W.target.value),className:"bg-admin-hover border border-admin-border text-brown-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-gold-500",children:V.map(W=>e.jsx("option",{value:W,children:W==="all"?"":W},W))}),e.jsxs("span",{className:"text-brown-500 text-sm",children:["(",K.length," )"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>A("grid"),className:`p-2 rounded-lg transition-colors ${T==="grid"?"bg-gold-500 text-brown-900":"bg-admin-hover text-brown-400 hover:text-gold-500"}`,title:" Grid",children:e.jsx(sS,{size:18})}),e.jsx("button",{onClick:()=>A("list"),className:`p-2 rounded-lg transition-colors ${T==="list"?"bg-gold-500 text-brown-900":"bg-admin-hover text-brown-400 hover:text-gold-500"}`,title:" List",children:e.jsx(ri,{size:18})})]})]}),T==="grid"?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:K.map(W=>e.jsxs("div",{onClick:()=>{g(W.url),w(W.id)},className:`group relative cursor-pointer rounded-lg overflow-hidden border-2 transition-all ${p===W.url?"border-gold-500 ring-2 ring-gold-500/50":"border-admin-border hover:border-gold-500/50"}`,children:[e.jsx("div",{className:"bg-admin-hover p-2",children:e.jsx("img",{src:`${Wl}${W.url}`,alt:W.filename,className:"w-full h-auto rounded"})}),N===W.id&&e.jsx("div",{className:"absolute top-3 right-3 bg-gold-500 text-brown-900 rounded-full p-1",children:e.jsx(zs,{size:16})}),e.jsx("button",{onClick:z=>q(W.url,z),className:"absolute top-3 left-3 bg-error/80 hover:bg-error text-white rounded-full p-1.5 transition-colors opacity-0 group-hover:opacity-100",title:"",children:e.jsx(Fn,{size:14})}),e.jsxs("div",{className:"p-2 bg-admin-card/95",children:[e.jsx("p",{className:"text-xs text-brown-300 truncate",children:W.filename}),e.jsxs("p",{className:"text-xs text-brown-500",children:[(W.size/1024).toFixed(1)," KB"]})]})]},W.id))}):e.jsx("div",{className:"space-y-2",children:K.map(W=>e.jsxs("div",{onClick:()=>g(W.url),className:`flex items-center gap-4 p-3 rounded-lg border-2 cursor-pointer transition-all ${p===W.url?"border-gold-500 bg-gold-500/10":"border-admin-border hover:border-gold-500/50 bg-admin-hover"}`,children:[e.jsx("div",{className:"flex-shrink-0 w-24 h-16 bg-admin-card rounded overflow-hidden",children:e.jsx("img",{src:`${Wl}${W.url}`,alt:W.filename,className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-brown-200 font-medium truncate",children:W.filename}),e.jsxs("p",{className:"text-xs text-brown-500",children:[(W.size/1024).toFixed(1)," KB  ",new Date(W.uploadedAt).toLocaleDateString("th-TH")]})]}),e.jsx("button",{onClick:z=>q(W.url,z),className:"flex-shrink-0 bg-error/80 hover:bg-error text-white rounded-lg p-2 transition-colors",title:"",children:e.jsx(Fn,{size:16})}),p===W.url&&e.jsx("div",{className:"flex-shrink-0 bg-gold-500 text-brown-900 rounded-full p-2",children:e.jsx(zs,{size:16})})]},W.id))})]})})}),e.jsxs("div",{className:"flex gap-2 p-6 border-t border-admin-border",children:[e.jsx("button",{onClick:$,disabled:!p,className:"flex-1 px-6 py-3 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:""}),e.jsx("button",{onClick:n,className:"flex-1 px-6 py-3 bg-admin-hover text-brown-300 rounded-lg hover:bg-admin-border transition-colors font-medium",children:""})]})]}),e.jsx(Wr,{isOpen:M,onClose:()=>{L(!1),D("")},onConfirm:P,title:"",message:"? ",confirmText:"",cancelText:"",type:"danger"})]}):null},jA=()=>{const[s,n]=j.useState([]),[l,i]=j.useState(0),[c,u]=j.useState(!1),[d]=j.useState(100),[h,f]=j.useState(0),[x,p]=j.useState("grid"),[g,N]=j.useState(null),[w,v]=j.useState(!1),[y,T]=j.useState(!1),[A,E]=j.useState(!1),[S,M]=j.useState(!1),[L,B]=j.useState(null),[D,C]=j.useState(null),[R,$]=j.useState("all"),[q,P]=j.useState("all"),[V,K]=j.useState("all"),[W,z]=j.useState(""),[H,F]=j.useState({gameName:"",gameNameTh:"",imageUrl:"",thumbnailUrl:"",isActive:!0,isFeatured:!1,displayOrder:0});j.useEffect(()=>{le()},[h]);const le=async()=>{u(!0);try{const Z=await Il.getAllGames({limit:d,offset:h});n(Z.games||[]),i(Z.total)}catch(Z){console.error("Failed to fetch games:",Z),U.error("")}finally{u(!1)}},oe=Z=>{Z?(B(Z),F({gameName:Z.gameName,gameNameTh:Z.gameNameTh||"",imageUrl:Z.imageUrl||"",thumbnailUrl:Z.thumbnailUrl||"",isActive:Z.isActive,isFeatured:Z.isFeatured,displayOrder:Z.displayOrder})):(B(null),F({gameName:"",gameNameTh:"",imageUrl:"",thumbnailUrl:"",isActive:!0,isFeatured:!1,displayOrder:0})),v(!0)},_=()=>{v(!1),B(null),F({gameName:"",gameNameTh:"",imageUrl:"",thumbnailUrl:"",isActive:!0,isFeatured:!1,displayOrder:0})},I=async Z=>{if(Z.preventDefault(),!L||!H.gameName){U.error("");return}try{await Il.updateGame(L.id,H),U.success(""),_(),le()}catch(Q){console.error("Submit failed:",Q);const ye=typeof Q=="object"&&Q!==null&&"response"in Q?String(Q.response?.data?.error||""):"";U.error(ye)}},ae=async Z=>{try{await Il.toggleGameStatus(Z.id),U.success(Z.isActive?"":""),le()}catch(Q){console.error("Toggle status failed:",Q),U.error("")}},de=async()=>{if(D)try{U.error("")}catch(Z){console.error("Delete failed:",Z),U.error("")}finally{C(null)}},he=async Z=>{try{await Il.updateGame(Z.id,{isFeatured:!Z.isFeatured}),U.success(Z.isFeatured?"":""),le()}catch(Q){console.error("Toggle featured failed:",Q),U.error("")}},be=Z=>{N(Z)},fe=(Z,Q)=>{if(Z.preventDefault(),g===null||g===Q)return;const ye=[...ve],Xe=ye[g];ye.splice(g,1),ye.splice(Q,0,Xe);const Ht=ye.map((Ds,nd)=>({...Ds,displayOrder:nd}));n(Ht),N(Q)},Ae=async()=>{if(g!==null)try{await Promise.all(ve.map((Z,Q)=>Il.updateGame(Z.id,{displayOrder:Q}))),U.success(""),le()}catch(Z){console.error("Reorder failed:",Z),U.error(""),le()}finally{N(null)}},ve=s.filter(Z=>{const Q=R==="all"||Z.provider===R,ye=q==="all"||Z.gameType===q,Xe=V==="all"||V==="featured"&&Z.isFeatured||V==="not-featured"&&!Z.isFeatured,Ht=W===""||Z.gameName.toLowerCase().includes(W.toLowerCase())||Z.gameCode.toLowerCase().includes(W.toLowerCase())||Z.gameNameTh&&Z.gameNameTh.toLowerCase().includes(W.toLowerCase());return Q&&ye&&Xe&&Ht}),xe=Z=>({SLOT:"bg-purple-500/20 text-purple-400",CASINO:"bg-red-500/20 text-red-400",SPORT:"bg-blue-500/20 text-blue-400",FISHING:"bg-green-500/20 text-green-400",OTHER:"bg-gray-500/20 text-gray-400"})[Z]||"bg-gray-500/20 text-gray-400";return c?e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-admin-bg",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"})}):e.jsxs("div",{className:"min-h-screen bg-admin-bg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-brown-100 flex items-center gap-3",children:[e.jsx(Wa,{className:"text-gold-500"}),""]}),e.jsxs("p",{className:"text-brown-400 mt-1",children:[" ",l,"  ( ",ve.length," )"]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex bg-admin-card border border-admin-border rounded-lg p-1",children:[e.jsx("button",{onClick:()=>p("grid"),className:`px-3 py-2 rounded transition-colors ${x==="grid"?"bg-gold-500 text-white":"text-brown-400 hover:text-gold-500"}`,title:"Grid View",children:e.jsx(uh,{size:16})}),e.jsx("button",{onClick:()=>p("list"),className:`px-3 py-2 rounded transition-colors ${x==="list"?"bg-gold-500 text-white":"text-brown-400 hover:text-gold-500"}`,title:"List View",children:e.jsx(ch,{size:16})})]})})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("input",{type:"text",value:W,onChange:Z=>z(Z.target.value),placeholder:", ...",className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("select",{value:R,onChange:Z=>$(Z.target.value),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"all",children:""}),[...new Set(s.map(Z=>Z.provider))].sort().map(Z=>e.jsx("option",{value:Z,children:Z},Z))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("select",{value:q,onChange:Z=>P(Z.target.value),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"all",children:""}),[...new Set(s.map(Z=>Z.gameType))].sort().map(Z=>e.jsx("option",{value:Z,children:Z},Z))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("select",{value:V,onChange:Z=>K(Z.target.value),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"featured",children:""}),e.jsx("option",{value:"not-featured",children:""})]})]})]})}),ve.length===0?e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-12 text-center",children:[e.jsx(Wa,{className:"text-6xl text-brown-600 mx-auto mb-4"}),e.jsx("p",{className:"text-brown-400",children:""})]}):x==="grid"?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:ve.map((Z,Q)=>e.jsxs("div",{draggable:!0,onDragStart:()=>be(Q),onDragOver:ye=>fe(ye,Q),onDragEnd:Ae,className:`bg-admin-card border border-admin-border rounded-lg p-4 relative hover:border-gold-500/50 transition-colors cursor-move ${g===Q?"opacity-50":""}`,children:[Z.isFeatured&&e.jsx("div",{className:"absolute top-2 right-2 z-10",children:e.jsx(Ot,{className:"text-yellow-400 text-xl",title:""})}),e.jsxs("div",{className:"relative aspect-square mb-3 rounded overflow-hidden bg-admin-bg flex items-center justify-center",children:[Z.thumbnailUrl||Z.imageUrl?e.jsx("img",{src:Z.thumbnailUrl||Z.imageUrl,alt:Z.gameName,className:"w-full h-full object-cover",onError:ye=>{const Xe=ye.target;Xe.style.display="none",Xe.parentElement?.classList.add("flex","items-center","justify-center")}}):e.jsx(Wa,{className:"text-4xl text-brown-600"}),!Z.isActive&&e.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:e.jsx("span",{className:"bg-error text-white px-2 py-1 rounded text-xs font-semibold",children:""})})]}),e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsx("h3",{className:"font-semibold text-sm text-brown-100 truncate",title:Z.gameName,children:Z.gameName}),Z.gameNameTh&&e.jsx("p",{className:"text-xs text-brown-400 truncate",title:Z.gameNameTh,children:Z.gameNameTh}),e.jsx("p",{className:"text-xs text-brown-500 truncate",title:Z.gameCode,children:Z.gameCode}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${xe(Z.gameType)}`,children:Z.gameType})}),e.jsx("p",{className:"text-xs text-brown-500",children:Z.provider})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>he(Z),className:`w-full px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-1 ${Z.isFeatured?"bg-warning/20 text-warning hover:bg-warning/30":"bg-admin-hover text-brown-300 hover:bg-admin-border"}`,title:Z.isFeatured?"":"",children:e.jsx(Ot,{className:Z.isFeatured?"text-yellow-400":""})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>oe(Z),className:"flex-1 px-3 py-2 bg-info/20 text-info hover:bg-info/30 rounded-lg transition-colors",title:"",children:e.jsx(zn,{})}),e.jsx("button",{onClick:()=>ae(Z),className:`flex-1 px-3 py-2 rounded-lg transition-colors ${Z.isActive?"bg-error/20 text-error hover:bg-error/30":"bg-success/20 text-success hover:bg-success/30"}`,title:Z.isActive?"":"",children:Z.isActive?e.jsx(Dt,{}):e.jsx(Ot,{})})]})]})]},Z.id))}):e.jsx("div",{className:"space-y-2",children:ve.map((Z,Q)=>e.jsx("div",{draggable:!0,onDragStart:()=>be(Q),onDragOver:ye=>fe(ye,Q),onDragEnd:Ae,className:`bg-admin-card border border-admin-border rounded-lg p-4 hover:border-gold-500/50 transition-colors cursor-move ${g===Q?"opacity-50":""}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-brown-600 cursor-grab active:cursor-grabbing",children:e.jsx(xv,{size:20})}),e.jsx("div",{className:"w-16 h-16 flex-shrink-0 rounded overflow-hidden bg-admin-bg flex items-center justify-center",children:Z.thumbnailUrl||Z.imageUrl?e.jsx("img",{src:Z.thumbnailUrl||Z.imageUrl,alt:Z.gameName,className:"w-full h-full object-cover",onError:ye=>{const Xe=ye.target;Xe.style.display="none"}}):e.jsx(Wa,{className:"text-2xl text-brown-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-brown-100",children:Z.gameName}),Z.isFeatured&&e.jsx(Ot,{className:"text-yellow-400",title:""}),!Z.isActive&&e.jsx("span",{className:"bg-error text-white text-xs px-2 py-0.5 rounded",children:""}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${xe(Z.gameType)}`,children:Z.gameType})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-brown-400",children:[e.jsxs("span",{children:["Code: ",Z.gameCode]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Provider: ",Z.provider]}),Z.gameNameTh&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["TH: ",Z.gameNameTh]})]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Order: ",Z.displayOrder]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>he(Z),className:`px-3 py-2 rounded-lg transition-colors ${Z.isFeatured?"bg-warning/20 text-warning hover:bg-warning/30":"bg-admin-hover text-brown-300 hover:bg-admin-border"}`,title:Z.isFeatured?"":"",children:e.jsx(Ot,{})}),e.jsx("button",{onClick:()=>oe(Z),className:"px-3 py-2 bg-info/20 text-info hover:bg-info/30 rounded-lg transition-colors",title:"",children:e.jsx(zn,{})}),e.jsx("button",{onClick:()=>ae(Z),className:`px-3 py-2 rounded-lg transition-colors ${Z.isActive?"bg-error/20 text-error hover:bg-error/30":"bg-success/20 text-success hover:bg-success/30"}`,title:Z.isActive?"":"",children:Z.isActive?e.jsx(Dt,{}):e.jsx(Ot,{})})]})]})},Z.id))}),l>d&&e.jsxs("div",{className:"mt-6 flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>f(Math.max(0,h-d)),disabled:h===0,className:"px-4 py-2 bg-admin-card border border-admin-border text-brown-200 rounded-lg disabled:opacity-50 hover:bg-admin-hover transition-colors",children:""}),e.jsxs("span",{className:"px-4 py-2 text-brown-200",children:[" ",Math.floor(h/d)+1," / ",Math.ceil(l/d)]}),e.jsx("button",{onClick:()=>f(h+d),disabled:h+d>=l,className:"px-4 py-2 bg-admin-card border border-admin-border text-brown-200 rounded-lg disabled:opacity-50 hover:bg-admin-hover transition-colors",children:""})]}),w&&L&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-2xl max-w-2xl w-full p-6 my-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-brown-100",children:[": ",L.gameName]}),e.jsx("button",{onClick:_,className:"text-brown-400 hover:text-brown-200 p-2 hover:bg-admin-hover rounded-lg transition-colors",children:e.jsx(Dt,{size:24})})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" (EN) *"}),e.jsx("input",{type:"text",value:H.gameName,onChange:Z=>F({...H,gameName:Z.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" (TH)"}),e.jsx("input",{type:"text",value:H.gameNameTh,onChange:Z=>F({...H,gameNameTh:Z.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("button",{type:"button",onClick:()=>T(!0),className:"w-full px-4 py-3 border-2 border-dashed border-admin-border rounded-lg hover:border-gold-500 transition-colors flex items-center justify-center gap-2 text-brown-400 hover:text-gold-500",children:[e.jsx(Pn,{}),e.jsx("span",{children:H.imageUrl?"":""})]}),H.imageUrl&&e.jsxs("div",{className:"mt-2 relative",children:[e.jsx("img",{src:H.imageUrl,alt:"Game",className:"w-full h-32 object-contain rounded-lg border border-admin-border bg-admin-bg p-2",onError:Z=>{const Q=Z.target;Q.style.display="none"}}),e.jsx("button",{type:"button",onClick:()=>F({...H,imageUrl:""}),className:"absolute top-2 right-2 bg-error text-white p-1 rounded-full hover:bg-error/80",children:e.jsx(Dt,{size:12})})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" (Thumbnail)"}),e.jsxs("button",{type:"button",onClick:()=>E(!0),className:"w-full px-4 py-3 border-2 border-dashed border-admin-border rounded-lg hover:border-gold-500 transition-colors flex items-center justify-center gap-2 text-brown-400 hover:text-gold-500",children:[e.jsx(Pn,{}),e.jsx("span",{children:H.thumbnailUrl?"":""})]}),H.thumbnailUrl&&e.jsxs("div",{className:"mt-2 relative",children:[e.jsx("img",{src:H.thumbnailUrl,alt:"Thumbnail",className:"w-full h-32 object-contain rounded-lg border border-admin-border bg-admin-bg p-2",onError:Z=>{const Q=Z.target;Q.style.display="none"}}),e.jsx("button",{type:"button",onClick:()=>F({...H,thumbnailUrl:""}),className:"absolute top-2 right-2 bg-error text-white p-1 rounded-full hover:bg-error/80",children:e.jsx(Dt,{size:12})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("input",{type:"number",value:H.displayOrder,onChange:Z=>F({...H,displayOrder:parseInt(Z.target.value)||0}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",min:"0"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:H.isActive,onChange:Z=>F({...H,isActive:Z.target.checked}),className:"w-4 h-4 text-gold-500 bg-admin-bg border-admin-border rounded focus:ring-gold-500"}),e.jsx("span",{className:"text-sm text-brown-200",children:""})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:H.isFeatured,onChange:Z=>F({...H,isFeatured:Z.target.checked}),className:"w-4 h-4 text-gold-500 bg-admin-bg border-admin-border rounded focus:ring-gold-500"}),e.jsxs("span",{className:"text-sm text-brown-200 flex items-center gap-1",children:[e.jsx(Ot,{className:"text-yellow-400"}),""]})]})]})]}),e.jsx("div",{className:"bg-admin-bg p-3 rounded-lg text-sm",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-brown-400",children:[e.jsxs("div",{children:[e.jsx("strong",{className:"text-brown-200",children:":"})," ",L.gameCode]}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-brown-200",children:":"})," ",L.gameType]}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-brown-200",children:":"})," ",L.provider]}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-brown-200",children:":"})," ",new Date(L.createdAt).toLocaleDateString("th-TH")]})]})}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-gold-500 to-gold-600 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:""}),e.jsx("button",{type:"button",onClick:_,className:"flex-1 px-6 py-3 bg-admin-hover text-brown-200 hover:bg-admin-border rounded-lg transition-all font-semibold",children:""})]})]})]})}),e.jsx($r,{isOpen:y,onClose:()=>T(!1),onSelect:Z=>{F({...H,imageUrl:Z.url}),T(!1)},currentImage:H.imageUrl}),e.jsx($r,{isOpen:A,onClose:()=>E(!1),onSelect:Z=>{F({...H,thumbnailUrl:Z.url}),E(!1)},currentImage:H.thumbnailUrl}),e.jsx(Wr,{isOpen:S,onClose:()=>{M(!1),C(null)},onConfirm:de,title:"",message:` "${D?.name}" ? `,confirmText:"",cancelText:"",type:"danger"})]})},sx="http://localhost:3001",yA=()=>{const[s,n]=j.useState([]),[l,i]=j.useState([]),[c,u]=j.useState(!0),[d,h]=j.useState(!1),[f,x]=j.useState(!1),[p,g]=j.useState(null),[N,w]=j.useState("all"),[v,y]=j.useState("all"),[T,A]=j.useState(!1),[E,S]=j.useState(null),[M,L]=j.useState("grid"),[B,D]=j.useState(null),[C,R]=j.useState({code:"",name:"",description:"",image_path:"",game_type:"",category:"",status:1,is_featured:!1,sort_order:0});j.useEffect(()=>{$()},[]);const $=async()=>{try{u(!0);const[_,I]=await Promise.all([Rt.admin.getGameProviders(),Rt.getGameCategories()]);n(_.data.data||[]);const ae=I.data.data||I.data;i(Array.isArray(ae)?ae:[])}catch(_){console.error("Failed to load data:",_),U.error("")}finally{u(!1)}},q=_=>{_?(g(_),R({code:_.code,name:_.name,description:_.description,image_path:_.image_path,game_type:_.game_type,category:_.category,status:_.status,is_featured:_.is_featured,sort_order:_.sort_order})):(g(null),R({code:"",name:"",description:"",image_path:"",game_type:"",category:"",status:1,is_featured:!1,sort_order:0})),h(!0)},P=()=>{h(!1),g(null),R({})},V=async _=>{if(_.preventDefault(),!C.code||!C.name){U.error("");return}try{p?(await Rt.admin.updateGameProvider(p.id,C),U.success("")):(await Rt.admin.createGameProvider(C),U.success("")),P(),$()}catch(I){console.error("Submit failed:",I);const ae=typeof I=="object"&&I!==null&&"response"in I?String(I.response?.data?.error||""):"";U.error(ae)}},K=(_,I)=>{S({id:_,name:I}),A(!0)},W=async()=>{if(E)try{await Rt.admin.deleteGameProvider(E.id),U.success(""),$()}catch(_){console.error("Delete failed:",_),U.error("")}finally{S(null)}},z=async _=>{try{await Rt.admin.updateGameProvider(_.id,{is_featured:!_.is_featured}),U.success(_.is_featured?"":""),$()}catch(I){console.error("Toggle featured failed:",I),U.error("")}},H=_=>{D(_)},F=(_,I)=>{if(_.preventDefault(),B===null||B===I)return;const ae=[...oe],de=ae[B];ae.splice(B,1),ae.splice(I,0,de);const he=ae.map((be,fe)=>({...be,sort_order:fe}));n(he),D(I)},le=async()=>{if(B!==null)try{await Promise.all(oe.map((_,I)=>Rt.admin.updateGameProvider(_.id,{sort_order:I}))),U.success(""),$()}catch(_){console.error("Reorder failed:",_),U.error(""),$()}finally{D(null)}},oe=s.filter(_=>{const I=N==="all"||_.category===N,ae=v==="all"||v==="featured"&&_.is_featured||v==="not-featured"&&!_.is_featured;return I&&ae});return c?e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-admin-bg",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"})}):e.jsxs("div",{className:"min-h-screen bg-admin-bg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-brown-100 flex items-center gap-3",children:[e.jsx(Wa,{className:"text-gold-500"}),""]}),e.jsxs("p",{className:"text-brown-400 mt-1",children:[" ",s.length," "]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex bg-admin-card border border-admin-border rounded-lg p-1",children:[e.jsx("button",{onClick:()=>L("grid"),className:`px-3 py-2 rounded transition-colors ${M==="grid"?"bg-gold-500 text-white":"text-brown-400 hover:text-gold-500"}`,title:"Grid View",children:e.jsx(uh,{size:16})}),e.jsx("button",{onClick:()=>L("list"),className:`px-3 py-2 rounded transition-colors ${M==="list"?"bg-gold-500 text-white":"text-brown-400 hover:text-gold-500"}`,title:"List View",children:e.jsx(ch,{size:16})})]}),e.jsxs("button",{onClick:()=>q(),className:"px-6 py-3 bg-gradient-to-r from-gold-500 to-gold-600 text-white rounded-lg hover:shadow-lg transition-all font-semibold flex items-center gap-2",children:[e.jsx(dh,{}),""]})]})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("select",{value:N,onChange:_=>w(_.target.value),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"all",children:""}),[...new Set(s.map(_=>_.category))].sort().map(_=>e.jsx("option",{value:_,children:_},_))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("select",{value:v,onChange:_=>y(_.target.value),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"featured",children:""}),e.jsx("option",{value:"not-featured",children:""})]})]})]})}),oe.length===0?e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-12 text-center",children:[e.jsx(Wa,{className:"text-6xl text-brown-600 mx-auto mb-4"}),e.jsx("p",{className:"text-brown-400",children:""})]}):M==="grid"?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:oe.map((_,I)=>e.jsxs("div",{draggable:!0,onDragStart:()=>H(I),onDragOver:ae=>F(ae,I),onDragEnd:le,className:`bg-admin-card border border-admin-border rounded-lg p-4 relative hover:border-gold-500/50 transition-colors cursor-move ${B===I?"opacity-50":""}`,children:[_.is_featured&&e.jsx("div",{className:"absolute top-2 right-2 z-10",children:e.jsx(Ot,{className:"text-yellow-400 text-xl",title:""})}),e.jsxs("div",{className:"relative aspect-square mb-3 rounded overflow-hidden bg-admin-bg flex items-center justify-center",children:[_.image_path?e.jsx("img",{src:`${sx}${_.image_path}`,alt:_.name,className:"w-full h-full object-contain p-2",onError:ae=>{const de=ae.target;de.style.display="none",de.parentElement?.classList.add("flex","items-center","justify-center")}}):e.jsx(Wa,{className:"text-4xl text-brown-600"}),_.status===0&&e.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:e.jsx("span",{className:"bg-error text-white px-2 py-1 rounded text-xs font-semibold",children:""})})]}),e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsx("h3",{className:"font-semibold text-sm text-brown-100 truncate",title:_.name,children:_.name}),e.jsx("p",{className:"text-xs text-brown-400 truncate",title:_.code,children:_.code}),_.category&&e.jsx("p",{className:"text-xs text-brown-500",children:_.category})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>z(_),className:`w-full px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-1 ${_.is_featured?"bg-warning/20 text-warning hover:bg-warning/30":"bg-admin-hover text-brown-300 hover:bg-admin-border"}`,title:_.is_featured?"":"",children:e.jsx(Ot,{className:_.is_featured?"text-yellow-400":""})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>q(_),className:"flex-1 px-3 py-2 bg-info/20 text-info hover:bg-info/30 rounded-lg transition-colors",title:"",children:e.jsx(zn,{})}),e.jsx("button",{onClick:()=>K(_.id,_.name),className:"flex-1 px-3 py-2 bg-error/20 text-error hover:bg-error/30 rounded-lg transition-colors",title:"",children:e.jsx(Un,{})})]})]})]},_.id))}):e.jsx("div",{className:"space-y-2",children:oe.map((_,I)=>e.jsx("div",{draggable:!0,onDragStart:()=>H(I),onDragOver:ae=>F(ae,I),onDragEnd:le,className:`bg-admin-card border border-admin-border rounded-lg p-4 hover:border-gold-500/50 transition-colors cursor-move ${B===I?"opacity-50":""}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-brown-600 cursor-grab active:cursor-grabbing",children:e.jsx(xv,{size:20})}),e.jsx("div",{className:"w-16 h-16 flex-shrink-0 rounded overflow-hidden bg-admin-bg flex items-center justify-center",children:_.image_path?e.jsx("img",{src:`${sx}${_.image_path}`,alt:_.name,className:"w-full h-full object-contain p-1",onError:ae=>{const de=ae.target;de.style.display="none"}}):e.jsx(Wa,{className:"text-2xl text-brown-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-brown-100",children:_.name}),_.is_featured&&e.jsx(Ot,{className:"text-yellow-400",title:""}),_.status===0&&e.jsx("span",{className:"bg-error text-white text-xs px-2 py-0.5 rounded",children:""})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-brown-400",children:[e.jsxs("span",{children:["Code: ",_.code]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Category: ",_.category]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Order: ",_.sort_order]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>z(_),className:`px-3 py-2 rounded-lg transition-colors ${_.is_featured?"bg-warning/20 text-warning hover:bg-warning/30":"bg-admin-hover text-brown-300 hover:bg-admin-border"}`,title:_.is_featured?"":"",children:e.jsx(Ot,{})}),e.jsx("button",{onClick:()=>q(_),className:"px-3 py-2 bg-info/20 text-info hover:bg-info/30 rounded-lg transition-colors",title:"",children:e.jsx(zn,{})}),e.jsx("button",{onClick:()=>K(_.id,_.name),className:"px-3 py-2 bg-error/20 text-error hover:bg-error/30 rounded-lg transition-colors",title:"",children:e.jsx(Un,{})})]})]})},_.id))}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-2xl max-w-2xl w-full p-6 my-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-brown-100",children:p?"":""}),e.jsx("button",{onClick:P,className:"text-brown-400 hover:text-brown-200 p-2 hover:bg-admin-hover rounded-lg transition-colors",children:e.jsx(Dt,{size:24})})]}),e.jsxs("form",{onSubmit:V,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:"Code *"}),e.jsx("input",{type:"text",value:C.code||"",onChange:_=>R({...C,code:_.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",placeholder:"pgslot, pragmatic",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" *"}),e.jsx("input",{type:"text",value:C.name||"",onChange:_=>R({...C,name:_.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",placeholder:"PG Slot",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("textarea",{value:C.description||"",onChange:_=>R({...C,description:_.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500 h-20 resize-none",rows:3})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("button",{type:"button",onClick:()=>x(!0),className:"w-full px-4 py-3 border-2 border-dashed border-admin-border rounded-lg hover:border-gold-500 transition-colors flex items-center justify-center gap-2 text-brown-400 hover:text-gold-500",children:[e.jsx(Pn,{}),e.jsx("span",{children:C.image_path?"":""})]}),C.image_path&&e.jsxs("div",{className:"mt-2 relative",children:[e.jsx("img",{src:`${sx}${C.image_path}`,alt:"Provider logo",className:"w-full h-32 object-contain rounded-lg border border-admin-border bg-admin-bg p-2",onError:_=>{const I=_.target;I.style.display="none"}}),e.jsx("button",{type:"button",onClick:()=>R({...C,image_path:""}),className:"absolute top-2 right-2 bg-error text-white p-1 rounded-full hover:bg-error/80",children:e.jsx(Dt,{size:12})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" (Game Type)"}),e.jsx("input",{type:"text",value:C.game_type||"",onChange:_=>R({...C,game_type:_.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",placeholder:"Slots, Casino, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" (Category)"}),e.jsx("input",{type:"text",value:C.category||"",onChange:_=>R({...C,category:_.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",placeholder:"Slot, Casino, Fishing, etc.",list:"category-suggestions"}),e.jsx("datalist",{id:"category-suggestions",children:[...new Set(s.map(_=>_.category))].map(_=>e.jsx("option",{value:_},_))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("input",{type:"number",value:C.sort_order||0,onChange:_=>R({...C,sort_order:parseInt(_.target.value)}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",min:"0"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C.status===1,onChange:_=>R({...C,status:_.target.checked?1:0}),className:"w-4 h-4 text-gold-500 bg-admin-bg border-admin-border rounded focus:ring-gold-500"}),e.jsx("span",{className:"text-sm text-brown-200",children:" (Status = 1)"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C.is_featured||!1,onChange:_=>R({...C,is_featured:_.target.checked}),className:"w-4 h-4 text-gold-500 bg-admin-bg border-admin-border rounded focus:ring-gold-500"}),e.jsxs("span",{className:"text-sm text-brown-200 flex items-center gap-1",children:[e.jsx(Ot,{className:"text-yellow-400"})," ()"]})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-gold-500 to-gold-600 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:p?"":""}),e.jsx("button",{type:"button",onClick:P,className:"flex-1 px-6 py-3 bg-admin-hover text-brown-200 hover:bg-admin-border rounded-lg transition-all font-semibold",children:""})]})]})]})}),e.jsx($r,{isOpen:f,onClose:()=>x(!1),onSelect:_=>{R({...C,image_path:_.url}),x(!1)},currentImage:C.image_path}),e.jsx(Wr,{isOpen:T,onClose:()=>{A(!1),S(null)},onConfirm:W,title:"",message:` "${E?.name}" ? `,confirmText:"",cancelText:"",type:"danger"})]})},vA=()=>{const[s,n]=j.useState([]),[l,i]=j.useState(0),[c,u]=j.useState(!1),[d,h]=j.useState(""),[f]=j.useState(50),[x,p]=j.useState(0),[g,N]=j.useState(!1),[w,v]=j.useState(null),[y,T]=j.useState(!1),[A,E]=j.useState(!1),[S,M]=j.useState("");j.useEffect(()=>{L()},[d,x]);const L=async()=>{u(!0);try{const V=await Bn.getReviews({status:d||void 0,limit:f,offset:x});n(V.reviews),i(V.total)}catch(V){console.error("Failed to fetch reviews:",V),U.error("")}finally{u(!1)}},B=V=>{v(V),T(!1),N(!0)},D=V=>{v(V),M(""),E(!0)},C=async()=>{if(w)try{await Bn.approveReview(w.id,y),U.success(""),N(!1),v(null),L()}catch(V){console.error("Failed to approve review:",V),U.error("")}},R=async()=>{if(w){if(!S.trim()){U.error("");return}try{await Bn.rejectReview(w.id,S),U.success(""),E(!1),v(null),M(""),L()}catch(V){console.error("Failed to reject review:",V),U.error("")}}},$=V=>e.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(K=>K<=V?e.jsx(Ot,{className:"text-warning"},K):e.jsx(K6,{className:"text-brown-500"},K)),e.jsxs("span",{className:"ml-2 text-sm text-brown-400",children:["(",V,"/5)"]})]}),q=V=>{const W={PENDING:{bg:"bg-warning/20",text:"text-warning",label:""},APPROVED:{bg:"bg-success/20",text:"text-success",label:""},REJECTED:{bg:"bg-error/20",text:"text-error",label:""}}[V];return e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${W.bg} ${W.text}`,children:W.label})},P=V=>new Date(V).toLocaleString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return c?e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-admin-bg",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"})}):e.jsxs("div",{className:"min-h-screen bg-admin-bg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-brown-100 flex items-center gap-3",children:[e.jsx(Ot,{className:"text-gold-500"}),""]}),e.jsx("p",{className:"text-brown-400 mt-1",children:""})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(mv,{className:"text-gold-500"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("select",{value:d,onChange:V=>{h(V.target.value),p(0)},className:"px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"PENDING",children:""}),e.jsx("option",{value:"APPROVED",children:""}),e.jsx("option",{value:"REJECTED",children:""})]})]})]}),e.jsxs("div",{className:"text-sm text-brown-400",children:[" ",l," "]})]})}),s.length===0?e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-12 text-center",children:[e.jsx(Ot,{className:"text-6xl text-brown-600 mx-auto mb-4"}),e.jsx("p",{className:"text-brown-400",children:""})]}):e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-admin-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-300 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-300 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:s.map(V=>e.jsxs("tr",{className:"hover:bg-admin-hover transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fv,{className:"text-brown-500"}),e.jsx("span",{className:"text-sm font-medium text-brown-200",children:V.memberUsername||V.memberId.slice(0,8)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:$(V.rating)}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-brown-200 max-w-md",children:V.comment}),V.rejectionReason&&e.jsxs("div",{className:"text-sm text-error mt-1",children:[": ",V.rejectionReason]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:q(V.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:V.isDisplayed?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-success/20 text-success",children:[e.jsx(oh,{}),""]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-brown-500/20 text-brown-400",children:[e.jsx(uv,{}),""]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brown-400",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ur,{className:"text-brown-500"}),P(V.createdAt)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:V.status==="PENDING"?e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsxs("button",{onClick:()=>B(V),className:"px-3 py-1.5 bg-success/20 text-success hover:bg-success/30 rounded-lg transition-colors font-medium text-sm",children:[e.jsx(ma,{className:"inline mr-1"}),""]}),e.jsxs("button",{onClick:()=>D(V),className:"px-3 py-1.5 bg-error/20 text-error hover:bg-error/30 rounded-lg transition-colors font-medium text-sm",children:[e.jsx(hi,{className:"inline mr-1"}),""]})]}):V.status==="APPROVED"?e.jsxs("div",{className:"text-xs text-brown-400",children:[" ",V.approvedByUsername||"Admin",e.jsx("br",{}),V.approvedAt&&P(V.approvedAt)]}):e.jsxs("div",{className:"text-xs text-brown-400",children:[" ",V.rejectedByUsername||"Admin",e.jsx("br",{}),V.rejectedAt&&P(V.rejectedAt)]})})]},V.id))})]})})}),l>f&&e.jsxs("div",{className:"mt-6 flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>p(Math.max(0,x-f)),disabled:x===0,className:"px-4 py-2 bg-admin-card border border-admin-border text-brown-200 rounded-lg disabled:opacity-50 hover:bg-admin-hover transition-colors",children:""}),e.jsxs("span",{className:"px-4 py-2 text-brown-200",children:[" ",Math.floor(x/f)+1," / ",Math.ceil(l/f)]}),e.jsx("button",{onClick:()=>p(x+f),disabled:x+f>=l,className:"px-4 py-2 bg-admin-card border border-admin-border text-brown-200 rounded-lg disabled:opacity-50 hover:bg-admin-hover transition-colors",children:""})]}),g&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-brown-100",children:""}),e.jsx("button",{onClick:()=>{N(!1),v(null)},className:"text-brown-400 hover:text-brown-200 p-2 hover:bg-admin-hover rounded-lg transition-colors",children:e.jsx(Dt,{size:20})})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-brown-400",children:""}),e.jsx("div",{className:"mt-1 text-brown-100",children:w.memberUsername||w.memberId.slice(0,8)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-brown-400",children:""}),e.jsx("div",{className:"mt-1",children:$(w.rating)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-brown-400",children:""}),e.jsx("div",{className:"mt-1 p-3 bg-admin-bg rounded-lg text-brown-200",children:w.comment})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-3 bg-admin-bg rounded-lg hover:bg-admin-hover transition-colors",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:V=>T(V.target.checked),className:"w-4 h-4 text-gold-500 bg-admin-bg border-admin-border rounded focus:ring-gold-500"}),e.jsx("span",{className:"text-sm text-brown-200",children:""})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{N(!1),v(null)},className:"flex-1 px-4 py-3 bg-admin-hover text-brown-200 hover:bg-admin-border rounded-lg transition-all font-semibold",children:""}),e.jsx("button",{onClick:C,className:"flex-1 px-4 py-3 bg-gradient-to-r from-success to-success/80 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:""})]})]})}),A&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-brown-100",children:""}),e.jsx("button",{onClick:()=>{E(!1),v(null),M("")},className:"text-brown-400 hover:text-brown-200 p-2 hover:bg-admin-hover rounded-lg transition-colors",children:e.jsx(Dt,{size:20})})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-brown-400",children:""}),e.jsx("div",{className:"mt-1 text-brown-100",children:w.memberUsername||w.memberId.slice(0,8)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-brown-400",children:""}),e.jsx("div",{className:"mt-1",children:$(w.rating)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-brown-400",children:""}),e.jsx("div",{className:"mt-1 p-3 bg-admin-bg rounded-lg text-brown-200",children:w.comment})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" *"}),e.jsx("textarea",{value:S,onChange:V=>M(V.target.value),rows:3,className:"w-full px-4 py-3 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500 resize-none",placeholder:"..."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{E(!1),v(null),M("")},className:"flex-1 px-4 py-3 bg-admin-hover text-brown-200 hover:bg-admin-border rounded-lg transition-all font-semibold",children:""}),e.jsx("button",{onClick:R,className:"flex-1 px-4 py-3 bg-gradient-to-r from-error to-error/80 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:""})]})]})})]})},Kl="http://localhost:3001",ax="/api/v1",NA=()=>{const[s,n]=j.useState([]),[l,i]=j.useState(!0),[c,u]=j.useState(!1),[d,h]=j.useState(""),[f,x]=j.useState("grid"),[p,g]=j.useState("all"),[N,w]=j.useState(!1),[v,y]=j.useState(!1),[T,A]=j.useState("");j.useEffect(()=>{E()},[]);const E=async()=>{i(!0);try{const C=localStorage.getItem("admin_selector"),$=await(await fetch(`${Kl}${ax}/admin/images?category=promotions`,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"},credentials:"include"})).json();if($.success){const q=Array.isArray($.data)?$.data:[];n(q)}else n([])}catch(C){console.error("Error loading images:",C),U.error(""),n([])}finally{i(!1)}},S=async C=>{const R=C.target.files?.[0];if(R){if(!R.type.startsWith("image/")){U.error("");return}if(R.size>5*1024*1024){U.error(" 5MB");return}u(!0);try{const $=new FormData;$.append("image",R),$.append("category","promotions");const q=localStorage.getItem("admin_selector"),V=await(await fetch(`${Kl}${ax}/admin/images/upload`,{method:"POST",headers:{Authorization:`Bearer ${q}`},credentials:"include",body:$})).json();V.success?(U.success(""),w(!1),E()):U.error(V.message||"")}catch($){console.error("Error uploading image:",$),U.error("")}finally{u(!1)}}},M=C=>{A(C),y(!0)},L=async()=>{if(T)try{const C=localStorage.getItem("admin_selector"),$=await(await fetch(`${Kl}${ax}/admin/images?url=${encodeURIComponent(T)}`,{method:"DELETE",headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"},credentials:"include"})).json();$.success?(U.success(""),E()):U.error($.message||"")}catch(C){console.error("Error deleting image:",C),U.error("")}finally{A(""),y(!1)}},B=["all",...new Set(s.map(C=>{const R=C.url.split("/");return R[R.length-2]||"root"}))],D=s.filter(C=>{if(p!=="all"){const R=C.url.split("/");if((R[R.length-2]||"root")!==p)return!1}return d?(C.filename?.toLowerCase()||"").includes(d.toLowerCase()):!0});return l?e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-admin-bg",children:e.jsx("div",{className:"text-gold-500",children:"..."})}):e.jsxs("div",{className:"min-h-screen bg-admin-bg",children:[e.jsx("div",{className:"bg-gradient-to-r from-admin-card to-brown-900 border-b border-admin-border shadow-xl",children:e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2 flex items-center gap-2",children:[e.jsx(Pn,{}),""]}),e.jsxs("p",{className:"text-brown-300",children:[" ",s.length," "]})]}),e.jsxs("button",{onClick:()=>w(!0),className:"px-6 py-2 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 transition-all flex items-center gap-2 font-medium",children:[e.jsx(Pm,{}),""]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(Ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-brown-400"}),e.jsx("input",{type:"text",placeholder:"...",value:d,onChange:C=>h(C.target.value),className:"w-full pl-10 px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 placeholder-brown-500 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F6,{className:"text-brown-400"}),e.jsx("select",{value:p,onChange:C=>g(C.target.value),className:"px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:B.map(C=>e.jsx("option",{value:C,children:C==="all"?"":C},C))}),e.jsxs("span",{className:"text-brown-500 text-sm",children:["(",D.length," )"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x("grid"),className:`p-2 rounded-lg transition-colors ${f==="grid"?"bg-gold-500 text-brown-900":"bg-admin-hover text-brown-400 hover:text-gold-500"}`,title:" Grid",children:e.jsx(uh,{size:18})}),e.jsx("button",{onClick:()=>x("list"),className:`p-2 rounded-lg transition-colors ${f==="list"?"bg-gold-500 text-brown-900":"bg-admin-hover text-brown-400 hover:text-gold-500"}`,title:" List",children:e.jsx(ch,{size:18})})]})]})}),D.length===0?e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-12 text-center",children:[e.jsx(Pn,{className:"text-6xl text-brown-600 mx-auto mb-4"}),e.jsx("p",{className:"text-brown-400 mb-4",children:d||p!=="all"?"":""}),!d&&p==="all"&&e.jsx("button",{onClick:()=>w(!0),className:"px-6 py-3 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 transition-colors font-medium",children:""})]}):f==="grid"?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:D.map(C=>e.jsxs("div",{className:"group bg-admin-card border border-admin-border rounded-xl overflow-hidden hover:border-gold-500/50 hover:shadow-[0_0_30px_rgba(234,179,8,0.2)] transition-all duration-300",children:[e.jsxs("div",{className:"relative aspect-square bg-admin-bg p-2",children:[e.jsx("img",{src:`${Kl}${C.url}`,alt:C.filename,className:"w-full h-full object-cover rounded",loading:"lazy"}),e.jsx("button",{onClick:()=>M(C.url),className:"absolute top-3 left-3 bg-error/80 hover:bg-error text-white rounded-full p-1.5 transition-colors opacity-0 group-hover:opacity-100",title:"",children:e.jsx(Un,{size:14})})]}),e.jsxs("div",{className:"p-3 space-y-1",children:[e.jsx("p",{className:"font-semibold text-sm truncate text-brown-200",title:C.filename,children:C.filename}),C.size&&e.jsxs("p",{className:"text-xs text-brown-500",children:[(C.size/1024).toFixed(1)," KB"]})]})]},C.id))}):e.jsx("div",{className:"space-y-2",children:D.map(C=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border-2 border-admin-border bg-admin-card hover:border-gold-500/50 transition-all",children:[e.jsx("div",{className:"flex-shrink-0 w-24 h-16 bg-admin-hover rounded overflow-hidden",children:e.jsx("img",{src:`${Kl}${C.url}`,alt:C.filename,className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-brown-200 font-medium truncate",children:C.filename}),e.jsxs("p",{className:"text-xs text-brown-500",children:[C.size&&`${(C.size/1024).toFixed(1)} KB`,C.uploadedAt&&`  ${new Date(C.uploadedAt).toLocaleDateString("th-TH")}`]})]}),e.jsx("button",{onClick:()=>M(C.url),className:"flex-shrink-0 bg-error/80 hover:bg-error text-white rounded-lg p-2 transition-colors",title:"",children:e.jsx(Un,{size:16})})]},C.id))})]}),N&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl max-w-md w-full p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-gold-500",children:""}),e.jsx("button",{onClick:()=>w(!1),className:"text-brown-400 hover:text-gold-500 transition-colors",children:e.jsx(Dt,{size:24})})]}),e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"border-2 border-dashed border-admin-border rounded-xl p-12 hover:border-gold-500 transition-colors",children:[e.jsx(Pm,{className:"mx-auto text-6xl text-brown-500 mb-4"}),e.jsx("p",{className:"text-brown-300 mb-4",children:""}),e.jsx("p",{className:"text-brown-500 text-sm mb-4",children:": JPG, PNG, GIF ( 5MB)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:S,disabled:c,className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:`inline-flex items-center gap-2 px-6 py-3 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 transition-colors font-medium cursor-pointer ${c?"opacity-50 cursor-not-allowed":""}`,children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-brown-900"}),e.jsx("span",{children:"..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Pm,{}),e.jsx("span",{children:""})]})})]})})]})}),e.jsx(Wr,{isOpen:v,onClose:()=>{y(!1),A("")},onConfirm:L,title:"",message:"? ",confirmText:"",cancelText:"",type:"danger"})]})},Ql="http://localhost:3001",wA=()=>{const[s,n]=j.useState([]),[l,i]=j.useState(!0),[c,u]=j.useState(!1),[d,h]=j.useState(!1),[f,x]=j.useState(!1),[p,g]=j.useState(null),[N,w]=j.useState(null),[v,y]=j.useState({title:"",description:"",image_url:"",link_url:"",display_location:"home",banner_type:"large",is_active:!0,sort_order:0});j.useEffect(()=>{T()},[]);const T=async()=>{try{i(!0);const D=await Rt.admin.getPromotionBanners();n(D.data.data)}catch(D){console.error("Failed to load banners:",D),U.error("")}finally{i(!1)}},A=D=>{D?(w(D),y({title:D.title,description:D.description,image_url:D.image_url,link_url:D.link_url,display_location:D.display_location,banner_type:D.banner_type||"large",is_active:D.is_active,sort_order:D.sort_order,start_date:D.start_date,end_date:D.end_date})):(w(null),y({title:"",description:"",image_url:"",link_url:"",display_location:"home",banner_type:"large",is_active:!0,sort_order:0})),u(!0)},E=()=>{u(!1)},S=async D=>{if(D.preventDefault(),!v.title){U.error("");return}try{N?(await Rt.admin.updatePromotionBanner(N.id,v),U.success("")):(await Rt.admin.createPromotionBanner(v),U.success("")),E(),T()}catch(C){console.error("Submit failed:",C);const R=typeof C=="object"&&C!==null&&"message"in C?String(C.message):"";U.error(R)}},M=D=>{g(D),x(!0)},L=async()=>{if(p)try{await Rt.admin.deletePromotionBanner(p),U.success(""),T()}catch(D){console.error("Failed to delete banner:",D),U.error("")}finally{g(null)}},B=async D=>{try{await Rt.admin.updatePromotionBanner(D.id,{is_active:!D.is_active}),U.success(D.is_active?"":""),T()}catch(C){console.error("Toggle failed:",C),U.error("")}};return l?e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-admin-bg",children:e.jsx("div",{className:"spinner"})}):e.jsxs("div",{className:"p-6 max-w-[1800px] mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gold-500/20 to-gold-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Tg,{className:"w-5 h-5 text-gold-500"})}),""]}),e.jsxs("p",{className:"text-brown-300 text-sm ml-13",children:[" ",s.length,"  ( Landing  Member)"]})]}),e.jsxs("button",{onClick:()=>A(),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-gold-500 to-gold-600 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:[e.jsx(dh,{}),""]})]}),s.length===0?e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg p-12 text-center",children:[e.jsx(Tg,{className:"text-6xl text-brown-500 mx-auto mb-4"}),e.jsx("p",{className:"text-brown-400",children:""}),e.jsx("button",{onClick:()=>A(),className:"mt-4 px-6 py-3 bg-gradient-to-r from-gold-500 to-gold-600 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:""})]}):e.jsx("div",{className:"space-y-10",children:(()=>{const D=s.filter($=>($.banner_type||"large")==="small"),C=s.filter($=>($.banner_type||"large")==="large"),R=({items:$,title:q})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-xl font-semibold text-gold-500",children:q}),e.jsxs("span",{className:"text-brown-400 text-sm",children:[$.length," "]})]}),e.jsx("div",{className:"overflow-x-auto rounded-xl border border-admin-border",children:e.jsxs("table",{className:"min-w-full text-sm text-brown-200",children:[e.jsx("thead",{className:"bg-admin-hover text-brown-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:"Preview"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Title"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Location"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Sort"}),e.jsx("th",{className:"px-4 py-3 text-center",children:"Active"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Dates"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),e.jsx("tbody",{children:$.map(P=>e.jsxs("tr",{className:"border-t border-admin-border hover:bg-admin-hover/60",children:[e.jsx("td",{className:"px-4 py-3",children:P.image_url?e.jsx("img",{src:(()=>{const V=P.image_url;return V.startsWith("http")?V:V.startsWith("/uploads/")?`${Ql}${V}`:`${Ql}/uploads/promotions/${V}`})(),alt:P.title,className:"h-10 w-auto rounded",onError:V=>{V.target.style.display="none"}}):e.jsx("div",{className:"h-10 w-16 bg-admin-bg rounded"})}),e.jsx("td",{className:"px-4 py-3 font-semibold text-brown-100",children:P.title}),e.jsx("td",{className:"px-4 py-3 max-w-[280px]",children:e.jsx("span",{className:"line-clamp-2 text-brown-400",children:P.description})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${P.display_location==="home"?"bg-blue-500/20 text-blue-300":P.display_location==="member"?"bg-green-500/20 text-green-300":"bg-purple-500/20 text-purple-300"}`,children:P.display_location==="home"?"Landing":P.display_location==="member"?"Member":"Both"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${P.banner_type==="small"?"bg-amber-500/20 text-amber-300":"bg-emerald-500/20 text-emerald-300"}`,children:P.banner_type==="small"?"":""})}),e.jsx("td",{className:"px-4 py-3 text-right",children:P.sort_order}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("button",{onClick:()=>B(P),className:`px-2 py-1 rounded ${P.is_active?"bg-success/20 text-success":"bg-error/20 text-error"}`,title:P.is_active?"":"",children:P.is_active?e.jsx(oh,{}):e.jsx(uv,{})})}),e.jsx("td",{className:"px-4 py-3 text-brown-400",children:e.jsxs("div",{className:"space-y-0.5",children:[P.start_date&&e.jsxs("div",{children:[": ",new Date(P.start_date).toLocaleDateString("th-TH")]}),P.end_date&&e.jsxs("div",{children:[": ",new Date(P.end_date).toLocaleDateString("th-TH")]})]})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>A(P),className:"px-3 py-2 bg-info/20 text-info hover:bg-info/30 rounded-lg transition-all",title:"",children:e.jsx(zn,{})}),e.jsx("button",{onClick:()=>M(P.id),className:"p-2 text-error hover:bg-error/10 rounded transition-colors",title:"",children:e.jsx(Un,{})})]})})]},P.id))})]})})]});return e.jsxs(e.Fragment,{children:[e.jsx(R,{items:D,title:" (Small)"}),e.jsx(R,{items:C,title:" (Large)"})]})})()}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-2xl max-w-2xl w-full p-6 my-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gold-500",children:N?"":""}),e.jsx("button",{onClick:E,className:"text-brown-400 hover:text-brown-100 transition-colors",children:e.jsx(Dt,{size:24})})]}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" *"}),e.jsx("input",{type:"text",value:v.title||"",onChange:D=>y({...v,title:D.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("textarea",{value:v.description||"",onChange:D=>y({...v,description:D.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500 h-24 resize-none",rows:3})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("button",{type:"button",onClick:()=>h(!0),className:"w-full px-4 py-3 border-2 border-dashed border-admin-border rounded-lg hover:border-gold-500 transition-colors flex items-center justify-center gap-2 text-brown-400 hover:text-gold-500",children:[e.jsx(Pn,{}),e.jsx("span",{children:v.image_url?"":""})]}),v.image_url&&e.jsxs("div",{className:"mt-2 relative",children:[e.jsx("img",{src:(()=>{const D=v.image_url;return D.startsWith("http")?D:D.startsWith("/uploads/")?`${Ql}${D}`:`${Ql}/uploads/promotions/${D}`})(),alt:"Preview",className:"w-full rounded-lg",onError:D=>{const C=D.target;C.src=`${Ql}/uploads/promotions/promo-1.jpg`}}),e.jsx("button",{type:"button",onClick:()=>y({...v,image_url:""}),className:"absolute top-2 right-2 p-2 bg-error/80 text-white rounded-lg hover:bg-error transition-colors",children:e.jsx(Dt,{})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("input",{type:"text",value:v.link_url||"",onChange:D=>y({...v,link_url:D.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",placeholder:"/promotions/detail"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("select",{value:v.display_location||"home",onChange:D=>y({...v,display_location:D.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"home",children:"Landing Page"}),e.jsx("option",{value:"member",children:"Member Page"}),e.jsx("option",{value:"both",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("select",{value:v.banner_type||"large",onChange:D=>y({...v,banner_type:D.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",children:[e.jsx("option",{value:"small",children:" ()"}),e.jsx("option",{value:"large",children:" ( Slide)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("input",{type:"number",value:v.sort_order||0,onChange:D=>y({...v,sort_order:parseInt(D.target.value)}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("input",{type:"datetime-local",value:v.start_date?new Date(v.start_date).toISOString().slice(0,16):"",onChange:D=>y({...v,start_date:D.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("input",{type:"datetime-local",value:v.end_date?new Date(v.end_date).toISOString().slice(0,16):"",onChange:D=>y({...v,end_date:D.target.value}),className:"w-full px-3 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.is_active||!1,onChange:D=>y({...v,is_active:D.target.checked}),className:"w-4 h-4 text-gold-500 bg-admin-bg border-admin-border rounded focus:ring-gold-500"}),e.jsx("span",{className:"text-sm text-brown-200",children:""})]})})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-gold-500 to-gold-600 text-white rounded-lg hover:shadow-lg transition-all font-semibold",children:N?"":""}),e.jsx("button",{type:"button",onClick:E,className:"flex-1 px-6 py-3 bg-admin-hover text-brown-200 hover:bg-admin-border rounded-lg transition-all font-semibold",children:""})]})]})]})}),e.jsx($r,{isOpen:d,onClose:()=>h(!1),onSelect:D=>{y({...v,image_url:D.url}),h(!1)},currentImage:v.image_url}),e.jsx(Wr,{isOpen:f,onClose:()=>{x(!1),g(null)},onConfirm:L,title:"",message:"? ",confirmText:"",cancelText:"",type:"danger"})]})},Xl="http://localhost:3001",SA=()=>{const s=kt(),[n,l]=j.useState(!1),[i,c]=j.useState(!1),[u,d]=j.useState("logo"),[h,f]=j.useState(null),[x,p]=j.useState({siteName:"",siteLogo:"",siteLine:"",siteLineQrcode:"",siteNotifyAdmin:"",siteAlert:!1,siteAlertDescription:"",siteAdmin2faEnable:!1,siteAdmin2faMethod:"totp",siteStatusPincode:!1,siteNotifyAdminPincode:"",siteBanner1:"",siteBanner2:"",siteBanner3:"",siteAffStep:1,siteAffPercent:0,siteAffType:1,siteAffMinWithdraw:100,siteAffPromotion:!1,depositBankTransferEnabled:!0,depositGatewayEnabled:!0});j.useEffect(()=>{N(),g()},[]);const g=async()=>{try{const v=await ke.get("/2fa/status");v.data.success&&f(v.data.data)}catch(v){console.error("Failed to check 2FA status:",v)}},N=async()=>{try{const v=await ke.get("/settings");if(v.data.success&&v.data.data){const y=v.data.data;p({siteName:y.general?.site_name||"",siteLogo:y.general?.site_logo||"",siteLine:y.contact?.site_line||"",siteLineQrcode:y.contact?.site_line_qrcode||"",siteNotifyAdmin:y.notification?.site_notify_admin||"",siteAlert:y.general?.site_alert||!1,siteAlertDescription:y.general?.site_alert_description||"",siteAdmin2faEnable:y.security?.site_admin_2fa_enable||!1,siteAdmin2faMethod:y.security?.site_admin_2fa_method||"totp",siteStatusPincode:y.security?.site_status_pincode||!1,siteNotifyAdminPincode:y.notification?.site_notify_admin_pincode||"",siteBanner1:y.banner?.site_banner1||"",siteBanner2:y.banner?.site_banner2||"",siteBanner3:y.banner?.site_banner3||"",siteAffStep:y.referral?.site_aff_step||3,siteAffPercent:y.referral?.site_aff_percent||"",siteAffType:y.referral?.site_aff_type||"turnover",siteAffMinWithdraw:y.referral?.site_aff_min_withdraw||100,siteAffPromotion:y.referral?.site_aff_promotion||!1,depositBankTransferEnabled:y.payment?.deposit_bank_transfer_enabled??!0,depositGatewayEnabled:y.payment?.deposit_gateway_enabled??!0})}}catch(v){console.error("Load settings error:",v),U.error("")}},w=async()=>{try{l(!0);const v={site_name:x.siteName,site_logo:x.siteLogo,site_line:x.siteLine,site_line_qrcode:x.siteLineQrcode,site_notify_admin:x.siteNotifyAdmin,site_alert:x.siteAlert?"true":"false",site_alert_description:x.siteAlertDescription,site_admin_2fa_enable:x.siteAdmin2faEnable?"true":"false",site_admin_2fa_method:x.siteAdmin2faMethod,site_status_pincode:x.siteStatusPincode?"true":"false",site_notify_admin_pincode:x.siteNotifyAdminPincode,site_banner1:x.siteBanner1,site_banner2:x.siteBanner2,site_banner3:x.siteBanner3,site_aff_step:x.siteAffStep.toString(),site_aff_percent:x.siteAffPercent,site_aff_type:x.siteAffType,site_aff_min_withdraw:x.siteAffMinWithdraw.toString(),site_aff_promotion:x.siteAffPromotion?"true":"false",deposit_bank_transfer_enabled:x.depositBankTransferEnabled?"true":"false",deposit_gateway_enabled:x.depositGatewayEnabled?"true":"false"};(await ke.put("/settings",v)).data.success&&U.success("")}catch(v){U.error(v.response?.data?.message||"")}finally{l(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gold-500 mb-4",children:""}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:""}),e.jsx("input",{type:"text",value:x.siteName,onChange:v=>p({...x,siteName:v.target.value}),className:"input",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Logo"}),e.jsxs("button",{type:"button",onClick:()=>{d("logo"),c(!0)},className:"w-full px-4 py-3 border-2 border-dashed border-brown-700 rounded-lg hover:border-gold-500 transition-colors flex items-center justify-center gap-2 text-brown-400 hover:text-gold-500",children:[e.jsx(ia,{}),e.jsx("span",{children:x.siteLogo?" Logo":" Logo"})]}),x.siteLogo&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:x.siteLogo.startsWith("http")?x.siteLogo:`${Xl}${x.siteLogo}`,alt:"Logo",className:"h-16 object-contain bg-white/5 rounded p-2"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:""}),e.jsx("input",{type:"text",value:x.siteLine,onChange:v=>p({...x,siteLine:v.target.value}),className:"input",placeholder:"https://line.me/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"QR Code "}),e.jsxs("button",{type:"button",onClick:()=>{d("qrcode"),c(!0)},className:"w-full px-4 py-3 border-2 border-dashed border-brown-700 rounded-lg hover:border-gold-500 transition-colors flex items-center justify-center gap-2 text-brown-400 hover:text-gold-500",children:[e.jsx(ia,{}),e.jsx("span",{children:x.siteLineQrcode?" QR Code":" QR Code"})]}),x.siteLineQrcode&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:x.siteLineQrcode.startsWith("http")?x.siteLineQrcode:`${Xl}${x.siteLineQrcode}`,alt:"Line QR Code",className:"w-32 h-32 object-contain bg-white/5 rounded p-2"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:" Member"}),e.jsx("textarea",{value:x.siteAlertDescription,onChange:v=>p({...x,siteAlertDescription:v.target.value}),className:"input",rows:3,placeholder:""})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"siteAlert",checked:x.siteAlert,onChange:v=>p({...x,siteAlert:v.target.checked}),className:"w-5 h-5 rounded border-brown-700 text-gold-500 focus:ring-gold-500"}),e.jsx("label",{htmlFor:"siteAlert",className:"text-brown-100",children:" Member"})]})]})]}),e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gold-500 mb-4",children:" Banner"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Banner  1"}),e.jsxs("button",{type:"button",onClick:()=>{d("banner1"),c(!0)},className:"w-full px-4 py-3 border-2 border-dashed border-brown-700 rounded-lg hover:border-gold-500 transition-colors flex items-center justify-center gap-2 text-brown-400 hover:text-gold-500",children:[e.jsx(ia,{}),e.jsx("span",{children:x.siteBanner1?" Banner 1":" Banner 1"})]}),x.siteBanner1&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:x.siteBanner1.startsWith("http")?x.siteBanner1:`${Xl}${x.siteBanner1}`,alt:"Banner 1",className:"w-full h-32 object-cover rounded"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Banner  2"}),e.jsxs("button",{type:"button",onClick:()=>{d("banner2"),c(!0)},className:"w-full px-4 py-3 border-2 border-dashed border-brown-700 rounded-lg hover:border-gold-500 transition-colors flex items-center justify-center gap-2 text-brown-400 hover:text-gold-500",children:[e.jsx(ia,{}),e.jsx("span",{children:x.siteBanner2?" Banner 2":" Banner 2"})]}),x.siteBanner2&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:x.siteBanner2.startsWith("http")?x.siteBanner2:`${Xl}${x.siteBanner2}`,alt:"Banner 2",className:"w-full h-32 object-cover rounded"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Banner  3"}),e.jsxs("button",{type:"button",onClick:()=>{d("banner3"),c(!0)},className:"w-full px-4 py-3 border-2 border-dashed border-brown-700 rounded-lg hover:border-gold-500 transition-colors flex items-center justify-center gap-2 text-brown-400 hover:text-gold-500",children:[e.jsx(ia,{}),e.jsx("span",{children:x.siteBanner3?" Banner 3":" Banner 3"})]}),x.siteBanner3&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:x.siteBanner3.startsWith("http")?x.siteBanner3:`${Xl}${x.siteBanner3}`,alt:"Banner 3",className:"w-full h-32 object-cover rounded"})})]})]})]}),e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gold-500 mb-4",children:""}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-admin-dark/50 rounded-lg p-4 border border-brown-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Kc,{className:"w-6 h-6 text-gold-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gold-400",children:"2FA  Admin"})]}),h?.enabled&&e.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsx("span",{children:""})]})]}),e.jsx("div",{className:"space-y-3",children:h?.enabled?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[e.jsx("p",{className:"text-green-200 text-sm mb-2",children:"  2FA "}),h.verified_at&&e.jsxs("p",{className:"text-green-300 text-xs",children:[": ",new Date(h.verified_at).toLocaleString("th-TH")]}),h.backup_codes_count>0&&e.jsxs("p",{className:"text-green-300 text-xs",children:[": ",h.backup_codes_count," "]})]}),e.jsx("button",{type:"button",onClick:()=>{confirm(" 2FA ?")&&U("")},className:"w-full px-4 py-2 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition-colors",children:" 2FA"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-yellow-200 text-sm",children:"  Two-Factor Authentication"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"admin2faEnable",checked:x.siteAdmin2faEnable,onChange:v=>p({...x,siteAdmin2faEnable:v.target.checked}),className:"w-5 h-5 rounded border-brown-700 text-gold-500 focus:ring-gold-500"}),e.jsx("label",{htmlFor:"admin2faEnable",className:"text-brown-100",children:" 2FA "})]}),x.siteAdmin2faEnable&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:""}),e.jsxs("select",{value:x.siteAdmin2faMethod,onChange:v=>p({...x,siteAdmin2faMethod:v.target.value}),className:"input",children:[e.jsx("option",{value:"totp",children:"TOTP (Google Authenticator)"}),e.jsx("option",{value:"email",children:"Email OTP"})]}),e.jsx("p",{className:"text-xs text-brown-400 mt-1",children:x.siteAdmin2faMethod==="totp"?" Google Authenticator  Authy  OTP":" OTP  Admin"})]}),e.jsx("button",{type:"button",onClick:()=>s("/admin/setup-2fa"),className:"w-full px-4 py-3 bg-gold-500 hover:bg-gold-600 text-admin-dark rounded-lg font-medium transition-colors",children:" 2FA "})]})]})})]}),e.jsxs("div",{className:"bg-admin-dark/50 rounded-lg p-4 border border-brown-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Pincode "}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"statusPincode",checked:x.siteStatusPincode,onChange:v=>p({...x,siteStatusPincode:v.target.checked}),className:"w-5 h-5 rounded border-brown-700 text-gold-500 focus:ring-gold-500"}),e.jsx("label",{htmlFor:"statusPincode",className:"text-brown-100",children:" Pincode -"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Line Notify Token (Pincode)"}),e.jsx("input",{type:"text",value:x.siteNotifyAdminPincode,onChange:v=>p({...x,siteNotifyAdminPincode:v.target.value}),className:"input",placeholder:"Line Token  Pincode"})]})]})]}),e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gold-500 mb-4",children:""}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:""}),e.jsx("input",{type:"number",value:x.siteAffStep,onChange:v=>p({...x,siteAffStep:parseInt(v.target.value)||1}),className:"input",placeholder:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:""}),e.jsx("input",{type:"number",value:x.siteAffPercent,onChange:v=>p({...x,siteAffPercent:parseFloat(v.target.value)||0}),className:"input",placeholder:"0.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:""}),e.jsxs("select",{value:x.siteAffType,onChange:v=>p({...x,siteAffType:parseInt(v.target.value)}),className:"input",children:[e.jsx("option",{value:1,children:"Turnover"}),e.jsx("option",{value:2,children:"Win/Loss"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:""}),e.jsx("input",{type:"number",value:x.siteAffMinWithdraw,onChange:v=>p({...x,siteAffMinWithdraw:parseFloat(v.target.value)||100}),className:"input",placeholder:"100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"affPromotion",checked:x.siteAffPromotion,onChange:v=>p({...x,siteAffPromotion:v.target.checked}),className:"w-5 h-5 rounded border-brown-700 text-gold-500 focus:ring-gold-500"}),e.jsx("label",{htmlFor:"affPromotion",className:"text-brown-100",children:""})]})]})]}),e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gold-500 mb-4",children:""}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-admin-dark/50 rounded-lg p-4 border border-brown-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"depositBankTransfer",checked:x.depositBankTransferEnabled,onChange:v=>p({...x,depositBankTransferEnabled:v.target.checked}),className:"w-5 h-5 rounded border-brown-700 text-gold-500 focus:ring-gold-500"}),e.jsxs("label",{htmlFor:"depositBankTransfer",className:"text-brown-100 flex-1",children:[e.jsx("div",{className:"font-medium",children:""}),e.jsx("div",{className:"text-xs text-brown-400 mt-1",children:""})]})]})}),e.jsx("div",{className:"bg-admin-dark/50 rounded-lg p-4 border border-brown-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"depositGateway",checked:x.depositGatewayEnabled,onChange:v=>p({...x,depositGatewayEnabled:v.target.checked}),className:"w-5 h-5 rounded border-brown-700 text-gold-500 focus:ring-gold-500"}),e.jsxs("label",{htmlFor:"depositGateway",className:"text-brown-100 flex-1",children:[e.jsx("div",{className:"font-medium",children:" Gateway (QR)"}),e.jsx("div",{className:"text-xs text-brown-400 mt-1",children:" Payment Gateway  QR Code"})]})]})}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-blue-200 text-sm",children:" "})})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:w,disabled:n,className:"flex items-center gap-2 bg-gold-500 hover:bg-gold-600 text-admin-dark px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50",children:[e.jsx(ha,{className:"w-5 h-5"}),n?"...":""]})}),e.jsx($r,{isOpen:i,onClose:()=>c(!1),onSelect:v=>{const y=v.url;switch(u){case"logo":p({...x,siteLogo:y});break;case"banner1":p({...x,siteBanner1:y});break;case"banner2":p({...x,siteBanner2:y});break;case"banner3":p({...x,siteBanner3:y});break;case"qrcode":p({...x,siteLineQrcode:y});break}c(!1)},currentImage:u==="logo"?x.siteLogo:u==="banner1"?x.siteBanner1:u==="banner2"?x.siteBanner2:u==="banner3"?x.siteBanner3:x.siteLineQrcode})]})},CA=()=>{const[s,n]=j.useState(!1),[l,i]=j.useState({statusWithdraw:!0,turnOver:1,perdayWithdraw:3,maxWithdraw:5e4,maxAutoWithdraw:2e4,statusPincodeWithdraw:!1,notifyAdminWithdraw:"",forceAllWithdrawals:!1,statusKbankWithdraw:!1,cashbackEnable:!1,cashbackPercent:5,cashbackTimeStart:0,cashbackTimeEnd:23,cashbackTurnover:!1,ambAuthToken:"",ambAuthTokenSeamless:""});j.useEffect(()=>{c()},[]);const c=async()=>{try{const d=await ke.get("/settings");if(d.data.success&&d.data.data){const h=d.data.data;i({statusWithdraw:h.withdrawal?.status_withdraw||!0,turnOver:h.withdrawal?.site_turn_over||1,perdayWithdraw:h.withdrawal?.site_perday_withdraw||3,maxWithdraw:h.withdrawal?.site_max_withdraw||5e4,maxAutoWithdraw:h.withdrawal?.site_max_auto_withdraw||2e4,statusPincodeWithdraw:h.withdrawal?.site_status_pincode_withdraw||!1,notifyAdminWithdraw:h.notification?.site_notify_admin_withdraw||"",forceAllWithdrawals:h.withdrawal?.site_force_all_withdrawals||!1,statusKbankWithdraw:h.withdrawal?.site_status_kbank_withdraw||!1,cashbackEnable:h.cashback?.site_cashback_enable||!1,cashbackPercent:h.cashback?.site_cashback_percent||5,cashbackTimeStart:h.cashback?.site_cashback_time_start||0,cashbackTimeEnd:h.cashback?.site_cashback_time_end||23,cashbackTurnover:h.cashback?.site_cashback_turnover||!1,ambAuthToken:h.integration?.site_amb_auth_token||"",ambAuthTokenSeamless:h.integration?.site_amb_auth_token_seamless||""})}}catch(d){console.error("Load settings error:",d),U.error("")}},u=async()=>{try{n(!0);const d={status_withdraw:l.statusWithdraw?"true":"false",site_turn_over:l.turnOver.toString(),site_perday_withdraw:l.perdayWithdraw.toString(),site_max_withdraw:l.maxWithdraw.toString(),site_max_auto_withdraw:l.maxAutoWithdraw.toString(),site_status_pincode_withdraw:l.statusPincodeWithdraw?"true":"false",site_notify_admin_withdraw:l.notifyAdminWithdraw,site_force_all_withdrawals:l.forceAllWithdrawals?"true":"false",site_status_kbank_withdraw:l.statusKbankWithdraw?"true":"false",site_cashback_enable:l.cashbackEnable?"true":"false",site_cashback_percent:l.cashbackPercent.toString(),site_cashback_time_start:l.cashbackTimeStart.toString(),site_cashback_time_end:l.cashbackTimeEnd.toString(),site_cashback_turnover:l.cashbackTurnover?"true":"false",site_amb_auth_token:l.ambAuthToken,site_amb_auth_token_seamless:l.ambAuthTokenSeamless};(await ke.put("/settings",d)).data.success&&U.success("")}catch(d){const h=d;U.error(h.response?.data?.message||"")}finally{n(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gold-500 mb-4",children:""}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"statusWithdraw",checked:l.statusWithdraw,onChange:d=>i({...l,statusWithdraw:d.target.checked}),className:"w-5 h-5 rounded border-brown-700 text-gold-500 focus:ring-gold-500"}),e.jsx("label",{htmlFor:"statusWithdraw",className:"text-brown-100",children:"/"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Turn Over"}),e.jsx("input",{type:"number",step:"0.1",value:l.turnOver,onChange:d=>i({...l,turnOver:Number(d.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:""}),e.jsx("input",{type:"number",value:l.perdayWithdraw,onChange:d=>i({...l,perdayWithdraw:Number(d.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:""}),e.jsx("input",{type:"number",value:l.maxWithdraw,onChange:d=>i({...l,maxWithdraw:Number(d.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:" (AUTO)"}),e.jsx("input",{type:"number",value:l.maxAutoWithdraw,onChange:d=>i({...l,maxAutoWithdraw:Number(d.target.value)}),className:"input"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"statusPincodeWithdraw",checked:l.statusPincodeWithdraw,onChange:d=>i({...l,statusPincodeWithdraw:d.target.checked}),className:"w-5 h-5 rounded border-brown-700 text-gold-500 focus:ring-gold-500"}),e.jsx("label",{htmlFor:"statusPincodeWithdraw",className:"text-brown-100",children:""})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"forceAllWithdrawals",checked:l.forceAllWithdrawals,onChange:d=>i({...l,forceAllWithdrawals:d.target.checked}),className:"w-5 h-5 rounded border-brown-700 text-gold-500 focus:ring-gold-500"}),e.jsx("label",{htmlFor:"forceAllWithdrawals",className:"text-brown-100",children:""})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"statusKbankWithdraw",checked:l.statusKbankWithdraw,onChange:d=>i({...l,statusKbankWithdraw:d.target.checked}),className:"w-5 h-5 rounded border-brown-700 text-gold-500 focus:ring-gold-500"}),e.jsx("label",{htmlFor:"statusKbankWithdraw",className:"text-brown-100",children:" KBANK"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Line Notify "}),e.jsx("input",{type:"text",value:l.notifyAdminWithdraw,onChange:d=>i({...l,notifyAdminWithdraw:d.target.value}),className:"input",placeholder:"Line Notify Token"})]})]})]}),e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gold-500 mb-4",children:""}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"cashbackEnable",checked:l.cashbackEnable,onChange:d=>i({...l,cashbackEnable:d.target.checked}),className:"w-5 h-5 rounded border-brown-700 text-gold-500 focus:ring-gold-500"}),e.jsx("label",{htmlFor:"cashbackEnable",className:"text-brown-100",children:"/ "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:" %"}),e.jsx("input",{type:"number",step:"0.1",value:l.cashbackPercent,onChange:d=>i({...l,cashbackPercent:Number(d.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:" ()"}),e.jsx("select",{value:l.cashbackTimeStart,onChange:d=>i({...l,cashbackTimeStart:Number(d.target.value)}),className:"input",children:Array.from({length:24},(d,h)=>e.jsxs("option",{value:h,children:[h,":00"]},h))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:" ()"}),e.jsx("select",{value:l.cashbackTimeEnd,onChange:d=>i({...l,cashbackTimeEnd:Number(d.target.value)}),className:"input",children:Array.from({length:24},(d,h)=>e.jsxs("option",{value:h,children:[h,":00"]},h))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"cashbackTurnover",checked:l.cashbackTurnover,onChange:d=>i({...l,cashbackTurnover:d.target.checked}),className:"w-5 h-5 rounded border-brown-700 text-gold-500 focus:ring-gold-500"}),e.jsx("label",{htmlFor:"cashbackTurnover",className:"text-brown-100",children:" Cashback "})]})]})]}),e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gold-500 mb-4",children:"AMB TOKEN"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Auth Token AMB Transfer"}),e.jsx("input",{type:"text",value:l.ambAuthToken,onChange:d=>i({...l,ambAuthToken:d.target.value}),className:"input",placeholder:"AMB Transfer Token"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Auth Token AMB Seamless"}),e.jsx("input",{type:"text",value:l.ambAuthTokenSeamless,onChange:d=>i({...l,ambAuthTokenSeamless:d.target.value}),className:"input",placeholder:"AMB Seamless Token"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:u,disabled:s,className:"flex items-center gap-2 bg-gold-500 hover:bg-gold-600 text-admin-dark px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50",children:[e.jsx(ha,{className:"w-5 h-5"}),s?"...":""]})})]})},kA=()=>{const[s,n]=j.useState(!1),[l,i]=j.useState({siteNotifyAdmin:"",siteNotifyAdminPincode:"",siteNotifyAdminWithdraw:""});j.useEffect(()=>{c()},[]);const c=async()=>{try{const d=await ke.get("/settings");if(d.data.success&&d.data.data){const h=d.data.data;i({siteNotifyAdmin:h.notification?.site_notify_admin||"",siteNotifyAdminPincode:h.notification?.site_notify_admin_pincode||"",siteNotifyAdminWithdraw:h.notification?.site_notify_admin_withdraw||""})}}catch(d){console.error("Load settings error:",d),U.error("")}},u=async()=>{try{n(!0);const d={site_notify_admin:l.siteNotifyAdmin,site_notify_admin_pincode:l.siteNotifyAdminPincode,site_notify_admin_withdraw:l.siteNotifyAdminWithdraw};(await ke.put("/settings",d)).data.success&&U.success("")}catch(d){const h=d;U.error(h.response?.data?.message||"")}finally{n(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-100",children:[e.jsx("p",{className:"font-medium mb-1",children:" Line Notify Token:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-200",children:[e.jsxs("li",{children:[" ",e.jsx("a",{href:"https://notify-bot.line.me/my/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"https://notify-bot.line.me/my/"})]}),e.jsx("li",{children:' "Generate token"'}),e.jsx("li",{children:""}),e.jsx("li",{children:" Token "})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(xc,{className:"w-5 h-5 text-gold-500"}),e.jsx("h2",{className:"text-xl font-bold text-gold-500",children:"Line Notify Token (Admin)"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Token "}),e.jsx("input",{type:"text",value:l.siteNotifyAdmin,onChange:d=>i({...l,siteNotifyAdmin:d.target.value}),className:"w-full bg-admin-dark border border-brown-700 rounded-lg px-4 py-2 text-brown-100 focus:border-gold-500 focus:outline-none font-mono text-sm",placeholder:" Line Notify Token"}),e.jsx("p",{className:"text-xs text-brown-400 mt-1",children:"  , "})]})})]}),e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(xc,{className:"w-5 h-5 text-purple-500"}),e.jsx("h2",{className:"text-xl font-bold text-purple-400",children:"Line Notify Token (Pincode)"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Token  Pincode"}),e.jsx("input",{type:"text",value:l.siteNotifyAdminPincode,onChange:d=>i({...l,siteNotifyAdminPincode:d.target.value}),className:"w-full bg-admin-dark border border-brown-700 rounded-lg px-4 py-2 text-brown-100 focus:border-gold-500 focus:outline-none font-mono text-sm",placeholder:" Line Notify Token"}),e.jsx("p",{className:"text-xs text-brown-400 mt-1",children:" Pincode"})]})})]}),e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(xc,{className:"w-5 h-5 text-red-500"}),e.jsx("h2",{className:"text-xl font-bold text-red-400",children:"Line Notify Token (Withdrawal)"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Token "}),e.jsx("input",{type:"text",value:l.siteNotifyAdminWithdraw,onChange:d=>i({...l,siteNotifyAdminWithdraw:d.target.value}),className:"w-full bg-admin-dark border border-brown-700 rounded-lg px-4 py-2 text-brown-100 focus:border-gold-500 focus:outline-none font-mono text-sm",placeholder:" Line Notify Token"}),e.jsx("p",{className:"text-xs text-brown-400 mt-1",children:""})]})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:u,disabled:s,className:"flex items-center gap-2 bg-gold-500 hover:bg-gold-600 text-admin-dark px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ha,{className:"w-5 h-5"}),s?"...":""]})})]})},TA=()=>{const[s,n]=j.useState(!1),[l,i]=j.useState({siteTelegramBotToken:"",siteTelegramChatId:"",siteTelegramChatIdDeposit:"",siteTelegramChatIdWithdraw:"",siteTelegramEnable:!1});j.useEffect(()=>{c()},[]);const c=async()=>{try{const d=await ke.get("/settings");if(d.data.success&&d.data.data){const h=d.data.data;i({siteTelegramBotToken:h.telegram?.site_telegram_bot_token||"",siteTelegramChatId:h.telegram?.site_telegram_chat_id||"",siteTelegramChatIdDeposit:h.telegram?.site_telegram_chat_id_deposit||"",siteTelegramChatIdWithdraw:h.telegram?.site_telegram_chat_id_withdraw||"",siteTelegramEnable:h.telegram?.site_telegram_enable||!1})}}catch(d){console.error("Load settings error:",d),U.error("")}},u=async()=>{try{n(!0);const d={site_telegram_bot_token:l.siteTelegramBotToken,site_telegram_chat_id:l.siteTelegramChatId,site_telegram_chat_id_deposit:l.siteTelegramChatIdDeposit,site_telegram_chat_id_withdraw:l.siteTelegramChatIdWithdraw,site_telegram_enable:l.siteTelegramEnable?"true":"false"};(await ke.put("/settings",d)).data.success&&U.success("")}catch(d){const h=d;U.error(h.response?.data?.message||"")}finally{n(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-100",children:[e.jsx("p",{className:"font-medium mb-1",children:" Telegram Bot:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-200",children:[e.jsxs("li",{children:[" ",e.jsx("code",{className:"bg-blue-900/30 px-1 rounded",children:"@BotFather"}),"  Telegram"]}),e.jsxs("li",{children:[" ",e.jsx("code",{className:"bg-blue-900/30 px-1 rounded",children:"/newbot"})]}),e.jsx("li",{children:" Bot  Username"}),e.jsx("li",{children:" Bot Token "}),e.jsx("li",{children:" Bot "}),e.jsxs("li",{children:[" Chat ID  ",e.jsx("a",{href:"https://api.telegram.org/bot[YOUR_BOT_TOKEN]/getUpdates",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"getUpdates API"})]})]})]})]}),e.jsx("div",{className:"bg-admin-card rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fe,{className:"w-6 h-6 text-gold-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gold-500",children:" Telegram"}),e.jsx("p",{className:"text-sm text-brown-300",children:"/ Telegram"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.siteTelegramEnable,onChange:d=>i({...l,siteTelegramEnable:d.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-7 bg-brown-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gold-500/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-gold-500"})]})]})}),e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ei,{className:"w-5 h-5 text-gold-500"}),e.jsx("h2",{className:"text-xl font-bold text-gold-500",children:"Telegram Bot Token"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Bot Token"}),e.jsx("input",{type:"text",value:l.siteTelegramBotToken,onChange:d=>i({...l,siteTelegramBotToken:d.target.value}),className:"w-full bg-admin-dark border border-brown-700 rounded-lg px-4 py-2 text-brown-100 focus:border-gold-500 focus:outline-none font-mono text-sm",placeholder:"123456789:ABCdefGHIjklMNOpqrsTUVwxyz"}),e.jsx("p",{className:"text-xs text-brown-400 mt-1",children:"Token  @BotFather"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ei,{className:"w-5 h-5 text-purple-500"}),e.jsx("h2",{className:"text-xl font-bold text-purple-400",children:"Chat ID (Admin)"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Chat ID "}),e.jsx("input",{type:"text",value:l.siteTelegramChatId,onChange:d=>i({...l,siteTelegramChatId:d.target.value}),className:"w-full bg-admin-dark border border-brown-700 rounded-lg px-4 py-2 text-brown-100 focus:border-gold-500 focus:outline-none font-mono text-sm",placeholder:"-1001234567890"}),e.jsx("p",{className:"text-xs text-brown-400 mt-1",children:"  "})]})})]}),e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ei,{className:"w-5 h-5 text-green-500"}),e.jsx("h2",{className:"text-xl font-bold text-green-400",children:"Chat ID (Deposit)"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Chat ID "}),e.jsx("input",{type:"text",value:l.siteTelegramChatIdDeposit,onChange:d=>i({...l,siteTelegramChatIdDeposit:d.target.value}),className:"w-full bg-admin-dark border border-brown-700 rounded-lg px-4 py-2 text-brown-100 focus:border-gold-500 focus:outline-none font-mono text-sm",placeholder:"-1001234567890"}),e.jsx("p",{className:"text-xs text-brown-400 mt-1",children:""})]})})]}),e.jsxs("div",{className:"bg-admin-card rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ei,{className:"w-5 h-5 text-red-500"}),e.jsx("h2",{className:"text-xl font-bold text-red-400",children:"Chat ID (Withdrawal)"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-100 mb-2",children:"Chat ID "}),e.jsx("input",{type:"text",value:l.siteTelegramChatIdWithdraw,onChange:d=>i({...l,siteTelegramChatIdWithdraw:d.target.value}),className:"w-full bg-admin-dark border border-brown-700 rounded-lg px-4 py-2 text-brown-100 focus:border-gold-500 focus:outline-none font-mono text-sm",placeholder:"-1001234567890"}),e.jsx("p",{className:"text-xs text-brown-400 mt-1",children:""})]})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:u,disabled:s,className:"flex items-center gap-2 bg-gold-500 hover:bg-gold-600 text-admin-dark px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ha,{className:"w-5 h-5"}),s?"...":""]})})]})},AA=()=>{const[s,n]=j.useState([]),[l,i]=j.useState(!0),[c,u]=j.useState(!1),[d,h]=j.useState(null),[f,x]=j.useState({bankType:"SCB",accountNumber:"",accountName:"",bankCode:"",bankName:"",dailyLimit:1e6,apiUsername:"",apiPassword:"",deviceId:"",phoneNumber:"",priority:0});j.useEffect(()=>{p()},[]);const p=async()=>{try{i(!0);const M=await J.get("/bank-accounts");if(M.data.success&&M.data.data){const L=M.data.data.bankAccounts||[];n(Array.isArray(L)?L:[])}else n([])}catch(M){console.error("Failed to load bank accounts:",M),U.error(""),n([])}finally{i(!1)}},g=async M=>{M.preventDefault();try{const L={bankType:f.bankType,accountNumber:f.accountNumber,accountName:f.accountName,bankCode:f.bankCode,bankName:f.bankName,dailyLimit:f.dailyLimit,priority:f.priority};f.apiUsername&&(L.apiUsername=f.apiUsername),f.apiPassword&&(L.apiPassword=f.apiPassword),f.deviceId&&(L.deviceId=f.deviceId),f.phoneNumber&&(L.phoneNumber=f.phoneNumber),d?(await J.patch(`/bank-accounts/${d.id}`,L),U.success("")):(await J.post("/bank-accounts",L),U.success("")),A(),p()}catch(L){console.error("Failed to save bank account:",L),U.error(L.response?.data?.message||"")}},N=async M=>{if(confirm("?"))try{await J.delete(`/bank-accounts/${M}`),U.success(""),p()}catch{U.error("")}},w=async M=>{try{M.status==="ACTIVE"?(await J.post(`/bank-accounts/${M.id}/deactivate`),U.success("")):(await J.post(`/bank-accounts/${M.id}/activate`),U.success("")),p()}catch{U.error("")}},v=async M=>{try{await J.post(`/bank-accounts/${M}/set-default`),U.success(""),p()}catch{U.error("")}},y=async M=>{try{await J.post(`/bank-accounts/${M}/reset-usage`),U.success(""),p()}catch{U.error("")}},T=M=>{h(M),x({bankType:M.bankType,accountNumber:M.accountNumber,accountName:M.accountName,bankCode:M.bankCode,bankName:M.bankName,dailyLimit:M.dailyLimit,apiUsername:M.apiUsername||"",apiPassword:M.apiPassword||"",deviceId:M.deviceId||"",phoneNumber:M.phoneNumber||"",priority:M.priority}),u(!0)},A=()=>{x({bankType:"SCB",accountNumber:"",accountName:"",bankCode:"",bankName:"",dailyLimit:1e6,apiUsername:"",apiPassword:"",deviceId:"",phoneNumber:"",priority:0}),h(null),u(!1)},E=M=>M.toLocaleString("th-TH",{minimumFractionDigits:2}),S=M=>{switch(M){case"SCB":return"from-purple-500 to-purple-600";case"KBANK":return"from-green-500 to-green-600";case"TRUEWALLET":return"from-orange-500 to-orange-600";default:return"from-gray-500 to-gray-600"}};return l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(dt,{className:"w-8 h-8 text-gold-500 animate-spin"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gold-500",children:""}),e.jsx("p",{className:"text-brown-300 text-sm mt-1",children:"-"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-gold-500 to-gold-600 text-brown-900 rounded-lg hover:shadow-lg transition-all font-semibold",children:[e.jsx(Yc,{className:"w-5 h-5"}),""]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.map(M=>e.jsxs("div",{className:"bg-admin-card rounded-lg border border-admin-border p-6 hover:border-gold-500/50 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`px-3 py-1.5 bg-gradient-to-r ${S(M.bankType)} rounded-lg`,children:e.jsx("span",{className:"text-white font-bold text-sm",children:M.bankType})}),e.jsxs("div",{className:"flex gap-1",children:[M.isDefault&&e.jsx("span",{className:"text-gold-500",title:"",children:e.jsx(wc,{className:"w-5 h-5 fill-current"})}),e.jsx("button",{onClick:()=>w(M),className:`p-1.5 rounded transition-all ${M.status==="ACTIVE"?"text-success hover:bg-success/20":"text-gray-500 hover:bg-gray-500/20"}`,title:M.status==="ACTIVE"?"":"",children:M.status==="ACTIVE"?e.jsx(Sv,{className:"w-6 h-6"}):e.jsx(wv,{className:"w-6 h-6"})})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-brown-400",children:""}),e.jsx("p",{className:"text-white font-mono font-bold",children:M.accountNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-brown-400",children:""}),e.jsx("p",{className:"text-brown-100",children:M.accountName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-brown-400",children:""}),e.jsx("p",{className:"text-brown-100",children:M.bankName})]})]}),e.jsxs("div",{className:"bg-admin-bg rounded-lg p-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs text-brown-400",children:""}),e.jsx("button",{onClick:()=>y(M.id),className:"text-xs text-info hover:text-info/80",children:""})]}),e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsx("span",{className:"text-sm font-bold text-brown-100",children:E(M.currentUsage)}),e.jsxs("span",{className:"text-xs text-brown-400",children:["/ ",E(M.dailyLimit)]})]}),e.jsx("div",{className:"w-full bg-brown-800 rounded-full h-1.5 mt-2",children:e.jsx("div",{className:"bg-gradient-to-r from-gold-500 to-gold-600 h-1.5 rounded-full",style:{width:`${Math.min(M.currentUsage/M.dailyLimit*100,100)}%`}})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>T(M),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-info/20 text-info rounded-lg hover:bg-info/30 transition-all",children:[e.jsx(Ti,{className:"w-4 h-4"}),""]}),!M.isDefault&&e.jsxs("button",{onClick:()=>v(M.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gold-500/20 text-gold-500 rounded-lg hover:bg-gold-500/30 transition-all",children:[e.jsx(wc,{className:"w-4 h-4"}),""]}),e.jsx("button",{onClick:()=>N(M.id),className:"px-3 py-2 bg-error/20 text-error rounded-lg hover:bg-error/30 transition-all",children:e.jsx(Fn,{className:"w-4 h-4"})})]})]},M.id)),s.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Gc,{className:"w-16 h-16 text-brown-600 mx-auto mb-4"}),e.jsx("p",{className:"text-brown-400",children:""})]})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card rounded-xl border border-admin-border max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-admin-card border-b border-admin-border p-6",children:e.jsx("h3",{className:"text-xl font-bold text-gold-500",children:d?"":""})}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" *"}),e.jsxs("select",{value:f.bankType,onChange:M=>x({...f,bankType:M.target.value}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",required:!0,children:[e.jsx("option",{value:"SCB",children:"SCB - "}),e.jsx("option",{value:"KBANK",children:"KBANK - "}),e.jsx("option",{value:"TRUEWALLET",children:"TrueWallet"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" *"}),e.jsx("input",{type:"text",value:f.accountNumber,onChange:M=>x({...f,accountNumber:M.target.value}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" *"}),e.jsx("input",{type:"text",value:f.accountName,onChange:M=>x({...f,accountName:M.target.value}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" *"}),e.jsx("input",{type:"text",value:f.bankCode,onChange:M=>x({...f,bankCode:M.target.value}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" *"}),e.jsx("input",{type:"text",value:f.bankName,onChange:M=>x({...f,bankName:M.target.value}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" () *"}),e.jsx("input",{type:"number",value:f.dailyLimit,onChange:M=>x({...f,dailyLimit:parseFloat(M.target.value)}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",required:!0,min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsx("input",{type:"number",value:f.priority,onChange:M=>x({...f,priority:parseInt(M.target.value)}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]})]}),e.jsxs("div",{className:"border-t border-admin-border pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-brown-200 mb-3",children:" API ()"}),f.bankType!=="TRUEWALLET"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Username",value:f.apiUsername,onChange:M=>x({...f,apiUsername:M.target.value}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"}),e.jsx("input",{type:"password",placeholder:"Password",value:f.apiPassword,onChange:M=>x({...f,apiPassword:M.target.value}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"}),e.jsx("input",{type:"text",placeholder:"Device ID",value:f.deviceId,onChange:M=>x({...f,deviceId:M.target.value}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]})}):e.jsx("input",{type:"text",placeholder:"",value:f.phoneNumber,onChange:M=>x({...f,phoneNumber:M.target.value}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:A,className:"flex-1 px-4 py-2 bg-admin-bg border border-admin-border text-brown-100 rounded-lg hover:bg-admin-hover transition-all",children:""}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-gold-500 to-gold-600 text-brown-900 rounded-lg hover:shadow-lg transition-all font-semibold",children:d?"":""})]})]})]})})]})},EA=()=>{const[s,n]=j.useState("system"),l=[{id:"system",label:"",icon:Wc},{id:"limits",label:"",icon:ze},{id:"line",label:"Line Notify",icon:xc},{id:"telegram",label:"Telegram",icon:ei},{id:"banks",label:"",icon:Gc}];return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gold-500 mb-2",children:""}),e.jsx("p",{className:"text-brown-100",children:""})]}),e.jsx("div",{className:"bg-admin-card rounded-lg shadow-lg mb-6",children:e.jsx("div",{className:"flex border-b border-brown-800 overflow-x-auto",children:l.map(i=>{const c=i.icon;return e.jsxs("button",{onClick:()=>n(i.id),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors whitespace-nowrap ${s===i.id?"text-gold-500 border-b-2 border-gold-500":"text-brown-100 hover:text-gold-400"}`,children:[e.jsx(c,{className:"w-5 h-5"}),i.label]},i.id)})})}),e.jsxs("div",{children:[s==="system"&&e.jsx(SA,{}),s==="limits"&&e.jsx(CA,{}),s==="line"&&e.jsx(kA,{}),s==="telegram"&&e.jsx(TA,{}),s==="banks"&&e.jsx(AA,{})]})]})},rc="http://localhost:3001",lc="/api/v1",DA=()=>{const[s,n]=j.useState("overview"),[l,i]=j.useState(null),[c,u]=j.useState([]),[d,h]=j.useState([]),[f,x]=j.useState(!0),[p,g]=j.useState(""),[N,w]=j.useState(""),[v,y]=j.useState(1),[T,A]=j.useState(1);j.useEffect(()=>{E()},[]),j.useEffect(()=>{s==="members"?S():s==="logs"&&M()},[s,p,N,v]);const E=async()=>{try{const C=localStorage.getItem("admin_selector");if(!C)return;const R=await fetch(`${rc}${lc}/admin/promotions/dashboard`,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"},credentials:"include"});if(!R.ok)throw new Error("Failed to fetch");const $=await R.json();$.success&&i($.data)}catch(C){console.error("Error fetching stats:",C)}},S=async()=>{x(!0);try{const C=localStorage.getItem("admin_selector");if(!C){U.error("");return}const R=new URLSearchParams({page:v.toString(),page_size:"20",...p&&{status:p}}),$=await fetch(`${rc}${lc}/admin/promotions/members?${R}`,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"},credentials:"include"});if(!$.ok)throw new Error("Failed to fetch");const q=await $.json();q.success&&(u(q.data||[]),q.pagination&&A(q.pagination.total_page))}catch(C){console.error("Error fetching member promotions:",C),U.error("")}finally{x(!1)}},M=async()=>{x(!0);try{const C=localStorage.getItem("admin_selector");if(!C){U.error("");return}const R=new URLSearchParams({page:v.toString(),page_size:"50",...N&&{action:N}}),$=await fetch(`${rc}${lc}/admin/promotions/logs?${R}`,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"},credentials:"include"});if(!$.ok)throw new Error("Failed to fetch");const q=await $.json();q.success&&(h(q.data||[]),q.pagination&&A(q.pagination.total_page))}catch(C){console.error("Error fetching logs:",C),U.error("")}finally{x(!1)}},L=async C=>{if(confirm("?"))try{const R=localStorage.getItem("admin_selector");if(!R){U.error("");return}const $=await fetch(`${rc}${lc}/admin/promotions/member-promotions/${C}/cancel`,{method:"POST",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:" Admin"})});if(!$.ok)throw new Error("Failed to cancel");const q=await $.json();q.success?(U.success(""),S(),E()):U.error(q.message||"")}catch{U.error("")}},B=C=>{const $={active:{color:"bg-green-100 text-green-800",text:""},completed:{color:"bg-blue-100 text-blue-800",text:""},cancelled:{color:"bg-red-100 text-red-800",text:""},expired:{color:"bg-gray-100 text-gray-800",text:""}}[C]||{color:"bg-gray-100 text-gray-800",text:C};return e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${$.color}`,children:$.text})},D=C=>{const $={claimed:{color:"bg-green-100 text-green-800",text:""},turnover_updated:{color:"bg-blue-100 text-blue-800",text:""},completed:{color:"bg-purple-100 text-purple-800",text:""},cancelled:{color:"bg-red-100 text-red-800",text:""},expired:{color:"bg-gray-100 text-gray-800",text:""}}[C]||{color:"bg-gray-100 text-gray-800",text:C};return e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${$.color}`,children:$.text})};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 flex items-center gap-2",children:[e.jsx(zt,{}),""]}),e.jsx("p",{className:"text-brown-400 mt-1",children:""})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-success/20 to-success/30 border border-success/30 rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsx(zt,{className:"text-3xl text-success opacity-50"})]}),e.jsx("div",{className:"text-3xl font-bold text-success",children:l.active_promotions})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary/20 to-primary/30 border border-primary/30 rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsx(Fe,{className:"text-3xl text-primary opacity-50"})]}),e.jsx("div",{className:"text-3xl font-bold text-primary",children:l.completed_today})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gold-500/20 to-gold-600/20 border border-gold-500/30 rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsx(Mt,{className:"text-3xl text-gold-500 opacity-50"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gold-500",children:["",l.total_active_bonus.toLocaleString()]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-warning/20 to-warning/30 border border-warning/30 rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsx(zt,{className:"text-3xl text-warning opacity-50"})]}),e.jsxs("div",{className:"text-3xl font-bold text-warning",children:["",l.bonus_given_today.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg",children:[e.jsx("div",{className:"border-b border-admin-border",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsx("button",{onClick:()=>{n("overview"),y(1)},className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="overview"?"border-gold-500 text-gold-500":"border-transparent text-brown-400 hover:text-gold-500 hover:border-gold-500/50"}`,children:""}),e.jsxs("button",{onClick:()=>{n("members"),y(1)},className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="members"?"border-gold-500 text-gold-500":"border-transparent text-brown-400 hover:text-gold-500 hover:border-gold-500/50"}`,children:[e.jsx(As,{className:"inline mr-2"}),""]}),e.jsxs("button",{onClick:()=>{n("logs"),y(1)},className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s==="logs"?"border-gold-500 text-gold-500":"border-transparent text-brown-400 hover:text-gold-500 hover:border-gold-500/50"}`,children:[e.jsx(Qe,{className:"inline mr-2"})," Logs"]})]})}),e.jsxs("div",{className:"p-6",children:[s==="overview"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(zt,{className:"mx-auto text-6xl text-gold-500 opacity-50 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-brown-200 mb-2",children:""}),e.jsx("p",{className:"text-brown-400 mb-4",children:""}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>n("members"),className:"btn-primary",children:""}),e.jsx("button",{onClick:()=>n("logs"),className:"btn-secondary",children:" Logs"})]})]}),s==="members"&&e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 flex gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fs,{className:"text-brown-400"}),e.jsxs("select",{value:p,onChange:C=>{g(C.target.value),y(1)},className:"input text-sm",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"active",children:""}),e.jsx("option",{value:"completed",children:""}),e.jsx("option",{value:"cancelled",children:""}),e.jsx("option",{value:"expired",children:""})]})]})}),f?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"spinner mx-auto"})}):c.length===0?e.jsx("div",{className:"text-center py-12 text-brown-400",children:""}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-hover",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-brown-400 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:c.map(C=>e.jsxs("tr",{className:"hover:bg-admin-hover",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm font-medium text-brown-200",children:C.member_phone}),C.member_fullname&&e.jsx("div",{className:"text-xs text-brown-400",children:C.member_fullname})]}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm text-brown-200",children:C.promotion_name}),e.jsx("div",{className:"text-xs text-brown-400",children:new Date(C.claimed_at).toLocaleDateString("th-TH")})]}),e.jsxs("td",{className:"px-4 py-3 text-right text-sm text-brown-200",children:["",C.deposit_amount.toLocaleString()]}),e.jsxs("td",{className:"px-4 py-3 text-right text-sm font-semibold text-success",children:["",C.bonus_amount.toLocaleString()]}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsxs("div",{className:"text-xs text-right mb-1 text-brown-300",children:[C.turnover_progress.toFixed(1),"%"]}),e.jsx("div",{className:"w-24 bg-admin-hover rounded-full h-2",children:e.jsx("div",{className:"bg-gold-500 h-2 rounded-full",style:{width:`${Math.min(C.turnover_progress,100)}%`}})}),e.jsxs("div",{className:"text-xs text-right text-brown-400 mt-1",children:[C.current_turnover.toLocaleString()," / ",C.required_turnover.toLocaleString()]})]}),e.jsx("td",{className:"px-4 py-3 text-center",children:B(C.status)}),e.jsx("td",{className:"px-4 py-3 text-center",children:C.status==="active"&&e.jsx("button",{onClick:()=>L(C.id),className:"text-error hover:text-error/80 transition-colors",title:"",children:e.jsx(We,{size:18})})})]},C.id))})]})}),T>1&&e.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>y(C=>Math.max(1,C-1)),disabled:v===1,className:"px-3 py-1 border rounded disabled:opacity-50",children:""}),e.jsxs("span",{className:"px-3 py-1",children:[" ",v," / ",T]}),e.jsx("button",{onClick:()=>y(C=>Math.min(T,C+1)),disabled:v===T,className:"px-3 py-1 border rounded disabled:opacity-50",children:""})]})]}),s==="logs"&&e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 flex gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fs,{className:"text-brown-400"}),e.jsxs("select",{value:N,onChange:C=>{w(C.target.value),y(1)},className:"input text-sm",children:[e.jsx("option",{value:"",children:" Action"}),e.jsx("option",{value:"claimed",children:""}),e.jsx("option",{value:"turnover_updated",children:""}),e.jsx("option",{value:"completed",children:""}),e.jsx("option",{value:"cancelled",children:""}),e.jsx("option",{value:"expired",children:""})]})]})}),f?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"spinner mx-auto"})}):d.length===0?e.jsx("div",{className:"text-center py-12 text-brown-400",children:""}):e.jsx("div",{className:"space-y-3",children:d.map(C=>e.jsxs("div",{className:"border border-admin-border rounded-lg p-4 bg-admin-card/50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[D(C.action),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-brown-200",children:[C.member_phone,C.member_fullname&&` (${C.member_fullname})`]}),e.jsx("div",{className:"text-xs text-brown-400",children:C.promotion_name})]})]}),e.jsx("span",{className:"text-xs text-brown-400",children:new Date(C.created_at).toLocaleString("th-TH")})]}),e.jsx("p",{className:"text-sm text-brown-300 mb-2",children:C.description}),C.old_value!==C.new_value&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-brown-400",children:[e.jsxs("span",{children:["",C.old_value.toLocaleString()]}),e.jsx("span",{children:""}),e.jsxs("span",{className:"font-semibold text-gold-500",children:["",C.new_value.toLocaleString()]})]})]},C.id))}),T>1&&e.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>y(C=>Math.max(1,C-1)),disabled:v===1,className:"px-3 py-1 border rounded disabled:opacity-50",children:""}),e.jsxs("span",{className:"px-3 py-1",children:[" ",v," / ",T]}),e.jsx("button",{onClick:()=>y(C=>Math.min(T,C+1)),disabled:v===T,className:"px-3 py-1 border rounded disabled:opacity-50",children:""})]})]})]})]})]})},Hj="http://localhost:3001",Vj="/api/v1",_A=()=>{const[s,n]=j.useState(null),[l,i]=j.useState([]),[c,u]=j.useState(!0),[d,h]=j.useState(!1),[f,x]=j.useState(new Date().toISOString().split("T")[0]),[p,g]=j.useState(new Date().toISOString().split("T")[0]),[N,w]=j.useState("all"),[v,y]=j.useState(1),[T,A]=j.useState(1),E=async()=>{try{const B=localStorage.getItem("admin_selector");if(!B){U.error("");return}const D=new URLSearchParams({start_date:f,end_date:p,type:N}),C=await fetch(`${Hj}${Vj}/admin/promotions/summary?${D}`,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},credentials:"include"});if(!C.ok)throw new Error(`HTTP ${C.status}`);const R=await C.json();R.success?n(R.data):U.error(R.message||"")}catch(B){console.error("Error loading summary:",B),U.error("")}finally{u(!1)}},S=async()=>{h(!0);try{const B=localStorage.getItem("admin_selector");if(!B){U.error("");return}const D=new URLSearchParams({page:v.toString(),page_size:"20",start_date:f,end_date:p,type:N}),C=await fetch(`${Hj}${Vj}/admin/promotions/transactions?${D}`,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},credentials:"include"});if(!C.ok)throw new Error(`HTTP ${C.status}`);const R=await C.json();R.success?(i(R.data||[]),R.pagination&&A(R.pagination.total_page)):U.error(R.message||"")}catch(B){console.error("Error loading transactions:",B),U.error("")}finally{h(!1)}};j.useEffect(()=>{E()},[f,p,N]),j.useEffect(()=>{S()},[v,f,p,N]);const M=()=>{E(),S(),U.success("")},L=()=>{U.success("...")};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-gold-500 flex items-center gap-2",children:[e.jsx(zt,{}),""]}),e.jsx("p",{className:"text-brown-400 mt-1",children:""})]}),c?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(B=>e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-admin-hover rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-8 bg-admin-hover rounded w-3/4"})]},B))}):s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gold-500/20 to-gold-600/20 border border-gold-500/30 rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsx(ze,{className:"text-3xl text-gold-500 opacity-50"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gold-500 mb-1",children:["",s.bonus_total.totalAmount.toLocaleString()]}),e.jsxs("div",{className:"text-brown-400 text-sm",children:[s.bonus_total.totalCount," "]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-success/20 to-success/30 border border-success/30 rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsx(Mt,{className:"text-3xl text-success opacity-50"})]}),e.jsxs("div",{className:"text-3xl font-bold text-success mb-1",children:["",s.bonus_auto.totalAmount.toLocaleString()]}),e.jsxs("div",{className:"text-brown-400 text-sm",children:[s.bonus_auto.totalCount," "]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-warning/20 to-warning/30 border border-warning/30 rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsx(zt,{className:"text-3xl text-warning opacity-50"})]}),e.jsxs("div",{className:"text-3xl font-bold text-warning mb-1",children:["",s.bonus_manual.totalAmount.toLocaleString()]}),e.jsxs("div",{className:"text-brown-400 text-sm",children:[s.bonus_manual.totalCount," "]})]})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-xl p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-brown-400",children:":"}),e.jsx("input",{type:"date",value:f,onChange:B=>x(B.target.value),className:"input text-sm"}),e.jsx("span",{className:"text-brown-500",children:"-"}),e.jsx("input",{type:"date",value:p,onChange:B=>g(B.target.value),className:"input text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fs,{className:"text-brown-400"}),e.jsxs("select",{value:N,onChange:B=>w(B.target.value),className:"input text-sm",children:[e.jsx("option",{value:"all",children:""}),e.jsx("option",{value:"auto",children:"Auto"}),e.jsx("option",{value:"manual",children:"Manual"})]})]}),e.jsxs("div",{className:"ml-auto flex gap-2",children:[e.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 transition-colors font-medium",children:[e.jsx(dt,{}),""]}),e.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-success/20 text-success border border-success/30 rounded-lg hover:bg-success/30 transition-colors font-medium",children:[e.jsx(Fr,{}),"Export"]})]})]})}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg",children:[e.jsx("div",{className:"p-4 border-b border-admin-border",children:e.jsx("h3",{className:"font-semibold text-gold-500",children:""})}),e.jsx("div",{className:"overflow-x-auto",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"spinner mx-auto"})}):l.length===0?e.jsx("div",{className:"text-center py-12 text-brown-400",children:""}):e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-hover",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-brown-400 uppercase",children:"#"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-brown-400 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:l.map((B,D)=>e.jsxs("tr",{className:"hover:bg-admin-hover",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-brown-200",children:(v-1)*20+D+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-brown-300",children:new Date(B.created_at).toLocaleString("th-TH")}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded bg-gold-500/20 text-gold-500",children:B.username.toUpperCase()})}),e.jsx("td",{className:"px-4 py-3 text-sm text-brown-300",children:B.promotion_name}),e.jsxs("td",{className:"px-4 py-3 text-sm text-right text-brown-200",children:["",B.wl_winloss.toLocaleString()]}),e.jsxs("td",{className:"px-4 py-3 text-sm text-right font-semibold text-success",children:["",B.amount.toLocaleString()]}),e.jsxs("td",{className:"px-4 py-3 text-sm text-right text-brown-400",children:[B.beforeAmount.toLocaleString()," "]}),e.jsxs("td",{className:"px-4 py-3 text-sm text-right font-semibold text-gold-500",children:[B.creditBalance.toLocaleString()," "]}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded ${B.bywhat==="auto"?"bg-success/20 text-success border border-success/30":"bg-warning/20 text-warning border border-warning/30"}`,children:B.bywhat.toUpperCase()})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded ${B.status===1?"bg-success/20 text-success border border-success/30":"bg-error/20 text-error border border-error/30"}`,children:B.status===1?"SUCCESS":"FAIL"})})]},B.id))})]})}),T>1&&e.jsxs("div",{className:"px-4 py-3 border-t border-admin-border flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-brown-400",children:[" ",v,"  ",T]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>y(B=>Math.max(1,B-1)),disabled:v===1,className:"px-4 py-2 border border-gold-500/30 text-gold-500 rounded-lg hover:bg-gold-500/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""}),e.jsx("button",{onClick:()=>y(B=>Math.min(T,B+1)),disabled:v===T,className:"px-4 py-2 border border-gold-500/30 text-gold-500 rounded-lg hover:bg-gold-500/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]})]})]})},Cs="http://localhost:3001",ic="/api/v1",MA=()=>{const[s,n]=j.useState([]),[l,i]=j.useState(!0),[c,u]=j.useState(!1),[d,h]=j.useState(null),[f,x]=j.useState(""),[p,g]=j.useState(!1),[N,w]=j.useState({code:"",name:"",description:"",type:"normal",bonus_type:"percentage",bonus_value:0,max_bonus:0,min_deposit:1,turnover_requirement:1,max_withdraw:0,image_url:"",is_active:!0,terms_and_conditions:""});j.useEffect(()=>{v()},[]);const v=async()=>{try{i(!0);const S=localStorage.getItem("admin_selector"),L=await(await fetch(`${Cs}${ic}/admin/promotions`,{headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"},credentials:"include"})).json();if(L.success){const B=Array.isArray(L.data?.promotions)?L.data.promotions:Array.isArray(L.data)?L.data:[];n(B)}else n([])}catch(S){console.error("Error loading promotions:",S),U.error(""),n([])}finally{i(!1)}},y=S=>{S?(h(S),w({code:S.code,name:S.name,description:S.description,type:S.type,bonus_type:S.bonus_type||S.bonusType||"percentage",bonus_value:S.bonus_value||S.bonusValue||0,max_bonus:S.max_bonus||S.maxBonus||0,min_deposit:S.min_deposit||S.minDeposit||1,turnover_requirement:S.turnover_requirement||S.turnoverRequirement||1,max_withdraw:S.max_withdraw||S.maxWithdraw||0,image_url:S.image_url||S.imageUrl||"",is_active:S.is_active!==void 0?S.is_active:S.isActive!==void 0?S.isActive:!0,terms_and_conditions:S.terms_and_conditions||S.termsAndConditions||""}),x(S.image_url||S.imageUrl||"")):(h(null),w({code:"",name:"",description:"",type:"normal",bonus_type:"percentage",bonus_value:0,max_bonus:0,min_deposit:1,turnover_requirement:1,max_withdraw:0,image_url:"",is_active:!0,terms_and_conditions:""}),x("")),u(!0)},T=async()=>{try{const S=localStorage.getItem("admin_selector"),M=d?`${Cs}${ic}/admin/promotions/${d.id}`:`${Cs}${ic}/admin/promotions`,B=await(await fetch(M,{method:d?"PUT":"POST",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(N)})).json();B.success?(U.success(d?"":""),u(!1),v()):U.error(B.message||"")}catch(S){console.error("Error saving promotion:",S),U.error("")}},A=async(S,M)=>{if(confirm(` "${M}" ?`))try{const L=localStorage.getItem("admin_selector"),D=await(await fetch(`${Cs}${ic}/admin/promotions/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},credentials:"include"})).json();D.success?(U.success(""),v()):U.error(D.message||"")}catch(L){console.error("Error deleting promotion:",L),U.error("")}},E=S=>({new_member:" ()",daily_first:" ( 1 )",normal:" ()",cashback:"CashBack"})[S]||S;return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-gold-500",children:""}),e.jsx("p",{className:"text-brown-400 mt-1",children:"  "})]}),e.jsx("div",{children:e.jsxs("button",{onClick:()=>y(),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 transition-colors font-medium shadow-lg",children:[e.jsx(Yc,{}),""]})}),l?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx("div",{className:"spinner"})}):s.length===0?e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-12 text-center",children:[e.jsx(zt,{className:"mx-auto text-6xl text-brown-500 mb-4"}),e.jsx("p",{className:"text-brown-400",children:""})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(S=>e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 shadow-lg hover:border-gold-500/50 transition-all",children:[e.jsx("div",{className:"mb-3",children:e.jsx("h3",{className:"text-lg font-bold text-gold-500",children:S.name})}),e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:(()=>{const M=S.image_url||S.imageUrl||"";if(M.startsWith("http"))return M;if(M.startsWith("/images/")){const L=M.split("/").pop();return`${Cs}/uploads/promotions/${L}`}return M.startsWith("/uploads/")?`${Cs}${M}`:`${Cs}/uploads/promotions/promo-1.jpg`})(),alt:S.name,className:"w-full rounded-lg",onError:M=>{const L=M.target;L.src=`${Cs}/uploads/promotions/promo-1.jpg`}})}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"text-brown-200 text-right flex-1 ml-2",children:S.description})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"text-brown-200",children:(S.bonus_type||S.bonusType)==="percentage"?"":""})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"text-gold-500 font-semibold",children:(S.bonus_type||S.bonusType)==="percentage"?`${S.bonus_value||S.bonusValue}%`:`${S.bonus_value||S.bonusValue} `})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"text-success font-semibold",children:(S.max_bonus||S.maxBonus)===0?"":`${S.max_bonus||S.maxBonus} `})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsxs("span",{className:"text-brown-200",children:[S.min_deposit||S.minDeposit," "]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"text-brown-200 text-right flex-1 ml-2",children:E(S.type)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsxs("span",{className:"text-info font-semibold",children:[" ",S.turnover_requirement||S.turnoverRequirement," "]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"text-brown-200",children:(S.max_withdraw||S.maxWithdraw)===0?"":`${S.max_withdraw||S.maxWithdraw} `})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:(S.is_active!==void 0?S.is_active:S.isActive)?"text-success":"text-error",children:(S.is_active!==void 0?S.is_active:S.isActive)?"":""})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>y(S),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 transition-colors font-medium",children:[e.jsx(Ti,{}),""]}),e.jsxs("button",{onClick:()=>A(S.id,S.name),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-error/20 text-error border border-error/30 rounded-lg hover:bg-error/30 transition-colors font-medium",children:[e.jsx(Fn,{}),""]})]})]},S.id))}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl p-6 shadow-xl max-w-2xl w-full my-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gold-500",children:d?"":""}),e.jsx("button",{onClick:()=>u(!1),className:"text-brown-400 hover:text-gold-500",children:e.jsx(We,{size:24})})]}),e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-brown-400 mb-2",children:[" ",e.jsx("small",{className:"text-brown-500",children:"( 680x210 px)"})]}),e.jsxs("button",{type:"button",onClick:()=>g(!0),className:"w-full px-4 py-3 border-2 border-dashed border-admin-border rounded-lg hover:border-gold-500 transition-colors flex items-center justify-center gap-2 text-brown-400 hover:text-gold-500",children:[e.jsx(ia,{}),e.jsx("span",{children:N.image_url?"":""})]}),N.image_url&&e.jsxs("div",{className:"mt-2 relative",children:[e.jsx("img",{src:(()=>{const S=N.image_url;if(S.startsWith("http"))return S;if(S.startsWith("/images/")){const M=S.split("/").pop();return`${Cs}/uploads/promotions/${M}`}return S.startsWith("/uploads/")?`${Cs}${S}`:S})(),alt:"Preview",className:"w-full rounded-lg",onError:S=>{const M=S.target;M.src=`${Cs}/uploads/promotions/promo-1.jpg`}}),e.jsx("button",{type:"button",onClick:()=>{w({...N,image_url:""}),x("")},className:"absolute top-2 right-2 p-2 bg-error/80 text-white rounded-lg hover:bg-error transition-colors",children:e.jsx(We,{})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:""}),e.jsx("input",{type:"text",value:N.code,onChange:S=>w({...N,code:S.target.value.toUpperCase()}),className:"input",placeholder:"WELCOME100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:" *"}),e.jsx("input",{type:"text",value:N.name,onChange:S=>w({...N,name:S.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:""}),e.jsx("textarea",{value:N.description,onChange:S=>w({...N,description:S.target.value}),className:"input h-20 resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:""}),e.jsxs("select",{value:N.bonus_type,onChange:S=>w({...N,bonus_type:S.target.value}),className:"input",children:[e.jsx("option",{value:"percentage",children:""}),e.jsx("option",{value:"fixed",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:" (%  )"}),e.jsx("input",{type:"number",min:"0",step:"1",value:N.bonus_value,onChange:S=>w({...N,bonus_value:parseFloat(S.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:[" ",e.jsx("small",{className:"text-red-400",children:"(0 = )"})]}),e.jsx("input",{type:"number",min:"0",step:"1",value:N.max_bonus,onChange:S=>w({...N,max_bonus:parseFloat(S.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:[" ",e.jsx("small",{className:"text-red-400",children:"( 1 )"})]}),e.jsx("input",{type:"number",min:"1",step:"1",value:N.min_deposit,onChange:S=>w({...N,min_deposit:parseFloat(S.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:""}),e.jsxs("select",{value:N.type,onChange:S=>w({...N,type:S.target.value}),className:"input",children:[e.jsx("option",{value:"new_member",children:" ()"}),e.jsx("option",{value:"daily_first",children:" ( 1 )"}),e.jsx("option",{value:"normal",children:" ()"}),e.jsx("option",{value:"cashback",children:"CashBack"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:" ()"}),e.jsx("input",{type:"number",min:"1",step:"0.1",value:N.turnover_requirement,onChange:S=>w({...N,turnover_requirement:parseFloat(S.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:[" ",e.jsx("small",{className:"text-red-400",children:"(0 = )"})]}),e.jsx("input",{type:"number",min:"0",step:"1",value:N.max_withdraw,onChange:S=>w({...N,max_withdraw:parseFloat(S.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:""}),e.jsxs("select",{value:N.is_active?"1":"0",onChange:S=>w({...N,is_active:S.target.value==="1"}),className:"input",children:[e.jsx("option",{value:"1",children:""}),e.jsx("option",{value:"0",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:""}),e.jsx("textarea",{value:N.terms_and_conditions,onChange:S=>w({...N,terms_and_conditions:S.target.value}),className:"input h-24 resize-none"})]})]}),e.jsxs("div",{className:"flex gap-2 mt-6 pt-4 border-t border-admin-border",children:[e.jsx("button",{onClick:T,className:"flex-1 px-6 py-3 bg-gold-500 text-brown-900 rounded-lg hover:bg-gold-600 transition-colors font-medium",children:""}),e.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-6 py-3 bg-admin-hover text-brown-300 rounded-lg hover:bg-admin-border transition-colors font-medium",children:""})]})]})}),e.jsx($r,{isOpen:p,onClose:()=>g(!1),onSelect:S=>{w({...N,image_url:S.url}),x(S.url)},currentImage:N.image_url})]})};var Dr={},nx,$j;function LA(){return $j||($j=1,nx=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),nx}var rx={},$a={},Ij;function $n(){if(Ij)return $a;Ij=1;let s;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return $a.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17},$a.getSymbolTotalCodewords=function(i){return n[i]},$a.getBCHDigit=function(l){let i=0;for(;l!==0;)i++,l>>>=1;return i},$a.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');s=i},$a.isKanjiModeEnabled=function(){return typeof s<"u"},$a.toSJIS=function(i){return s(i)},$a}var lx={},Gj;function Rh(){return Gj||(Gj=1,(function(s){s.L={bit:1},s.M={bit:0},s.Q={bit:3},s.H={bit:2};function n(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return s.L;case"m":case"medium":return s.M;case"q":case"quartile":return s.Q;case"h":case"high":return s.H;default:throw new Error("Unknown EC Level: "+l)}}s.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},s.from=function(i,c){if(s.isValid(i))return i;try{return n(i)}catch{return c}}})(lx)),lx}var ix,qj;function BA(){if(qj)return ix;qj=1;function s(){this.buffer=[],this.length=0}return s.prototype={get:function(n){const l=Math.floor(n/8);return(this.buffer[l]>>>7-n%8&1)===1},put:function(n,l){for(let i=0;i<l;i++)this.putBit((n>>>l-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),n&&(this.buffer[l]|=128>>>this.length%8),this.length++}},ix=s,ix}var ox,Yj;function RA(){if(Yj)return ox;Yj=1;function s(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}return s.prototype.set=function(n,l,i,c){const u=n*this.size+l;this.data[u]=i,c&&(this.reservedBit[u]=!0)},s.prototype.get=function(n,l){return this.data[n*this.size+l]},s.prototype.xor=function(n,l,i){this.data[n*this.size+l]^=i},s.prototype.isReserved=function(n,l){return this.reservedBit[n*this.size+l]},ox=s,ox}var cx={},Wj;function OA(){return Wj||(Wj=1,(function(s){const n=$n().getSymbolSize;s.getRowColCoords=function(i){if(i===1)return[];const c=Math.floor(i/7)+2,u=n(i),d=u===145?26:Math.ceil((u-13)/(2*c-2))*2,h=[u-7];for(let f=1;f<c-1;f++)h[f]=h[f-1]-d;return h.push(6),h.reverse()},s.getPositions=function(i){const c=[],u=s.getRowColCoords(i),d=u.length;for(let h=0;h<d;h++)for(let f=0;f<d;f++)h===0&&f===0||h===0&&f===d-1||h===d-1&&f===0||c.push([u[h],u[f]]);return c}})(cx)),cx}var dx={},Kj;function zA(){if(Kj)return dx;Kj=1;const s=$n().getSymbolSize,n=7;return dx.getPositions=function(i){const c=s(i);return[[0,0],[c-n,0],[0,c-n]]},dx}var ux={},Qj;function PA(){return Qj||(Qj=1,(function(s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};s.isValid=function(c){return c!=null&&c!==""&&!isNaN(c)&&c>=0&&c<=7},s.from=function(c){return s.isValid(c)?parseInt(c,10):void 0},s.getPenaltyN1=function(c){const u=c.size;let d=0,h=0,f=0,x=null,p=null;for(let g=0;g<u;g++){h=f=0,x=p=null;for(let N=0;N<u;N++){let w=c.get(g,N);w===x?h++:(h>=5&&(d+=n.N1+(h-5)),x=w,h=1),w=c.get(N,g),w===p?f++:(f>=5&&(d+=n.N1+(f-5)),p=w,f=1)}h>=5&&(d+=n.N1+(h-5)),f>=5&&(d+=n.N1+(f-5))}return d},s.getPenaltyN2=function(c){const u=c.size;let d=0;for(let h=0;h<u-1;h++)for(let f=0;f<u-1;f++){const x=c.get(h,f)+c.get(h,f+1)+c.get(h+1,f)+c.get(h+1,f+1);(x===4||x===0)&&d++}return d*n.N2},s.getPenaltyN3=function(c){const u=c.size;let d=0,h=0,f=0;for(let x=0;x<u;x++){h=f=0;for(let p=0;p<u;p++)h=h<<1&2047|c.get(x,p),p>=10&&(h===1488||h===93)&&d++,f=f<<1&2047|c.get(p,x),p>=10&&(f===1488||f===93)&&d++}return d*n.N3},s.getPenaltyN4=function(c){let u=0;const d=c.data.length;for(let f=0;f<d;f++)u+=c.data[f];return Math.abs(Math.ceil(u*100/d/5)-10)*n.N4};function l(i,c,u){switch(i){case s.Patterns.PATTERN000:return(c+u)%2===0;case s.Patterns.PATTERN001:return c%2===0;case s.Patterns.PATTERN010:return u%3===0;case s.Patterns.PATTERN011:return(c+u)%3===0;case s.Patterns.PATTERN100:return(Math.floor(c/2)+Math.floor(u/3))%2===0;case s.Patterns.PATTERN101:return c*u%2+c*u%3===0;case s.Patterns.PATTERN110:return(c*u%2+c*u%3)%2===0;case s.Patterns.PATTERN111:return(c*u%3+(c+u)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}s.applyMask=function(c,u){const d=u.size;for(let h=0;h<d;h++)for(let f=0;f<d;f++)u.isReserved(f,h)||u.xor(f,h,l(c,f,h))},s.getBestMask=function(c,u){const d=Object.keys(s.Patterns).length;let h=0,f=1/0;for(let x=0;x<d;x++){u(x),s.applyMask(x,c);const p=s.getPenaltyN1(c)+s.getPenaltyN2(c)+s.getPenaltyN3(c)+s.getPenaltyN4(c);s.applyMask(x,c),p<f&&(f=p,h=x)}return h}})(ux)),ux}var oc={},Xj;function J2(){if(Xj)return oc;Xj=1;const s=Rh(),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return oc.getBlocksCount=function(c,u){switch(u){case s.L:return n[(c-1)*4+0];case s.M:return n[(c-1)*4+1];case s.Q:return n[(c-1)*4+2];case s.H:return n[(c-1)*4+3];default:return}},oc.getTotalCodewordsCount=function(c,u){switch(u){case s.L:return l[(c-1)*4+0];case s.M:return l[(c-1)*4+1];case s.Q:return l[(c-1)*4+2];case s.H:return l[(c-1)*4+3];default:return}},oc}var mx={},Zl={},Zj;function UA(){if(Zj)return Zl;Zj=1;const s=new Uint8Array(512),n=new Uint8Array(256);return(function(){let i=1;for(let c=0;c<255;c++)s[c]=i,n[i]=c,i<<=1,i&256&&(i^=285);for(let c=255;c<512;c++)s[c]=s[c-255]})(),Zl.log=function(i){if(i<1)throw new Error("log("+i+")");return n[i]},Zl.exp=function(i){return s[i]},Zl.mul=function(i,c){return i===0||c===0?0:s[n[i]+n[c]]},Zl}var Jj;function FA(){return Jj||(Jj=1,(function(s){const n=UA();s.mul=function(i,c){const u=new Uint8Array(i.length+c.length-1);for(let d=0;d<i.length;d++)for(let h=0;h<c.length;h++)u[d+h]^=n.mul(i[d],c[h]);return u},s.mod=function(i,c){let u=new Uint8Array(i);for(;u.length-c.length>=0;){const d=u[0];for(let f=0;f<c.length;f++)u[f]^=n.mul(c[f],d);let h=0;for(;h<u.length&&u[h]===0;)h++;u=u.slice(h)}return u},s.generateECPolynomial=function(i){let c=new Uint8Array([1]);for(let u=0;u<i;u++)c=s.mul(c,new Uint8Array([1,n.exp(u)]));return c}})(mx)),mx}var xx,ey;function HA(){if(ey)return xx;ey=1;const s=FA();function n(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}return n.prototype.initialize=function(i){this.degree=i,this.genPoly=s.generateECPolynomial(this.degree)},n.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const c=new Uint8Array(i.length+this.degree);c.set(i);const u=s.mod(c,this.genPoly),d=this.degree-u.length;if(d>0){const h=new Uint8Array(this.degree);return h.set(u,d),h}return u},xx=n,xx}var hx={},fx={},px={},ty;function e1(){return ty||(ty=1,px.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}),px}var Os={},sy;function t1(){if(sy)return Os;sy=1;const s="[0-9]+",n="[A-Z $%*+\\-./:]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+`)(?:.|[\r
]))+`;Os.KANJI=new RegExp(l,"g"),Os.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Os.BYTE=new RegExp(i,"g"),Os.NUMERIC=new RegExp(s,"g"),Os.ALPHANUMERIC=new RegExp(n,"g");const c=new RegExp("^"+l+"$"),u=new RegExp("^"+s+"$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Os.testKanji=function(f){return c.test(f)},Os.testNumeric=function(f){return u.test(f)},Os.testAlphanumeric=function(f){return d.test(f)},Os}var ay;function In(){return ay||(ay=1,(function(s){const n=e1(),l=t1();s.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},s.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},s.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},s.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},s.MIXED={bit:-1},s.getCharCountIndicator=function(u,d){if(!u.ccBits)throw new Error("Invalid mode: "+u);if(!n.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?u.ccBits[0]:d<27?u.ccBits[1]:u.ccBits[2]},s.getBestModeForData=function(u){return l.testNumeric(u)?s.NUMERIC:l.testAlphanumeric(u)?s.ALPHANUMERIC:l.testKanji(u)?s.KANJI:s.BYTE},s.toString=function(u){if(u&&u.id)return u.id;throw new Error("Invalid mode")},s.isValid=function(u){return u&&u.bit&&u.ccBits};function i(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return s.NUMERIC;case"alphanumeric":return s.ALPHANUMERIC;case"kanji":return s.KANJI;case"byte":return s.BYTE;default:throw new Error("Unknown mode: "+c)}}s.from=function(u,d){if(s.isValid(u))return u;try{return i(u)}catch{return d}}})(fx)),fx}var ny;function VA(){return ny||(ny=1,(function(s){const n=$n(),l=J2(),i=Rh(),c=In(),u=e1(),d=7973,h=n.getBCHDigit(d);function f(N,w,v){for(let y=1;y<=40;y++)if(w<=s.getCapacity(y,v,N))return y}function x(N,w){return c.getCharCountIndicator(N,w)+4}function p(N,w){let v=0;return N.forEach(function(y){const T=x(y.mode,w);v+=T+y.getBitsLength()}),v}function g(N,w){for(let v=1;v<=40;v++)if(p(N,v)<=s.getCapacity(v,w,c.MIXED))return v}s.from=function(w,v){return u.isValid(w)?parseInt(w,10):v},s.getCapacity=function(w,v,y){if(!u.isValid(w))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=c.BYTE);const T=n.getSymbolTotalCodewords(w),A=l.getTotalCodewordsCount(w,v),E=(T-A)*8;if(y===c.MIXED)return E;const S=E-x(y,w);switch(y){case c.NUMERIC:return Math.floor(S/10*3);case c.ALPHANUMERIC:return Math.floor(S/11*2);case c.KANJI:return Math.floor(S/13);case c.BYTE:default:return Math.floor(S/8)}},s.getBestVersionForData=function(w,v){let y;const T=i.from(v,i.M);if(Array.isArray(w)){if(w.length>1)return g(w,T);if(w.length===0)return 1;y=w[0]}else y=w;return f(y.mode,y.getLength(),T)},s.getEncodedBits=function(w){if(!u.isValid(w)||w<7)throw new Error("Invalid QR Code version");let v=w<<12;for(;n.getBCHDigit(v)-h>=0;)v^=d<<n.getBCHDigit(v)-h;return w<<12|v}})(hx)),hx}var bx={},ry;function $A(){if(ry)return bx;ry=1;const s=$n(),n=1335,l=21522,i=s.getBCHDigit(n);return bx.getEncodedBits=function(u,d){const h=u.bit<<3|d;let f=h<<10;for(;s.getBCHDigit(f)-i>=0;)f^=n<<s.getBCHDigit(f)-i;return(h<<10|f)^l},bx}var gx={},jx,ly;function IA(){if(ly)return jx;ly=1;const s=In();function n(l){this.mode=s.NUMERIC,this.data=l.toString()}return n.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let c,u,d;for(c=0;c+3<=this.data.length;c+=3)u=this.data.substr(c,3),d=parseInt(u,10),i.put(d,10);const h=this.data.length-c;h>0&&(u=this.data.substr(c),d=parseInt(u,10),i.put(d,h*3+1))},jx=n,jx}var yx,iy;function GA(){if(iy)return yx;iy=1;const s=In(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(i){this.mode=s.ALPHANUMERIC,this.data=i}return l.getBitsLength=function(c){return 11*Math.floor(c/2)+6*(c%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(c){let u;for(u=0;u+2<=this.data.length;u+=2){let d=n.indexOf(this.data[u])*45;d+=n.indexOf(this.data[u+1]),c.put(d,11)}this.data.length%2&&c.put(n.indexOf(this.data[u]),6)},yx=l,yx}var vx,oy;function qA(){if(oy)return vx;oy=1;const s=In();function n(l){this.mode=s.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}return n.getBitsLength=function(i){return i*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(l){for(let i=0,c=this.data.length;i<c;i++)l.put(this.data[i],8)},vx=n,vx}var Nx,cy;function YA(){if(cy)return Nx;cy=1;const s=In(),n=$n();function l(i){this.mode=s.KANJI,this.data=i}return l.getBitsLength=function(c){return c*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(i){let c;for(c=0;c<this.data.length;c++){let u=n.toSJIS(this.data[c]);if(u>=33088&&u<=40956)u-=33088;else if(u>=57408&&u<=60351)u-=49472;else throw new Error("Invalid SJIS character: "+this.data[c]+`
Make sure your charset is UTF-8`);u=(u>>>8&255)*192+(u&255),i.put(u,13)}},Nx=l,Nx}var wx={exports:{}},dy;function WA(){return dy||(dy=1,(function(s){var n={single_source_shortest_paths:function(l,i,c){var u={},d={};d[i]=0;var h=n.PriorityQueue.make();h.push(i,0);for(var f,x,p,g,N,w,v,y,T;!h.empty();){f=h.pop(),x=f.value,g=f.cost,N=l[x]||{};for(p in N)N.hasOwnProperty(p)&&(w=N[p],v=g+w,y=d[p],T=typeof d[p]>"u",(T||y>v)&&(d[p]=v,h.push(p,v),u[p]=x))}if(typeof c<"u"&&typeof d[c]>"u"){var A=["Could not find a path from ",i," to ",c,"."].join("");throw new Error(A)}return u},extract_shortest_path_from_predecessor_list:function(l,i){for(var c=[],u=i;u;)c.push(u),l[u],u=l[u];return c.reverse(),c},find_path:function(l,i,c){var u=n.single_source_shortest_paths(l,i,c);return n.extract_shortest_path_from_predecessor_list(u,c)},PriorityQueue:{make:function(l){var i=n.PriorityQueue,c={},u;l=l||{};for(u in i)i.hasOwnProperty(u)&&(c[u]=i[u]);return c.queue=[],c.sorter=l.sorter||i.default_sorter,c},default_sorter:function(l,i){return l.cost-i.cost},push:function(l,i){var c={value:l,cost:i};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};s.exports=n})(wx)),wx.exports}var uy;function KA(){return uy||(uy=1,(function(s){const n=In(),l=IA(),i=GA(),c=qA(),u=YA(),d=t1(),h=$n(),f=WA();function x(A){return unescape(encodeURIComponent(A)).length}function p(A,E,S){const M=[];let L;for(;(L=A.exec(S))!==null;)M.push({data:L[0],index:L.index,mode:E,length:L[0].length});return M}function g(A){const E=p(d.NUMERIC,n.NUMERIC,A),S=p(d.ALPHANUMERIC,n.ALPHANUMERIC,A);let M,L;return h.isKanjiModeEnabled()?(M=p(d.BYTE,n.BYTE,A),L=p(d.KANJI,n.KANJI,A)):(M=p(d.BYTE_KANJI,n.BYTE,A),L=[]),E.concat(S,M,L).sort(function(D,C){return D.index-C.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function N(A,E){switch(E){case n.NUMERIC:return l.getBitsLength(A);case n.ALPHANUMERIC:return i.getBitsLength(A);case n.KANJI:return u.getBitsLength(A);case n.BYTE:return c.getBitsLength(A)}}function w(A){return A.reduce(function(E,S){const M=E.length-1>=0?E[E.length-1]:null;return M&&M.mode===S.mode?(E[E.length-1].data+=S.data,E):(E.push(S),E)},[])}function v(A){const E=[];for(let S=0;S<A.length;S++){const M=A[S];switch(M.mode){case n.NUMERIC:E.push([M,{data:M.data,mode:n.ALPHANUMERIC,length:M.length},{data:M.data,mode:n.BYTE,length:M.length}]);break;case n.ALPHANUMERIC:E.push([M,{data:M.data,mode:n.BYTE,length:M.length}]);break;case n.KANJI:E.push([M,{data:M.data,mode:n.BYTE,length:x(M.data)}]);break;case n.BYTE:E.push([{data:M.data,mode:n.BYTE,length:x(M.data)}])}}return E}function y(A,E){const S={},M={start:{}};let L=["start"];for(let B=0;B<A.length;B++){const D=A[B],C=[];for(let R=0;R<D.length;R++){const $=D[R],q=""+B+R;C.push(q),S[q]={node:$,lastCount:0},M[q]={};for(let P=0;P<L.length;P++){const V=L[P];S[V]&&S[V].node.mode===$.mode?(M[V][q]=N(S[V].lastCount+$.length,$.mode)-N(S[V].lastCount,$.mode),S[V].lastCount+=$.length):(S[V]&&(S[V].lastCount=$.length),M[V][q]=N($.length,$.mode)+4+n.getCharCountIndicator($.mode,E))}}L=C}for(let B=0;B<L.length;B++)M[L[B]].end=0;return{map:M,table:S}}function T(A,E){let S;const M=n.getBestModeForData(A);if(S=n.from(E,M),S!==n.BYTE&&S.bit<M.bit)throw new Error('"'+A+'" cannot be encoded with mode '+n.toString(S)+`.
 Suggested mode is: `+n.toString(M));switch(S===n.KANJI&&!h.isKanjiModeEnabled()&&(S=n.BYTE),S){case n.NUMERIC:return new l(A);case n.ALPHANUMERIC:return new i(A);case n.KANJI:return new u(A);case n.BYTE:return new c(A)}}s.fromArray=function(E){return E.reduce(function(S,M){return typeof M=="string"?S.push(T(M,null)):M.data&&S.push(T(M.data,M.mode)),S},[])},s.fromString=function(E,S){const M=g(E,h.isKanjiModeEnabled()),L=v(M),B=y(L,S),D=f.find_path(B.map,"start","end"),C=[];for(let R=1;R<D.length-1;R++)C.push(B.table[D[R]].node);return s.fromArray(w(C))},s.rawSplit=function(E){return s.fromArray(g(E,h.isKanjiModeEnabled()))}})(gx)),gx}var my;function QA(){if(my)return rx;my=1;const s=$n(),n=Rh(),l=BA(),i=RA(),c=OA(),u=zA(),d=PA(),h=J2(),f=HA(),x=VA(),p=$A(),g=In(),N=KA();function w(B,D){const C=B.size,R=u.getPositions(D);for(let $=0;$<R.length;$++){const q=R[$][0],P=R[$][1];for(let V=-1;V<=7;V++)if(!(q+V<=-1||C<=q+V))for(let K=-1;K<=7;K++)P+K<=-1||C<=P+K||(V>=0&&V<=6&&(K===0||K===6)||K>=0&&K<=6&&(V===0||V===6)||V>=2&&V<=4&&K>=2&&K<=4?B.set(q+V,P+K,!0,!0):B.set(q+V,P+K,!1,!0))}}function v(B){const D=B.size;for(let C=8;C<D-8;C++){const R=C%2===0;B.set(C,6,R,!0),B.set(6,C,R,!0)}}function y(B,D){const C=c.getPositions(D);for(let R=0;R<C.length;R++){const $=C[R][0],q=C[R][1];for(let P=-2;P<=2;P++)for(let V=-2;V<=2;V++)P===-2||P===2||V===-2||V===2||P===0&&V===0?B.set($+P,q+V,!0,!0):B.set($+P,q+V,!1,!0)}}function T(B,D){const C=B.size,R=x.getEncodedBits(D);let $,q,P;for(let V=0;V<18;V++)$=Math.floor(V/3),q=V%3+C-8-3,P=(R>>V&1)===1,B.set($,q,P,!0),B.set(q,$,P,!0)}function A(B,D,C){const R=B.size,$=p.getEncodedBits(D,C);let q,P;for(q=0;q<15;q++)P=($>>q&1)===1,q<6?B.set(q,8,P,!0):q<8?B.set(q+1,8,P,!0):B.set(R-15+q,8,P,!0),q<8?B.set(8,R-q-1,P,!0):q<9?B.set(8,15-q-1+1,P,!0):B.set(8,15-q-1,P,!0);B.set(R-8,8,1,!0)}function E(B,D){const C=B.size;let R=-1,$=C-1,q=7,P=0;for(let V=C-1;V>0;V-=2)for(V===6&&V--;;){for(let K=0;K<2;K++)if(!B.isReserved($,V-K)){let W=!1;P<D.length&&(W=(D[P]>>>q&1)===1),B.set($,V-K,W),q--,q===-1&&(P++,q=7)}if($+=R,$<0||C<=$){$-=R,R=-R;break}}}function S(B,D,C){const R=new l;C.forEach(function(K){R.put(K.mode.bit,4),R.put(K.getLength(),g.getCharCountIndicator(K.mode,B)),K.write(R)});const $=s.getSymbolTotalCodewords(B),q=h.getTotalCodewordsCount(B,D),P=($-q)*8;for(R.getLengthInBits()+4<=P&&R.put(0,4);R.getLengthInBits()%8!==0;)R.putBit(0);const V=(P-R.getLengthInBits())/8;for(let K=0;K<V;K++)R.put(K%2?17:236,8);return M(R,B,D)}function M(B,D,C){const R=s.getSymbolTotalCodewords(D),$=h.getTotalCodewordsCount(D,C),q=R-$,P=h.getBlocksCount(D,C),V=R%P,K=P-V,W=Math.floor(R/P),z=Math.floor(q/P),H=z+1,F=W-z,le=new f(F);let oe=0;const _=new Array(P),I=new Array(P);let ae=0;const de=new Uint8Array(B.buffer);for(let ve=0;ve<P;ve++){const xe=ve<K?z:H;_[ve]=de.slice(oe,oe+xe),I[ve]=le.encode(_[ve]),oe+=xe,ae=Math.max(ae,xe)}const he=new Uint8Array(R);let be=0,fe,Ae;for(fe=0;fe<ae;fe++)for(Ae=0;Ae<P;Ae++)fe<_[Ae].length&&(he[be++]=_[Ae][fe]);for(fe=0;fe<F;fe++)for(Ae=0;Ae<P;Ae++)he[be++]=I[Ae][fe];return he}function L(B,D,C,R){let $;if(Array.isArray(B))$=N.fromArray(B);else if(typeof B=="string"){let W=D;if(!W){const z=N.rawSplit(B);W=x.getBestVersionForData(z,C)}$=N.fromString(B,W||40)}else throw new Error("Invalid data");const q=x.getBestVersionForData($,C);if(!q)throw new Error("The amount of data is too big to be stored in a QR Code");if(!D)D=q;else if(D<q)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+q+`.
`);const P=S(D,C,$),V=s.getSymbolSize(D),K=new i(V);return w(K,D),v(K),y(K,D),A(K,C,0),D>=7&&T(K,D),E(K,P),isNaN(R)&&(R=d.getBestMask(K,A.bind(null,K,C))),d.applyMask(R,K),A(K,C,R),{modules:K,version:D,errorCorrectionLevel:C,maskPattern:R,segments:$}}return rx.create=function(D,C){if(typeof D>"u"||D==="")throw new Error("No input text");let R=n.M,$,q;return typeof C<"u"&&(R=n.from(C.errorCorrectionLevel,n.M),$=x.from(C.version),q=d.from(C.maskPattern),C.toSJISFunc&&s.setToSJISFunction(C.toSJISFunc)),L(D,$,R,q)},rx}var Sx={},Cx={},xy;function s1(){return xy||(xy=1,(function(s){function n(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let i=l.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+l);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(u){return[u,u]}))),i.length===6&&i.push("F","F");const c=parseInt(i.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:c&255,hex:"#"+i.slice(0,6).join("")}}s.getOptions=function(i){i||(i={}),i.color||(i.color={});const c=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,u=i.width&&i.width>=21?i.width:void 0,d=i.scale||4;return{width:u,scale:u?4:d,margin:c,color:{dark:n(i.color.dark||"#000000ff"),light:n(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},s.getScale=function(i,c){return c.width&&c.width>=i+c.margin*2?c.width/(i+c.margin*2):c.scale},s.getImageWidth=function(i,c){const u=s.getScale(i,c);return Math.floor((i+c.margin*2)*u)},s.qrToImageData=function(i,c,u){const d=c.modules.size,h=c.modules.data,f=s.getScale(d,u),x=Math.floor((d+u.margin*2)*f),p=u.margin*f,g=[u.color.light,u.color.dark];for(let N=0;N<x;N++)for(let w=0;w<x;w++){let v=(N*x+w)*4,y=u.color.light;if(N>=p&&w>=p&&N<x-p&&w<x-p){const T=Math.floor((N-p)/f),A=Math.floor((w-p)/f);y=g[h[T*d+A]?1:0]}i[v++]=y.r,i[v++]=y.g,i[v++]=y.b,i[v]=y.a}}})(Cx)),Cx}var hy;function XA(){return hy||(hy=1,(function(s){const n=s1();function l(c,u,d){c.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=d,u.width=d,u.style.height=d+"px",u.style.width=d+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}s.render=function(u,d,h){let f=h,x=d;typeof f>"u"&&(!d||!d.getContext)&&(f=d,d=void 0),d||(x=i()),f=n.getOptions(f);const p=n.getImageWidth(u.modules.size,f),g=x.getContext("2d"),N=g.createImageData(p,p);return n.qrToImageData(N.data,u,f),l(g,x,p),g.putImageData(N,0,0),x},s.renderToDataURL=function(u,d,h){let f=h;typeof f>"u"&&(!d||!d.getContext)&&(f=d,d=void 0),f||(f={});const x=s.render(u,d,f),p=f.type||"image/png",g=f.rendererOpts||{};return x.toDataURL(p,g.quality)}})(Sx)),Sx}var kx={},fy;function ZA(){if(fy)return kx;fy=1;const s=s1();function n(c,u){const d=c.a/255,h=u+'="'+c.hex+'"';return d<1?h+" "+u+'-opacity="'+d.toFixed(2).slice(1)+'"':h}function l(c,u,d){let h=c+u;return typeof d<"u"&&(h+=" "+d),h}function i(c,u,d){let h="",f=0,x=!1,p=0;for(let g=0;g<c.length;g++){const N=Math.floor(g%u),w=Math.floor(g/u);!N&&!x&&(x=!0),c[g]?(p++,g>0&&N>0&&c[g-1]||(h+=x?l("M",N+d,.5+w+d):l("m",f,0),f=0,x=!1),N+1<u&&c[g+1]||(h+=l("h",p),p=0)):f++}return h}return kx.render=function(u,d,h){const f=s.getOptions(d),x=u.modules.size,p=u.modules.data,g=x+f.margin*2,N=f.color.light.a?"<path "+n(f.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",w="<path "+n(f.color.dark,"stroke")+' d="'+i(p,x,f.margin)+'"/>',v='viewBox="0 0 '+g+" "+g+'"',T='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+v+' shape-rendering="crispEdges">'+N+w+`</svg>
`;return typeof h=="function"&&h(null,T),T},kx}var py;function JA(){if(py)return Dr;py=1;const s=LA(),n=QA(),l=XA(),i=ZA();function c(u,d,h,f,x){const p=[].slice.call(arguments,1),g=p.length,N=typeof p[g-1]=="function";if(!N&&!s())throw new Error("Callback required as last argument");if(N){if(g<2)throw new Error("Too few arguments provided");g===2?(x=h,h=d,d=f=void 0):g===3&&(d.getContext&&typeof x>"u"?(x=f,f=void 0):(x=f,f=h,h=d,d=void 0))}else{if(g<1)throw new Error("Too few arguments provided");return g===1?(h=d,d=f=void 0):g===2&&!d.getContext&&(f=h,h=d,d=void 0),new Promise(function(w,v){try{const y=n.create(h,f);w(u(y,d,f))}catch(y){v(y)}})}try{const w=n.create(h,f);x(null,u(w,d,f))}catch(w){x(w)}}return Dr.create=n.create,Dr.toCanvas=c.bind(null,l.render),Dr.toDataURL=c.bind(null,l.renderToDataURL),Dr.toString=c.bind(null,function(u,d,h){return i.render(u,h)}),Dr}var eE=JA();const tE=Rc(eE),sE=()=>{const s=kt(),[n,l]=j.useState(!1),[i,c]=j.useState("setup"),[u,d]=j.useState(null),[h,f]=j.useState(""),[x,p]=j.useState(""),[g,N]=j.useState(!1),[w,v]=j.useState([]);j.useEffect(()=>{y()},[]);const y=async()=>{try{l(!0);const S=await ke.post("/2fa/setup");if(S.data.success){const M=S.data.data;d(M);const L=await tE.toDataURL(M.qr_code_url);f(L),c("verify")}}catch(S){U.error(S.response?.data?.message||" 2FA ")}finally{l(!1)}},T=async()=>{if(x.length!==6){U.error(" 6 ");return}try{l(!0),(await ke.post("/2fa/verify",{code:x,secret:u?.secret})).data.success&&(U.success(" 2FA !"),c("complete"))}catch(S){U.error(S.response?.data?.message||"")}finally{l(!1)}},A=(S,M)=>{navigator.clipboard.writeText(S),M==="secret"?(N(!0),setTimeout(()=>N(!1),2e3)):(v([...w,M]),setTimeout(()=>{v(w.filter(L=>L!==M))},2e3)),U.success("!")},E=()=>{s("/admin/settings")};return n&&i==="setup"?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"spinner"})}):e.jsx("div",{className:"min-h-screen bg-admin-dark p-6",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gold-500/20 rounded-full mb-4",children:e.jsx(Kc,{className:"w-8 h-8 text-gold-500"})}),e.jsx("h1",{className:"text-3xl font-bold text-gold-500 mb-2",children:" Two-Factor Authentication"}),e.jsx("p",{className:"text-brown-300",children:" 2FA"})]}),e.jsx("div",{className:"flex items-center justify-center mb-8",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`flex items-center gap-2 ${i==="setup"?"text-gold-500":"text-green-500"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i==="setup"?"bg-gold-500/20":"bg-green-500/20"}`,children:i==="setup"?"1":e.jsx(zs,{})}),e.jsx("span",{className:"font-medium",children:" QR Code"})]}),e.jsx("div",{className:"w-16 h-0.5 bg-brown-700"}),e.jsxs("div",{className:`flex items-center gap-2 ${i==="verify"?"text-gold-500":i==="complete"?"text-green-500":"text-brown-500"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i==="verify"?"bg-gold-500/20":i==="complete"?"bg-green-500/20":"bg-brown-700"}`,children:i==="complete"?e.jsx(zs,{}):"2"}),e.jsx("span",{className:"font-medium",children:" OTP"})]}),e.jsx("div",{className:"w-16 h-0.5 bg-brown-700"}),e.jsxs("div",{className:`flex items-center gap-2 ${i==="complete"?"text-green-500":"text-brown-500"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i==="complete"?"bg-green-500/20":"bg-brown-700"}`,children:i==="complete"?e.jsx(zs,{}):"3"}),e.jsx("span",{className:"font-medium",children:""})]})]})}),i==="verify"&&u&&e.jsx("div",{className:"bg-admin-card rounded-lg p-8 border border-brown-700",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gold-500 mb-4",children:"1. Scan QR Code"}),e.jsx("div",{className:"bg-white p-4 rounded-lg inline-block mb-4",children:h&&e.jsx("img",{src:h,alt:"QR Code",className:"w-48 h-48"})}),e.jsx("p",{className:"text-sm text-brown-300",children:" Google Authenticator  Authy"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gold-500 mb-4",children:"2. "}),e.jsxs("div",{className:"bg-admin-dark rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-xs text-brown-400 mb-2",children:"Secret Key:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 text-gold-400 font-mono text-sm break-all",children:u.secret}),e.jsx("button",{onClick:()=>A(u.secret,"secret"),className:"p-2 hover:bg-brown-700 rounded transition-colors",children:g?e.jsx(zs,{className:"w-5 h-5 text-green-500"}):e.jsx(Eg,{className:"w-5 h-5 text-brown-400"})})]})]}),e.jsx("h3",{className:"text-xl font-bold text-gold-500 mb-4",children:"3.  6 "}),e.jsx("input",{type:"text",maxLength:6,value:x,onChange:S=>p(S.target.value.replace(/\D/g,"")),className:"w-full bg-admin-dark border border-brown-700 rounded-lg px-4 py-3 text-center text-2xl font-mono text-gold-400 focus:border-gold-500 focus:outline-none tracking-widest",placeholder:"000000"}),e.jsx("button",{onClick:T,disabled:n||x.length!==6,className:"w-full mt-4 bg-gold-500 hover:bg-gold-600 text-admin-dark px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"...":""})]})]})}),i==="complete"&&u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-6 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-500/20 rounded-full mb-4",children:e.jsx(zs,{className:"w-8 h-8 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-2",children:" 2FA !"}),e.jsx("p",{className:"text-green-200",children:" Two-Factor Authentication "})]}),e.jsxs("div",{className:"bg-admin-card rounded-lg p-6 border border-brown-700",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(Ft,{className:"w-6 h-6 text-yellow-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-yellow-400 mb-2",children:" (Backup Codes)"}),e.jsx("p",{className:"text-yellow-200 text-sm mb-4",children:"  Authenticator "})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:u.backup_codes.map((S,M)=>e.jsxs("div",{className:"bg-admin-dark rounded-lg p-3 flex items-center justify-between",children:[e.jsx("code",{className:"text-gold-400 font-mono",children:S}),e.jsx("button",{onClick:()=>A(S,M),className:"p-1 hover:bg-brown-700 rounded transition-colors",children:w.includes(M)?e.jsx(zs,{className:"w-4 h-4 text-green-500"}):e.jsx(Eg,{className:"w-4 h-4 text-brown-400"})})]},M))}),e.jsx("button",{onClick:()=>{const S=u.backup_codes.join(`
`);A(S,-1)},className:"w-full mt-4 bg-brown-700 hover:bg-brown-600 text-brown-100 px-4 py-2 rounded-lg font-medium transition-colors",children:""})]}),e.jsx("button",{onClick:E,className:"w-full bg-gold-500 hover:bg-gold-600 text-admin-dark px-6 py-3 rounded-lg font-medium transition-colors",children:""})]})]})})};function aE(){const s=kt(),n=an(),[l,i]=j.useState(""),[c,u]=j.useState(!1),[d,h]=j.useState(!1),f=n.state?.adminId;j.useEffect(()=>{f||s("/admin/login")},[f,s]);const x=async g=>{if(g.preventDefault(),!l){U.error("");return}if(!d&&l.length!==6){U.error(" 6 ");return}try{u(!0),localStorage.setItem("temp_admin_id",f),(await ke.post("/2fa/validate",{code:l})).data.success&&(localStorage.removeItem("temp_admin_id"),U.success("!"),s("/admin/dashboard"))}catch(N){U.error(N.response?.data?.message||"")}finally{u(!1)}},p=()=>{s("/admin/login")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-admin-bg via-brown-900 to-admin-bg flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgxOTYsMTY5LDk4LDAuMSkiIHN0cm9rZS13aWR0aD0iMSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNncmlkKSIvPjwvc3ZnPg==')] opacity-30"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-gold-500 via-gold-600 to-brown-500 rounded-2xl blur-xl opacity-30 animate-pulse"}),e.jsxs("div",{className:"relative bg-admin-card border border-admin-border rounded-2xl shadow-2xl p-8",children:[e.jsx("button",{onClick:p,className:"absolute top-4 left-4 p-2 text-brown-400 hover:text-gold-500 transition-colors",children:e.jsx(ki,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-gold-500 to-gold-600 rounded-full mb-4 shadow-lg",children:e.jsx(Kc,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-display font-bold text-gold-500 mb-2",children:""}),e.jsx("p",{className:"text-brown-300 text-sm",children:d?" (Backup Code)":" 6  Authenticator"})]}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsx("div",{children:e.jsx("input",{type:"text",maxLength:d?9:6,value:l,onChange:g=>{const N=d?g.target.value.toUpperCase():g.target.value.replace(/\D/g,"");i(N)},className:"block w-full px-4 py-4 bg-admin-bg border border-admin-border rounded-lg text-center text-2xl font-mono text-gold-400 placeholder-brown-500 focus:outline-none focus:ring-2 focus:ring-gold-500 focus:border-transparent transition-all tracking-widest",placeholder:d?"XXXX-XXXX":"000000",disabled:c,autoFocus:!0})}),e.jsx("button",{type:"submit",disabled:c||!l,className:"w-full bg-gradient-to-r from-gold-500 to-gold-600 hover:from-gold-600 hover:to-gold-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg",children:c?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):""}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>{h(!d),i("")},className:"text-sm text-brown-400 hover:text-gold-500 transition-colors",children:d?" Authenticator":" (Backup Code)"})})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-200",children:[" ",e.jsx("strong",{children:":"}),"  30 ",d&&"  2FA"]})})]})]})]})}function nE({imageUrl:s,onClose:n}){j.useEffect(()=>{document.body.style.overflow="hidden";const i=c=>{c.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>{document.body.style.overflow="unset",window.removeEventListener("keydown",i)}},[n]);const l=()=>{const i=document.createElement("a");i.href=`http://localhost:3000${s}`,i.download=s.split("/").pop()||"image.jpg",document.body.appendChild(i),i.click(),document.body.removeChild(i)};return e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/90 backdrop-blur-sm",onClick:n,children:[e.jsx("button",{onClick:n,className:"absolute top-4 right-4 w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 text-white flex items-center justify-center transition-colors z-10","aria-label":"Close",children:e.jsx(We,{size:24})}),e.jsx("button",{onClick:i=>{i.stopPropagation(),l()},className:"absolute top-4 right-20 w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 text-white flex items-center justify-center transition-colors z-10","aria-label":"Download",children:e.jsx(Fr,{size:20})}),e.jsx("div",{className:"relative max-w-[90vw] max-h-[90vh] flex items-center justify-center",onClick:i=>i.stopPropagation(),children:e.jsx("img",{src:`http://localhost:3000${s}`,alt:"Full size",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl"})}),e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 text-white px-4 py-2 rounded-full text-sm",children:"  ESC"})]})}const rE=()=>{const{admin:s}=xi(),[n,l]=j.useState([]),[i,c]=j.useState(null),[u,d]=j.useState([]),[h,f]=j.useState(""),[x,p]=j.useState(!1),g=j.useRef(null),N=j.useRef(null),[w,v]=j.useState(null),[y,T]=j.useState(null),[A,E]=j.useState(null);j.useEffect(()=>{S();const P=setInterval(S,3e3);return()=>clearInterval(P)},[]),j.useEffect(()=>{if(i){M(i.id);const P=setInterval(()=>M(i.id),2e3);return()=>clearInterval(P)}},[i]),j.useEffect(()=>{R()},[u]);const S=async()=>{try{const P=await Mr.getRooms();console.log("Rooms response:",P.data),P.data.success&&l(P.data.data)}catch(P){console.error("Failed to load chat rooms:",P),console.error("Error details:",P.response?.data),P.response?.status===401?U.error("Session   Login "):console.error("Full error:",P)}},M=async P=>{try{const V=await Mr.getRoomMessages(P);if(console.log("Messages response:",V.data),V.data.success){const K=V.data.data.messages||V.data.data;d(Array.isArray(K)?K:[])}}catch(V){console.error("Failed to load messages:",V),console.error("Error details:",V.response?.data)}},L=P=>{const V=P.target.files?.[0];if(V){if(!V.type.startsWith("image/")){U.error("");return}if(V.size>5*1024*1024){U.error(" 5MB");return}v(V),T(URL.createObjectURL(V))}},B=()=>{v(null),T(null),N.current&&(N.current.value="")},D=async P=>{if(confirm("?"))try{await Mr.deleteRoom(P),U.success(""),i?.id===P&&(c(null),d([])),await S()}catch(V){U.error(V.response?.data?.message||"")}},C=async P=>{if(P.preventDefault(),!(!h.trim()&&!w||!i||!s)){p(!0);try{let V;if(w){const K=await Mr.uploadImage(w);K.data.success&&(V=K.data.data.imageUrl)}await Mr.sendMessage(i.id,h||"",V),f(""),B(),await M(i.id)}catch(V){V.response?.status===401?U.error("Session   Login "):U.error(V.response?.data?.message||"")}finally{p(!1)}}},R=()=>{g.current?.scrollIntoView({behavior:"smooth"})},$=P=>new Date(P).toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"}),q=P=>new Date(P).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-admin-bg p-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-gold-500 to-gold-600 px-6 py-4",children:e.jsxs("h1",{className:"text-2xl font-display font-bold text-white flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(ni,{})}),""]})}),e.jsxs("div",{className:"flex h-[calc(100vh-200px)]",children:[e.jsx("div",{className:"w-80 border-r border-admin-border overflow-y-auto bg-admin-bg",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("h2",{className:"text-sm font-semibold text-brown-200 mb-3",children:[" (",n.length,")"]}),n.length===0?e.jsxs("div",{className:"text-center py-8 text-brown-400",children:[e.jsx(ni,{className:"mx-auto text-4xl mb-2"}),e.jsx("p",{children:""})]}):e.jsx("div",{className:"space-y-2",children:n.map(P=>e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:()=>c(P),className:`w-full text-left p-3 rounded-lg transition-all ${i?.id===P.id?"bg-gold-500/20 border-gold-500 border-2":"bg-admin-card hover:bg-admin-hover border border-admin-border"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fv,{className:"text-brown-400"}),e.jsx("span",{className:"font-semibold text-brown-100",children:P.memberFullname||P.memberPhone})]}),P.unreadCount>0&&e.jsx("span",{className:"bg-error text-white text-xs font-bold px-2 py-1 rounded-full",children:P.unreadCount})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-brown-400",children:P.memberPhone}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P6,{className:`text-xs ${P.status==="ACTIVE"?"text-success":"text-brown-500"}`}),e.jsx("span",{className:"text-xs text-brown-400",children:P.lastMessageAt?$(P.lastMessageAt):""})]})]})]}),e.jsx("button",{onClick:V=>{V.stopPropagation(),D(P.id)},className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-error hover:bg-error/80 text-white p-2 rounded-lg",title:"",children:e.jsx(Un,{size:12})})]},P.id))})]})}),e.jsx("div",{className:"flex-1 flex flex-col",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-admin-card border-b border-admin-border px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-brown-100",children:i.memberFullname||i.memberPhone}),e.jsx("p",{className:"text-sm text-brown-400",children:i.memberPhone})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-admin-bg",children:u.length===0?e.jsx("div",{className:"text-center py-12 text-brown-400",children:e.jsx("p",{children:""})}):e.jsxs("div",{className:"space-y-4",children:[u.map((P,V)=>{const K=V===0||q(u[V-1].createdAt)!==q(P.createdAt);return e.jsxs(Ut.Fragment,{children:[K&&e.jsx("div",{className:"text-center my-4",children:e.jsx("span",{className:"bg-admin-hover text-brown-300 text-xs px-3 py-1 rounded-full",children:q(P.createdAt)})}),e.jsx("div",{className:`flex ${P.senderType==="ADMIN"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md xl:max-w-lg px-4 py-2 rounded-lg ${P.senderType==="ADMIN"?"bg-gradient-to-r from-gold-500 to-gold-600 text-white":"bg-admin-card text-brown-100 border border-admin-border"}`,children:[(P.imageUrl||P.image_url)&&e.jsx("img",{src:`http://localhost:3000${P.imageUrl||P.image_url}`,alt:"attachment",className:"rounded-lg mb-2 max-w-full cursor-pointer",onClick:()=>E(P.imageUrl||P.image_url||"")}),P.message&&e.jsx("p",{className:"break-words",children:P.message}),e.jsx("p",{className:`text-xs mt-1 ${P.senderType==="ADMIN"?"text-white/80":"text-brown-400"}`,children:$(P.createdAt)})]})})]},P.id)}),e.jsx("div",{ref:g})]})}),e.jsxs("div",{className:"bg-admin-card border-t border-admin-border p-4",children:[y&&e.jsxs("div",{className:"mb-3 relative inline-block",children:[e.jsx("img",{src:y,alt:"preview",className:"max-h-32 rounded-lg border-2 border-gold-500"}),e.jsx("button",{type:"button",onClick:B,className:"absolute -top-2 -right-2 bg-error text-white rounded-full p-1 hover:bg-error/80",children:e.jsx(Dt,{size:12})})]}),e.jsxs("form",{onSubmit:C,className:"flex gap-2",children:[e.jsx("input",{type:"file",ref:N,onChange:L,accept:"image/*",className:"hidden"}),e.jsx("button",{type:"button",onClick:()=>N.current?.click(),className:"p-2 text-brown-400 hover:text-gold-500 hover:bg-gold-500/20 rounded-lg transition-all",disabled:x,children:e.jsx(Pn,{size:24})}),e.jsx("input",{type:"text",value:h,onChange:P=>f(P.target.value),placeholder:"...",className:"flex-1 px-4 py-2 border border-admin-border rounded-lg focus:outline-none focus:ring-2 focus:ring-gold-500 text-brown-100 bg-admin-bg",disabled:x}),e.jsxs("button",{type:"submit",disabled:x||!h.trim()&&!w,className:"bg-gradient-to-r from-gold-500 to-gold-600 hover:from-gold-600 hover:to-gold-700 text-white px-6 py-2 rounded-lg font-semibold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[e.jsx(H6,{}),""]})]})]})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-brown-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ni,{className:"mx-auto text-6xl mb-4"}),e.jsx("p",{className:"text-lg",children:""})]})})})]})]})}),A&&e.jsx(nE,{imageUrl:A,onClose:()=>E(null)})]})};we.locale("th");function lE(){const[s,n]=j.useState({totalReferrers:0,totalReferrals:0,totalCommissionPaid:0,pendingCommission:0,todayCommission:0,thisMonthCommission:0}),[l,i]=j.useState([]),[c,u]=j.useState([]),[d,h]=j.useState("users"),[f,x]=j.useState(!0),[p,g]=j.useState(null),[N,w]=j.useState(!1),[v,y]=j.useState("");j.useEffect(()=>{T()},[]);const T=async()=>{try{x(!0);const[L,B,D]=await Promise.all([fetch("/api/v1/admin/referral/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("admin_selector")}`},credentials:"include"}).then(C=>C.json()).catch(()=>({data:null})),fetch("/api/v1/admin/referral/users",{headers:{Authorization:`Bearer ${localStorage.getItem("admin_selector")}`},credentials:"include"}).then(C=>C.json()).catch(()=>({data:[]})),fetch("/api/v1/admin/referral/withdrawals/pending",{headers:{Authorization:`Bearer ${localStorage.getItem("admin_selector")}`},credentials:"include"}).then(C=>C.json()).catch(()=>({data:[]}))]);L.data?n(L.data):n({totalReferrers:0,totalReferrals:0,totalCommissionPaid:0,pendingCommission:0,todayCommission:0,thisMonthCommission:0}),i(B.data||[]),u(D.data||[])}catch(L){console.error("Failed to fetch referral data:",L),U.error("")}finally{x(!1)}},A=async L=>{g(L),w(!0)},E=async L=>{const B=prompt(` ${L.amount.toLocaleString()}  ${L.username}

:`);if(B)try{if(!(await fetch(`/api/v1/admin/referral/withdrawals/${L.id}/reject`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("admin_selector")}`},credentials:"include",body:JSON.stringify({reason:B})})).ok)throw new Error("Failed to reject withdrawal");U.success(""),T()}catch(D){console.error("Failed to reject withdrawal:",D),U.error("")}},S=async()=>{if(p)try{if(!(await fetch(`/api/v1/admin/referral/withdrawals/${p.id}/approve`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("admin_selector")}`},credentials:"include",body:JSON.stringify({note:v||void 0})})).ok)throw new Error("Failed to approve withdrawal");U.success(` ${p.amount.toLocaleString()}`),w(!1),g(null),y(""),T()}catch(L){console.error("Failed to approve withdrawal:",L),U.error("")}},M=({icon:L,label:B,value:D,color:C,subValue:R})=>e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-brown-400 mb-1",children:B}),e.jsx("p",{className:`text-2xl font-bold ${C}`,children:typeof D=="number"?D.toLocaleString():D}),R&&e.jsx("p",{className:"text-xs text-brown-300 mt-1",children:R})]}),e.jsx("div",{className:"p-3 rounded-full bg-admin-bg",children:e.jsx(L,{className:`w-6 h-6 ${C}`})})]})});return f?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"})}):e.jsxs("div",{className:"min-h-screen bg-admin-bg p-6 space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-brown-100",children:""}),e.jsx("p",{className:"text-brown-400 mt-1",children:""})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(M,{icon:As,label:"",value:s.totalReferrers,color:"text-gold-500",subValue:` ${s.totalReferrals} `}),e.jsx(M,{icon:ze,label:"",value:`${s.totalCommissionPaid.toLocaleString()}`,color:"text-green-400",subValue:` ${s.thisMonthCommission.toLocaleString()}`}),e.jsx(M,{icon:Qe,label:"",value:`${s.pendingCommission.toLocaleString()}`,color:"text-orange-400",subValue:` ${s.todayCommission.toLocaleString()}`})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg shadow-lg",children:[e.jsx("div",{className:"border-b border-admin-border",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsx("button",{onClick:()=>h("users"),className:`py-4 px-6 text-sm font-medium border-b-2 ${d==="users"?"border-gold-500 text-gold-500":"border-transparent text-brown-400 hover:text-brown-100 hover:border-brown-600"}`,children:""}),e.jsxs("button",{onClick:()=>h("withdrawals"),className:`py-4 px-6 text-sm font-medium border-b-2 ${d==="withdrawals"?"border-gold-500 text-gold-500":"border-transparent text-brown-400 hover:text-brown-100 hover:border-brown-600"}`,children:["",c.filter(L=>L.status==="pending").length>0&&e.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:c.filter(L=>L.status==="pending").length})]})]})}),e.jsx("div",{className:"p-6",children:d==="users"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-400 uppercase",children:""})]})}),e.jsx("tbody",{className:"bg-admin-card divide-y divide-admin-border",children:l.map(L=>e.jsxs("tr",{className:"hover:bg-admin-bg transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-brown-100",children:L.username}),e.jsx("div",{className:"text-sm text-brown-400",children:L.phone})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-mono bg-gold-500/20 text-gold-500 rounded",children:L.referralCode})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[e.jsxs("div",{className:"text-sm text-brown-100",children:[L.totalReferrals," "]}),e.jsxs("div",{className:"text-xs text-brown-400",children:[" ",L.activeReferrals," "]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:"text-sm font-medium text-brown-100",children:["",L.totalCommission.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:"text-sm font-medium text-orange-400",children:["",L.pendingCommission.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:"text-sm font-medium text-green-400",children:["",L.withdrawnCommission.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-brown-400",children:we(L.createdAt).format("DD/MM/YYYY")})]},L.id))})]})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-400 uppercase",children:""})]})}),e.jsx("tbody",{className:"bg-admin-card divide-y divide-admin-border",children:c.map(L=>e.jsxs("tr",{className:"hover:bg-admin-bg transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-brown-100",children:L.username}),e.jsx("div",{className:"text-sm text-brown-400",children:L.phone})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:"text-sm font-bold text-gold-500",children:["",L.amount.toLocaleString()]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[L.status==="pending"&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-orange-100 text-orange-800 rounded-full",children:""}),L.status==="approved"&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:""}),L.status==="rejected"&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:""})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-brown-400",children:we(L.requestedAt).format("DD/MM/YYYY HH:mm")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:L.status==="pending"&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs("button",{onClick:()=>A(L),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-md transition-all",children:[e.jsx(Fe,{className:"mr-1"}),""]}),e.jsxs("button",{onClick:()=>E(L),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-lg text-white bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 shadow-md transition-all",children:[e.jsx(We,{className:"mr-1"}),""]})]})})]},L.id))})]})})})]}),N&&p&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg shadow-2xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-bold text-brown-100 mb-4",children:""}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"font-medium text-brown-100",children:p.username})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"font-medium text-brown-100",children:p.phone})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsxs("span",{className:"font-bold text-gold-500",children:["",p.amount.toLocaleString()]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-brown-100 mb-2",children:" ()"}),e.jsx("textarea",{value:v,onChange:L=>y(L.target.value),className:"w-full px-3 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:ring-2 focus:ring-gold-500",rows:3,placeholder:"..."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{w(!1),g(null),y("")},className:"flex-1 px-4 py-2 border border-admin-border rounded-lg text-brown-100 hover:bg-admin-bg transition-colors",children:""}),e.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 shadow-md transition-all",children:""})]})]})})]})}function iE(){const[s,n]=j.useState([]),[l,i]=j.useState(!0),[c,u]=j.useState(!1);j.useEffect(()=>{d()},[]);const d=async()=>{try{i(!0);const p=await ke.get("/referral/settings");n(p.data.data||[])}catch(p){console.error("Failed to fetch settings:",p),U.error(""),n([{id:1,type:"casino",typeName:"",rate:.3,maxDaily:5e3,calculationType:"turnover",enabled:!0},{id:2,type:"slot",typeName:"",rate:.5,maxDaily:5e3,calculationType:"turnover",enabled:!0},{id:3,type:"lottery",typeName:"",rate:3,maxDaily:5e3,calculationType:"turnover",enabled:!0},{id:4,type:"crypto",typeName:"1234 ",rate:.3,maxDaily:5e3,calculationType:"turnover",enabled:!0},{id:5,type:"sport",typeName:"",rate:1,maxDaily:2e3,calculationType:"profit",enabled:!0}])}finally{i(!1)}},h=(p,g,N)=>{n(s.map(w=>w.id===p?{...w,[g]:N}:w))},f=async()=>{try{u(!0),await ke.put("/referral/settings",{rates:s}),U.success("")}catch(p){console.error("Failed to save settings:",p),U.error("")}finally{u(!1)}},x=()=>{confirm("?")&&d()};return l?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"spinner"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gold-500",children:""}),e.jsx("p",{className:"text-brown-300 mt-1",children:""})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:x,className:"inline-flex items-center px-4 py-2 border border-brown-700 rounded-md text-brown-100 bg-admin-dark hover:bg-brown-800 transition-colors",children:[e.jsx(dt,{className:"mr-2"}),""]}),e.jsxs("button",{onClick:f,disabled:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md text-admin-dark bg-gold-500 hover:bg-gold-600 disabled:opacity-50 transition-colors",children:[e.jsx(ha,{className:"mr-2"}),c?"...":""]})]})]}),e.jsx("div",{className:"bg-admin-card rounded-lg border border-brown-700",children:e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-6",children:s.map(p=>e.jsxs("div",{className:"border-b border-brown-700 pb-6 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gold-400",children:p.typeName}),e.jsx("span",{className:"text-xs text-brown-300 bg-admin-dark px-2 py-1 rounded",children:p.type})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p.enabled,onChange:g=>h(p.id,"enabled",g.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"relative w-11 h-6 bg-brown-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gold-500/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-brown-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gold-500"}),e.jsx("span",{className:"ml-3 text-sm font-medium text-brown-100",children:p.enabled?"":""})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" (%)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:p.rate,onChange:g=>h(p.id,"rate",parseFloat(g.target.value)),step:"0.1",min:"0",max:"100",disabled:!p.enabled,className:"input disabled:opacity-50"}),e.jsx("span",{className:"absolute right-3 top-2 text-brown-400",children:"%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:" ()"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:p.maxDaily,onChange:g=>h(p.id,"maxDaily",parseInt(g.target.value)),step:"100",min:"0",disabled:!p.enabled,className:"input disabled:opacity-50"}),e.jsx("span",{className:"absolute right-3 top-2 text-brown-400",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-brown-200 mb-2",children:""}),e.jsxs("select",{value:p.calculationType,onChange:g=>h(p.id,"calculationType",g.target.value),disabled:!p.enabled,className:"input disabled:opacity-50",children:[e.jsx("option",{value:"turnover",children:"Turnover ()"}),e.jsx("option",{value:"profit",children:"Profit ()"})]})]})]}),p.enabled&&e.jsx("div",{className:"mt-4 p-3 bg-gold-500/10 border border-gold-500/30 rounded-md",children:e.jsxs("p",{className:"text-sm text-gold-200",children:[e.jsx("strong",{children:":"})," ",p.calculationType==="turnover"?"":""," 10,000   ",(1e4*p.rate/100).toLocaleString()," ",p.maxDaily&&1e4*p.rate/100>p.maxDaily&&e.jsxs("span",{className:"text-yellow-400",children:[" ( ",p.maxDaily.toLocaleString()," /)"]})]})})]},p.id))})})}),e.jsx("div",{className:"bg-admin-card rounded-lg border border-brown-700",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gold-400 mb-4",children:""}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-brown-700 rounded-lg bg-admin-dark/30",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-brown-100",children:""}),e.jsx("p",{className:"text-sm text-brown-300 mt-1",children:" 1 "})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"relative w-11 h-6 bg-brown-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gold-500/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-brown-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gold-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-brown-700 rounded-lg bg-admin-dark/30",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-brown-100",children:""}),e.jsx("p",{className:"text-sm text-brown-300 mt-1",children:""})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"relative w-11 h-6 bg-brown-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gold-500/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-brown-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gold-500"})]})]}),e.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-200",children:[e.jsx("strong",{children:":"}),"  "]})})]})]})})]})}const _r={getAllPrizes:async()=>(await ke.get("/lucky-wheel/prizes")).data.data,updatePrize:async(s,n)=>{await ke.put(`/lucky-wheel/prizes/${s}`,n)},updatePrizes:async s=>{await ke.put("/lucky-wheel/prizes",{prizes:s})},getSettings:async()=>(await ke.get("/lucky-wheel/settings")).data.data,updateSettings:async s=>{await ke.put("/lucky-wheel/settings",s)},getStats:async()=>(await ke.get("/lucky-wheel/stats")).data.data,getSpinLogs:async(s=1,n=20)=>(await ke.get(`/lucky-wheel/logs?page=${s}&limit=${n}`)).data.data},oE=()=>{const[s,n]=j.useState("stats"),[l,i]=j.useState(!0),[c,u]=j.useState(!1),[d,h]=j.useState({totalSpins:0,todaySpins:0,totalPrizeAmount:0,todayPrizeAmount:0,activeMembers:0}),[f,x]=j.useState({id:0,maxSpinsPerDay:3,enabled:!0,resetTime:"00:00",createdAt:"",updatedAt:""}),[p,g]=j.useState([]),[N,w]=j.useState([]),[v,y]=j.useState(1),[T,A]=j.useState(1);j.useEffect(()=>{E()},[s,v]);const E=async()=>{i(!0);try{s==="stats"?await S():s==="settings"?await M():s==="prizes"?await L():s==="logs"&&await B()}catch($){console.error("Failed to fetch data:",$),U.error($.response?.data?.message||"")}finally{i(!1)}},S=async()=>{const $=await _r.getStats();h($)},M=async()=>{const $=await _r.getSettings();x($)},L=async()=>{const $=await _r.getAllPrizes();g($)},B=async()=>{const $=await _r.getSpinLogs(v,20);w($.logs),A($.totalPages)},D=async()=>{u(!0);try{const $={maxSpinsPerDay:f.maxSpinsPerDay,enabled:f.enabled,resetTime:f.resetTime};await _r.updateSettings($),U.success("")}catch($){U.error($.response?.data?.message||"")}finally{u(!1)}},C=async()=>{const $=p.filter(q=>q.enabled).reduce((q,P)=>q+P.probability,0);if($<99.9||$>100.1){U.error(" 100%");return}u(!0);try{const q=p.map(P=>({id:P.id,name:P.name,type:P.type,amount:P.amount,itemName:P.itemName,itemImage:P.itemImage,color:P.color,probability:P.probability,enabled:P.enabled}));await _r.updatePrizes(q),U.success("")}catch(q){U.error(q.response?.data?.message||"")}finally{u(!1)}},R=($,q,P)=>{g(p.map(V=>V.id===$?{...V,[q]:P}:V))};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-[#f5a73c]",children:""}),e.jsx("p",{className:"text-gray-400",children:""})]}),e.jsxs("div",{className:"bg-[#1a1410] border border-[#f5a73c]/20 rounded-lg shadow-lg mb-6",children:[e.jsx("div",{className:"border-b border-[#f5a73c]/20",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsx("button",{onClick:()=>n("stats"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s==="stats"?"border-[#f5a73c] text-[#f5a73c]":"border-transparent text-gray-400 hover:text-[#f5a73c] hover:border-[#f5a73c]/50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(As,{}),""]})}),e.jsx("button",{onClick:()=>n("settings"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s==="settings"?"border-[#f5a73c] text-[#f5a73c]":"border-transparent text-gray-400 hover:text-[#f5a73c] hover:border-[#f5a73c]/50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wc,{}),""]})}),e.jsx("button",{onClick:()=>n("prizes"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s==="prizes"?"border-[#f5a73c] text-[#f5a73c]":"border-transparent text-gray-400 hover:text-[#f5a73c] hover:border-[#f5a73c]/50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{}),""]})}),e.jsx("button",{onClick:()=>n("logs"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s==="logs"?"border-[#f5a73c] text-[#f5a73c]":"border-transparent text-gray-400 hover:text-[#f5a73c] hover:border-[#f5a73c]/50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dt,{}),""]})})]})}),e.jsx("div",{className:"p-6",children:l?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"text-gray-400",children:"..."})}):e.jsxs(e.Fragment,{children:[s==="stats"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#f5a73c]/10 to-[#f5a73c]/5 border border-[#f5a73c]/20 rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:""}),e.jsx("p",{className:"text-3xl font-bold text-[#f5a73c]",children:d.totalSpins.toLocaleString()}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[": ",d.todaySpins]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20 rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:""}),e.jsxs("p",{className:"text-3xl font-bold text-green-400",children:["",d.totalPrizeAmount.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[": ",d.todayPrizeAmount.toLocaleString()]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20 rounded-lg p-6",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:""}),e.jsx("p",{className:"text-3xl font-bold text-purple-400",children:d.activeMembers.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]})]}),s==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),e.jsx("input",{type:"number",value:f.maxSpinsPerDay,onChange:$=>x({...f,maxSpinsPerDay:parseInt($.target.value)}),className:"w-full px-4 py-2 bg-[#2a2420] border border-[#f5a73c]/30 rounded-lg text-white focus:ring-2 focus:ring-[#f5a73c] focus:border-[#f5a73c]",min:"1",max:"10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),e.jsx("input",{type:"time",value:f.resetTime,onChange:$=>x({...f,resetTime:$.target.value}),className:"w-full px-4 py-2 bg-[#2a2420] border border-[#f5a73c]/30 rounded-lg text-white focus:ring-2 focus:ring-[#f5a73c] focus:border-[#f5a73c]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"enabled",checked:f.enabled,onChange:$=>x({...f,enabled:$.target.checked}),className:"w-4 h-4 text-[#f5a73c] bg-[#2a2420] border-[#f5a73c]/30 rounded focus:ring-[#f5a73c]"}),e.jsx("label",{htmlFor:"enabled",className:"text-sm font-medium text-gray-300",children:""})]}),e.jsxs("button",{onClick:D,disabled:c,className:"px-6 py-2 bg-[#f5a73c] text-[#1a1410] font-medium rounded-lg hover:bg-[#f5a73c]/90 disabled:bg-gray-600 disabled:text-gray-400 flex items-center gap-2 transition-colors",children:[e.jsx(ha,{}),c?"...":""]})]}),s==="prizes"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-[#f5a73c]/20",children:[e.jsx("thead",{className:"bg-[#2a2420]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:" (%)"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-[#f5a73c]/10",children:p.map($=>e.jsxs("tr",{className:"hover:bg-[#2a2420]/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"w-8 h-8 rounded border border-[#f5a73c]/30",style:{backgroundColor:$.color}})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"text",value:$.name,onChange:q=>R($.id,"name",q.target.value),className:"px-3 py-1 bg-[#2a2420] border border-[#f5a73c]/30 rounded text-white focus:ring-2 focus:ring-[#f5a73c]"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-400",children:$.type==="cash"?"":""})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"number",value:$.amount,onChange:q=>R($.id,"amount",parseFloat(q.target.value)),className:"w-24 px-3 py-1 bg-[#2a2420] border border-[#f5a73c]/30 rounded text-white focus:ring-2 focus:ring-[#f5a73c]",min:"0",step:"0.01"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"number",value:$.probability,onChange:q=>R($.id,"probability",parseFloat(q.target.value)),className:"w-20 px-3 py-1 bg-[#2a2420] border border-[#f5a73c]/30 rounded text-white focus:ring-2 focus:ring-[#f5a73c]",min:"0",max:"100",step:"0.01"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:$.enabled,onChange:q=>R($.id,"enabled",q.target.checked),className:"w-4 h-4 text-[#f5a73c] bg-[#2a2420] border-[#f5a73c]/30 rounded focus:ring-[#f5a73c]"})})]},$.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[#f5a73c]/20",children:[e.jsxs("p",{className:"text-sm text-gray-400",children:[": ",e.jsxs("span",{className:"text-[#f5a73c] font-medium",children:[p.filter($=>$.enabled).reduce(($,q)=>$+q.probability,0).toFixed(2),"%"]})]}),e.jsxs("button",{onClick:C,disabled:c,className:"px-6 py-2 bg-[#f5a73c] text-[#1a1410] font-medium rounded-lg hover:bg-[#f5a73c]/90 disabled:bg-gray-600 disabled:text-gray-400 flex items-center gap-2 transition-colors",children:[e.jsx(ha,{}),c?"...":""]})]})]}),s==="logs"&&e.jsxs("div",{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-[#f5a73c]/20",children:[e.jsx("thead",{className:"bg-[#2a2420]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:" ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-[#f5a73c]/10",children:N.map($=>e.jsxs("tr",{className:"hover:bg-[#2a2420]/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:new Date($.spunAt).toLocaleString("th-TH")}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-400 font-mono text-xs",children:[$.memberId.substring(0,8),"..."]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:$.prizeName}),e.jsx("td",{className:"px-6 py-4 text-sm",children:$.amount>0?e.jsxs("span",{className:"text-green-400 font-medium",children:["",$.amount.toLocaleString()]}):e.jsx("span",{className:"text-gray-600",children:"-"})})]},$.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-[#f5a73c]/20",children:[e.jsx("button",{onClick:()=>y($=>Math.max(1,$-1)),disabled:v===1,className:"px-4 py-2 bg-[#2a2420] border border-[#f5a73c]/30 text-gray-300 rounded-lg hover:bg-[#f5a73c] hover:text-[#1a1410] disabled:opacity-50 disabled:hover:bg-[#2a2420] disabled:hover:text-gray-300 transition-colors",children:""}),e.jsxs("span",{className:"text-sm text-gray-400",children:[" ",e.jsx("span",{className:"text-[#f5a73c] font-medium",children:v})," / ",T]}),e.jsx("button",{onClick:()=>y($=>Math.min(T,$+1)),disabled:v===T,className:"px-4 py-2 bg-[#2a2420] border border-[#f5a73c]/30 text-gray-300 rounded-lg hover:bg-[#f5a73c] hover:text-[#1a1410] disabled:opacity-50 disabled:hover:bg-[#2a2420] disabled:hover:text-gray-300 transition-colors",children:""})]})]})]})})]})]})};we.locale("th");function cE(){const[s,n]=j.useState({member_count:0,lottery_count:0,lottery_total:0,game_count:0,game_total:0,redeem_count:0,redeem_total:0}),[l,i]=j.useState({startDate:"",endDate:""}),[c,u]=j.useState(!0);j.useEffect(()=>{d()},[]);const d=async()=>{try{u(!0);const g=await(await fetch("/api/v1/admin/turnover/statistics",{headers:{Authorization:`Bearer ${localStorage.getItem("admin_selector")}`},credentials:"include"})).json();g.success&&g.data&&(n(g.data),g.period&&i(g.period))}catch(p){console.error("Failed to fetch turnover stats:",p)}finally{u(!1)}},h=p=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:0,maximumFractionDigits:0}).format(p),f=s.lottery_total+s.game_total,x=s.lottery_count+s.game_count;return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-brown-100 mb-2",children:""}),e.jsxs("p",{className:"text-brown-400",children:[": ",l.startDate&&we(l.startDate).format("DD/MM/YYYY")," -",l.endDate&&we(l.endDate).format("DD/MM/YYYY")]})]}),c?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:e.jsx(As,{className:"w-5 h-5 text-blue-500"})})]}),e.jsx("p",{className:"text-2xl font-bold text-brown-100",children:h(s.member_count)}),e.jsx("p",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx("div",{className:"p-2 bg-gold-500/10 rounded-lg",children:e.jsx(Nv,{className:"w-5 h-5 text-gold-500"})})]}),e.jsx("p",{className:"text-2xl font-bold text-brown-100",children:h(f)}),e.jsxs("p",{className:"text-xs text-brown-500 mt-1",children:[h(x)," "]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:e.jsx(ze,{className:"w-5 h-5 text-green-500"})})]}),e.jsx("p",{className:"text-2xl font-bold text-brown-100",children:h(s.redeem_total)}),e.jsxs("p",{className:"text-xs text-brown-500 mt-1",children:[h(s.redeem_count)," "]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:e.jsx(Mt,{className:"w-5 h-5 text-purple-500"})})]}),e.jsxs("p",{className:"text-2xl font-bold text-brown-100",children:[f>0?(s.redeem_total/f*100).toFixed(2):"0.00","%"]}),e.jsxs("p",{className:"text-xs text-brown-500 mt-1",children:[s.redeem_total," / ",h(f)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-brown-100 mb-4 flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-gold-500"}),""]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsxs("span",{className:"text-brown-100 font-semibold",children:[h(s.lottery_count)," "]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsxs("span",{className:"text-gold-500 font-bold text-xl",children:[h(s.lottery_total)," THB"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsxs("span",{className:"text-brown-100",children:[f>0?(s.lottery_total/f*100).toFixed(1):"0","%"]})]})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-brown-100 mb-4 flex items-center gap-2",children:[e.jsx(os,{className:"w-5 h-5 text-green-500"}),""]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsxs("span",{className:"text-brown-100 font-semibold",children:[h(s.game_count)," "]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsxs("span",{className:"text-green-500 font-bold text-xl",children:[h(s.game_total)," THB"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-brown-400",children:""}),e.jsxs("span",{className:"text-brown-100",children:[f>0?(s.game_total/f*100).toFixed(1):"0","%"]})]})]})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-brown-100 mb-4",children:""}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("a",{href:"/admin/turnover/members",className:"flex items-center gap-3 p-4 bg-admin-hover hover:bg-gold-500/10 rounded-lg transition-all border border-transparent hover:border-gold-500",children:[e.jsx(As,{className:"w-6 h-6 text-gold-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-100 font-medium",children:""}),e.jsx("p",{className:"text-brown-500 text-sm",children:""})]})]}),e.jsxs("a",{href:"/admin/turnover/redemptions",className:"flex items-center gap-3 p-4 bg-admin-hover hover:bg-green-500/10 rounded-lg transition-all border border-transparent hover:border-green-500",children:[e.jsx(ze,{className:"w-6 h-6 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-100 font-medium",children:""}),e.jsx("p",{className:"text-brown-500 text-sm",children:""})]})]}),e.jsxs("a",{href:"/admin/turnover/settings",className:"flex items-center gap-3 p-4 bg-admin-hover hover:bg-blue-500/10 rounded-lg transition-all border border-transparent hover:border-blue-500",children:[e.jsx(Wc,{className:"w-6 h-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-brown-100 font-medium",children:""}),e.jsx("p",{className:"text-brown-500 text-sm",children:""})]})]})]})]})]})]})}function dE({member:s,onClose:n,onSuccess:l}){const[i,c]=j.useState("ADD"),[u,d]=j.useState(""),[h,f]=j.useState(""),[x,p]=j.useState(!1),g=async v=>{if(v.preventDefault(),!u||parseFloat(u)<=0){U.error("");return}if(!h.trim()){U.error("");return}try{p(!0);const T=await(await fetch(`/api/v1/admin/turnover/members/${s.memberId}/adjust`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("admin_selector")}`},credentials:"include",body:JSON.stringify({type:i,amount:parseFloat(u),remark:h.trim()})})).json();T.success?(U.success(""),l()):U.error(T.message||"")}catch(y){console.error("Failed to adjust turnover:",y),U.error("")}finally{p(!1)}},N=()=>{const v=parseFloat(u)||0;return i==="ADD"?s.turnoverBalance+v:Math.max(0,s.turnoverBalance-v)},w=v=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:0,maximumFractionDigits:0}).format(v);return e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-admin-border sticky top-0 bg-admin-card z-20",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-display font-bold text-gold-500",children:""}),e.jsxs("p",{className:"text-brown-400 text-sm mt-1",children:[s.phone," - ",s.fullname||""]})]}),e.jsx("button",{onClick:n,className:"p-1 hover:bg-admin-hover rounded transition-colors",children:e.jsx(We,{className:"w-6 h-6 text-brown-400"})})]}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-admin-bg border border-admin-border rounded-lg p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"text-brown-200 font-medium",children:s.fullname||s.phone})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"text-brown-200",children:s.phone})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-admin-border",children:[e.jsx("span",{className:"text-brown-400",children:":"}),e.jsx("span",{className:"text-gold-500 font-bold text-lg",children:w(s.turnoverBalance)})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-300 text-sm font-medium mb-2",children:""}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{type:"button",onClick:()=>c("ADD"),className:`p-3 rounded-lg border-2 transition-all ${i==="ADD"?"border-success bg-success/10 text-success":"border-admin-border bg-admin-card text-brown-400 hover:border-gold-500/50"}`,children:e.jsx("div",{className:"font-semibold",children:""})}),e.jsx("button",{type:"button",onClick:()=>c("DEDUCT"),className:`p-3 rounded-lg border-2 transition-all ${i==="DEDUCT"?"border-error bg-error/10 text-error":"border-admin-border bg-admin-card text-brown-400 hover:border-gold-500/50"}`,children:e.jsx("div",{className:"font-semibold",children:""})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-brown-300 text-sm font-medium mb-2",children:[" ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsx("input",{type:"number",value:u,onChange:v=>d(v.target.value),placeholder:"0.00",step:"0.01",min:"0",required:!0,className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 placeholder-brown-500 focus:ring-2 focus:ring-gold-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-brown-300 text-sm font-medium mb-2",children:[" ",e.jsx("span",{className:"text-error",children:"*"})]}),e.jsx("textarea",{value:h,onChange:v=>f(v.target.value),placeholder:"...",rows:3,required:!0,className:"w-full px-4 py-2 bg-admin-card border border-admin-border rounded-lg text-brown-200 placeholder-brown-500 focus:ring-2 focus:ring-gold-500 focus:border-transparent resize-none"})]}),u&&parseFloat(u)>0&&e.jsx("div",{className:"bg-info/10 border border-info/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ft,{className:"w-5 h-5 text-info mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-brown-200 font-medium mb-1",children:""}),e.jsxs("p",{className:"text-2xl font-bold text-gold-500",children:[w(N())," THB"]}),e.jsxs("p",{className:"text-brown-400 text-sm mt-1",children:[i==="ADD"?"+":"-"," ",w(parseFloat(u))," THB"]})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-admin-border",children:[e.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-2 text-brown-300 bg-admin-card border border-admin-border rounded-lg hover:border-gold-500/50 transition-colors",disabled:x,children:""}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-2 bg-gradient-to-r from-gold-600 to-gold-500 text-white rounded-lg hover:from-gold-700 hover:to-gold-600 transition-all shadow-lg hover:shadow-gold-500/50 disabled:opacity-50 disabled:cursor-not-allowed",disabled:x,children:x?"...":""})]})]})]})})}we.locale("th");function uE(){const[s,n]=j.useState([]),[l,i]=j.useState([]),[c,u]=j.useState(""),[d,h]=j.useState(!0),[f,x]=j.useState(null),[p,g]=j.useState(!1);j.useEffect(()=>{N()},[]),j.useEffect(()=>{if(c){const T=s.filter(A=>A.phone.includes(c)||A.fullname&&A.fullname.toLowerCase().includes(c.toLowerCase()));i(T)}else i(s)},[c,s]);const N=async()=>{try{h(!0);const A=await(await fetch("/api/v1/admin/turnover/members",{headers:{Authorization:`Bearer ${localStorage.getItem("admin_selector")}`},credentials:"include"})).json();A.success&&A.data&&(n(A.data),i(A.data))}catch(T){console.error("Failed to fetch members:",T),U.error("")}finally{h(!1)}},w=T=>{x(T),g(!0)},v=()=>{g(!1),N(),U.success("")},y=T=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:0,maximumFractionDigits:0}).format(T);return e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-brown-100 mb-2",children:""}),e.jsx("p",{className:"text-brown-400",children:""})]})}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-brown-400"}),e.jsx("input",{type:"text",placeholder:"  ...",value:c,onChange:T=>u(T.target.value),className:"w-full pl-10 pr-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 placeholder-brown-500 focus:outline-none focus:border-gold-500"})]})}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"})}):l.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-brown-400",children:""})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-admin-hover border-b border-admin-border",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase tracking-wider",children:"-"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-400 uppercase tracking-wider",children:" (THB)"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-400 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:l.map(T=>e.jsxs("tr",{className:"hover:bg-admin-hover transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-brown-100 font-medium",children:T.phone})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-brown-300",children:T.fullname||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-gold-500 font-semibold",children:y(T.turnoverBalance)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-brown-300",children:y(T.turnoverLifetime)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-green-500",children:y(T.turnoverRedeemed)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"text-brown-400 text-sm",children:T.turnoverLastRedeemAt?we(T.turnoverLastRedeemAt).format("DD/MM/YYYY"):"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>w(T),className:"p-2 bg-gold-500/10 hover:bg-gold-500/20 text-gold-500 rounded-lg transition-all",title:"",children:e.jsx(Ti,{className:"w-4 h-4"})}),e.jsx("a",{href:`/admin/members/${T.memberId}`,className:"p-2 bg-blue-500/10 hover:bg-blue-500/20 text-blue-500 rounded-lg transition-all",title:"",children:e.jsx(xa,{className:"w-4 h-4"})})]})})]},T.memberId))})]})})}),p&&f&&e.jsx(dE,{member:f,onClose:()=>g(!1),onSuccess:v})]})}we.locale("th");function mE(){const[s,n]=j.useState([]),[l,i]=j.useState(!0),[c,u]=j.useState({startDate:we().subtract(30,"days").format("YYYY-MM-DD"),endDate:we().format("YYYY-MM-DD")});j.useEffect(()=>{d()},[c]);const d=async()=>{try{i(!0);const p=new URLSearchParams({type:"REDEEM",startDate:c.startDate,endDate:c.endDate}),N=await(await fetch(`/api/v1/admin/turnover/transactions?${p}`,{headers:{Authorization:`Bearer ${localStorage.getItem("admin_selector")}`},credentials:"include"})).json();N.success&&N.data&&n(N.data)}catch(p){console.error("Failed to fetch redemptions:",p)}finally{i(!1)}},h=p=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(p),f=s.reduce((p,g)=>p+g.turnoverAmount,0),x=s.reduce((p,g)=>p+g.cashReceived,0);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-brown-100 mb-2",children:""}),e.jsx("p",{className:"text-brown-400",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx(ze,{className:"w-5 h-5 text-gold-500"})]}),e.jsx("p",{className:"text-2xl font-bold text-brown-100",children:s.length}),e.jsx("p",{className:"text-xs text-brown-500 mt-1",children:""})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx(ze,{className:"w-5 h-5 text-blue-500"})]}),e.jsx("p",{className:"text-2xl font-bold text-brown-100",children:h(f)}),e.jsx("p",{className:"text-xs text-brown-500 mt-1",children:"THB"})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-brown-400 text-sm font-medium",children:""}),e.jsx(ze,{className:"w-5 h-5 text-green-500"})]}),e.jsx("p",{className:"text-2xl font-bold text-brown-100",children:h(x)}),e.jsx("p",{className:"text-xs text-brown-500 mt-1",children:"THB"})]})]}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(yt,{className:"text-brown-400"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"date",value:c.startDate,onChange:p=>u(g=>({...g,startDate:p.target.value})),className:"px-3 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:border-gold-500"}),e.jsx("span",{className:"text-brown-400",children:""}),e.jsx("input",{type:"date",value:c.endDate,onChange:p=>u(g=>({...g,endDate:p.target.value})),className:"px-3 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:border-gold-500"})]})]})}),e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"})}):s.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-brown-400",children:""})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-admin-hover border-b border-admin-border",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase tracking-wider",children:"-"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-brown-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-brown-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-400 uppercase tracking-wider",children:" (%)"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-brown-400 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:s.map(p=>e.jsxs("tr",{className:"hover:bg-admin-hover transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-brown-100",children:we(p.createdAt).format("DD/MM/YYYY")}),e.jsx("div",{className:"text-brown-400 text-sm",children:we(p.createdAt).format("HH:mm:ss")})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-brown-300",children:p.memberName||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-brown-100 font-medium",children:p.memberPhone})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-blue-500 font-semibold",children:h(p.turnoverAmount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-green-500 font-semibold",children:h(p.cashReceived)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("span",{className:"text-brown-300",children:[(p.exchangeRate*100).toFixed(2),"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"px-3 py-1 bg-green-500/10 text-green-500 rounded-full text-sm",children:""})})]},p.id))})]})})})]})}function xE(){const[s,n]=j.useState({id:0,exchangeRate:.1,minTurnoverToRedeem:1e3,maxRedeemPerDay:1e4,isEnabled:!0,allowLotteryTurnover:!0,allowGameTurnover:!0,lotteryTurnoverMultiplier:1,gameTurnoverMultiplier:1,description:""}),[l,i]=j.useState(!0),[c,u]=j.useState(!1);j.useEffect(()=>{d()},[]);const d=async()=>{try{i(!0);const p=await(await fetch("/api/v1/admin/turnover/config",{headers:{Authorization:`Bearer ${localStorage.getItem("admin_selector")}`},credentials:"include"})).json();p.success&&p.data&&n(p.data)}catch(x){console.error("Failed to fetch config:",x),U.error("")}finally{i(!1)}},h=async x=>{x.preventDefault();try{u(!0);const g=await(await fetch("/api/v1/admin/turnover/config",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("admin_selector")}`},credentials:"include",body:JSON.stringify(s)})).json();g.success?(U.success(""),d()):U.error(g.message||"")}catch(p){console.error("Failed to save config:",p),U.error("")}finally{u(!1)}},f=x=>x*s.exchangeRate/100;return l?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"})}):e.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-brown-100 mb-2",children:""}),e.jsx("p",{className:"text-brown-400",children:""})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-brown-100 mb-4",children:""}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.isEnabled,onChange:x=>n({...s,isEnabled:x.target.checked}),className:"w-5 h-5 text-gold-500 bg-admin-bg border-admin-border rounded focus:ring-gold-500"}),e.jsx("span",{className:"text-brown-300",children:""})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-brown-100 mb-4",children:""}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-brown-300 text-sm font-medium mb-2",children:[" (%)",e.jsx("span",{className:"text-brown-500 ml-1",children:"*  0.10% = 1000  = 1 "})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:s.exchangeRate,onChange:x=>n({...s,exchangeRate:parseFloat(x.target.value)}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:border-gold-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-brown-300 text-sm font-medium mb-2",children:" (THB)"}),e.jsx("input",{type:"number",step:"1",min:"0",value:s.minTurnoverToRedeem,onChange:x=>n({...s,minTurnoverToRedeem:parseFloat(x.target.value)}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:border-gold-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-brown-300 text-sm font-medium mb-2",children:[" (THB)",e.jsx("span",{className:"text-brown-500 ml-1",children:"*  0 "})]}),e.jsx("input",{type:"number",step:"1",min:"0",value:s.maxRedeemPerDay||"",onChange:x=>n({...s,maxRedeemPerDay:x.target.value?parseFloat(x.target.value):null}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:border-gold-500"})]})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-brown-100 mb-4",children:""}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.allowLotteryTurnover,onChange:x=>n({...s,allowLotteryTurnover:x.target.checked}),className:"w-5 h-5 text-gold-500 bg-admin-bg border-admin-border rounded focus:ring-gold-500"}),e.jsx("span",{className:"text-brown-300",children:""})]}),s.allowLotteryTurnover&&e.jsxs("div",{className:"ml-8",children:[e.jsx("label",{className:"block text-brown-400 text-sm mb-2",children:" (x)"}),e.jsx("input",{type:"number",step:"0.1",min:"0",value:s.lotteryTurnoverMultiplier,onChange:x=>n({...s,lotteryTurnoverMultiplier:parseFloat(x.target.value)}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:border-gold-500",required:!0}),e.jsxs("p",{className:"text-brown-500 text-xs mt-1",children:[":  100   ",s.lotteryTurnoverMultiplier," = ",100*s.lotteryTurnoverMultiplier," "]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.allowGameTurnover,onChange:x=>n({...s,allowGameTurnover:x.target.checked}),className:"w-5 h-5 text-gold-500 bg-admin-bg border-admin-border rounded focus:ring-gold-500"}),e.jsx("span",{className:"text-brown-300",children:""})]}),s.allowGameTurnover&&e.jsxs("div",{className:"ml-8",children:[e.jsx("label",{className:"block text-brown-400 text-sm mb-2",children:" (x)"}),e.jsx("input",{type:"number",step:"0.1",min:"0",value:s.gameTurnoverMultiplier,onChange:x=>n({...s,gameTurnoverMultiplier:parseFloat(x.target.value)}),className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 focus:outline-none focus:border-gold-500",required:!0}),e.jsxs("p",{className:"text-brown-500 text-xs mt-1",children:[":  turnOver 50  ",s.gameTurnoverMultiplier," = ",50*s.gameTurnoverMultiplier," "]})]})]})]})]}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-brown-100 mb-4",children:""}),e.jsx("textarea",{value:s.description,onChange:x=>n({...s,description:x.target.value}),placeholder:"...",rows:4,className:"w-full px-4 py-2 bg-admin-bg border border-admin-border rounded-lg text-brown-100 placeholder-brown-500 focus:outline-none focus:border-gold-500 resize-none"})]}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-brown-100 font-semibold mb-2",children:""}),e.jsxs("div",{className:"space-y-1 text-brown-300",children:[e.jsxs("p",{children:["  10,000   ",s.exchangeRate,"% = ",f(1e4).toFixed(2)," "]}),e.jsxs("p",{children:["  50,000   ",s.exchangeRate,"% = ",f(5e4).toFixed(2)," "]}),e.jsxs("p",{children:["  100,000   ",s.exchangeRate,"% = ",f(1e5).toFixed(2)," "]})]})]})]})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:d,className:"px-6 py-2 bg-admin-hover hover:bg-admin-border text-brown-300 rounded-lg transition-all",disabled:c,children:""}),e.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2 bg-gold-500 hover:bg-gold-600 text-white font-medium rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:c,children:[e.jsx(ha,{className:"w-4 h-4"}),c?"...":""]})]})]})]})}const hE=()=>{const[s,n]=j.useState([]),[l,i]=j.useState(0),[c,u]=j.useState(!1),[d,h]=j.useState(""),[f,x]=j.useState(""),[p,g]=j.useState(new Date(Date.now()-10080*60*1e3).toISOString().split("T")[0]),[N,w]=j.useState(new Date().toISOString().split("T")[0]),[v]=j.useState(50),[y,T]=j.useState(0);j.useEffect(()=>{A()},[d,f,p,N,y]);const A=async()=>{u(!0);try{const D=await E6.getAdminLogs({action:d||void 0,resourceType:f||void 0,startDate:p,endDate:N,limit:v,offset:y});n(D.logs),i(D.total)}catch(D){console.error("Failed to fetch admin logs:",D),alert("")}finally{u(!1)}},E=D=>({LOGIN:"bg-primary-500/20 text-primary-400 border border-primary-500/30",LOGOUT:"bg-admin-card text-gray-400 border border-admin-border",APPROVE_DEPOSIT:"bg-green-500/20 text-green-400 border border-green-500/30",REJECT_DEPOSIT:"bg-error/20 text-red-400 border border-error/30",APPROVE_WITHDRAWAL:"bg-green-500/20 text-green-400 border border-green-500/30",REJECT_WITHDRAWAL:"bg-error/20 text-red-400 border border-error/30",APPROVE_CASHBACK:"bg-green-500/20 text-green-400 border border-green-500/30",REJECT_CASHBACK:"bg-error/20 text-red-400 border border-error/30",CREATE_MEMBER:"bg-primary-500/20 text-primary-400 border border-primary-500/30",UPDATE_MEMBER:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",DELETE_MEMBER:"bg-error/20 text-red-400 border border-error/30",CREDIT_ADJUSTMENT:"bg-primary-500/20 text-primary-400 border border-primary-500/30",CREATE_STAFF:"bg-primary-500/20 text-primary-400 border border-primary-500/30",UPDATE_STAFF:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",DELETE_STAFF:"bg-error/20 text-red-400 border border-error/30",APPROVE_REVIEW:"bg-green-500/20 text-green-400 border border-green-500/30",REJECT_REVIEW:"bg-error/20 text-red-400 border border-error/30"})[D]||"bg-admin-card text-gray-400 border border-admin-border",S=D=>D.replace(/_/g," "),M=D=>new Date(D).toLocaleString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),L=()=>{h(""),x(""),g(new Date(Date.now()-10080*60*1e3).toISOString().split("T")[0]),w(new Date().toISOString().split("T")[0]),T(0)},B=async()=>{try{const D=await J.get("/system/logs/export",{params:{action:d||void 0,resourceType:f||void 0,startDate:p,endDate:N},responseType:"blob"}),C=window.URL.createObjectURL(new Blob([D.data])),R=document.createElement("a");R.href=C,R.setAttribute("download",`admin_logs_${p}_${N}.csv`),document.body.appendChild(R),R.click(),R.remove(),window.URL.revokeObjectURL(C),alert("")}catch(D){alert(""),console.error("Export error:",D)}};return e.jsx("div",{className:"min-h-screen bg-admin-bg p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-primary-500 font-display",children:""}),e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg shadow-lg p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-400 mb-2",children:""}),e.jsx("input",{type:"date",value:p,onChange:D=>{g(D.target.value),T(0)},title:"",className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-400 mb-2",children:""}),e.jsx("input",{type:"date",value:N,onChange:D=>{w(D.target.value),T(0)},title:"",className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-400 mb-2",children:""}),e.jsxs("select",{value:d,onChange:D=>{h(D.target.value),T(0)},title:"",className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"LOGIN",children:"LOGIN"}),e.jsx("option",{value:"LOGOUT",children:"LOGOUT"}),e.jsx("option",{value:"APPROVE_DEPOSIT",children:"APPROVE_DEPOSIT"}),e.jsx("option",{value:"REJECT_DEPOSIT",children:"REJECT_DEPOSIT"}),e.jsx("option",{value:"APPROVE_WITHDRAWAL",children:"APPROVE_WITHDRAWAL"}),e.jsx("option",{value:"REJECT_WITHDRAWAL",children:"REJECT_WITHDRAWAL"}),e.jsx("option",{value:"APPROVE_CASHBACK",children:"APPROVE_CASHBACK"}),e.jsx("option",{value:"REJECT_CASHBACK",children:"REJECT_CASHBACK"}),e.jsx("option",{value:"CREDIT_ADJUSTMENT",children:"CREDIT_ADJUSTMENT"}),e.jsx("option",{value:"CREATE_MEMBER",children:"CREATE_MEMBER"}),e.jsx("option",{value:"UPDATE_MEMBER",children:"UPDATE_MEMBER"}),e.jsx("option",{value:"DELETE_MEMBER",children:"DELETE_MEMBER"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-400 mb-2",children:""}),e.jsxs("select",{value:f,onChange:D=>{x(D.target.value),T(0)},title:"",className:"w-full px-4 py-2.5 bg-admin-bg border border-admin-border rounded-lg text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"DEPOSIT",children:"DEPOSIT"}),e.jsx("option",{value:"WITHDRAWAL",children:"WITHDRAWAL"}),e.jsx("option",{value:"CASHBACK",children:"CASHBACK"}),e.jsx("option",{value:"MEMBER",children:"MEMBER"}),e.jsx("option",{value:"STAFF",children:"STAFF"}),e.jsx("option",{value:"REVIEW",children:"REVIEW"}),e.jsx("option",{value:"PROMOTION",children:"PROMOTION"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:L,className:"px-5 py-2.5 text-sm text-gray-400 hover:text-primary-400 hover:bg-admin-hover border border-admin-border rounded-lg transition-all",children:""}),e.jsx("button",{type:"button",onClick:B,disabled:c||s.length===0,className:"px-5 py-2.5 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:bg-admin-border disabled:text-gray-600 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-glow",children:" Export CSV"})]}),e.jsxs("div",{className:"text-sm text-primary-400 font-medium",children:[" ",e.jsx("span",{className:"text-primary-500 font-bold",children:l})," "]})]})]}),c?e.jsxs("div",{className:"bg-admin-card border border-admin-border rounded-lg shadow-lg p-12 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"}),e.jsx("p",{className:"mt-4 text-gray-400",children:"..."})]}):s.length===0?e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg shadow-lg p-12 text-center",children:e.jsx("p",{className:"text-gray-400 text-lg",children:""})}):e.jsx("div",{className:"bg-admin-card border border-admin-border rounded-lg shadow-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-admin-border",children:[e.jsx("thead",{className:"bg-admin-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-primary-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-primary-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-primary-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-primary-400 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-primary-400 uppercase tracking-wider",children:"IP Address"})]})}),e.jsx("tbody",{className:"divide-y divide-admin-border",children:s.map(D=>e.jsxs("tr",{className:"hover:bg-admin-hover transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:M(D.createdAt)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-200",children:D.adminUsername}),e.jsx("div",{className:"text-sm text-gray-400",children:D.adminFullName})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${E(D.action)}`,children:S(D.action)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D.resourceType&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-200 font-medium",children:D.resourceType}),D.resourceId&&e.jsxs("div",{className:"text-xs text-gray-400 font-mono",children:[D.resourceId.slice(0,8),"..."]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400 font-mono",children:D.ipAddress||"-"})]},D.id))})]})})}),l>v&&e.jsxs("div",{className:"mt-6 flex justify-center items-center gap-3",children:[e.jsx("button",{type:"button",onClick:()=>T(Math.max(0,y-v)),disabled:y===0,className:"px-5 py-2.5 bg-admin-card border border-admin-border rounded-lg text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-admin-hover hover:text-primary-400 transition-all shadow-lg",children:" "}),e.jsxs("span",{className:"px-6 py-2.5 bg-admin-card border border-admin-border rounded-lg text-gray-300",children:[" ",e.jsx("span",{className:"text-primary-500 font-bold",children:Math.floor(y/v)+1})," / ",e.jsx("span",{className:"text-primary-400",children:Math.ceil(l/v)})]}),e.jsx("button",{type:"button",onClick:()=>T(y+v),disabled:y+v>=l,className:"px-5 py-2.5 bg-admin-card border border-admin-border rounded-lg text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-admin-hover hover:text-primary-400 transition-all shadow-lg",children:" "})]})]})})};function fE(){return e.jsxs(z4,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[e.jsx(E5,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#1a1410",color:"#f5a73c",border:"1px solid #f5a73c"},success:{style:{background:"#1a1410",color:"#10b981",border:"1px solid #10b981"}},error:{style:{background:"#1a1410",color:"#ef4444",border:"1px solid #ef4444"}}}}),e.jsxs(E4,{children:[e.jsx(pe,{path:"/login",element:e.jsx(mS,{})}),e.jsx(pe,{path:"/verify-2fa",element:e.jsx(aE,{})}),e.jsxs(pe,{path:"/admin",element:e.jsx(uS,{}),children:[e.jsx(pe,{index:!0,element:e.jsx(Va,{to:"/admin/dashboard",replace:!0})}),e.jsx(pe,{path:"dashboard",element:e.jsx(bS,{})}),e.jsxs(pe,{path:"deposits",children:[e.jsx(pe,{index:!0,element:e.jsx(Va,{to:"/admin/deposits/all",replace:!0})}),e.jsx(pe,{path:"all",element:e.jsx(gS,{})}),e.jsx(pe,{path:"pending",element:e.jsx(vS,{})}),e.jsx(pe,{path:"pending-scb",element:e.jsx(NS,{})}),e.jsx(pe,{path:"pending-kbank",element:e.jsx(wS,{})}),e.jsx(pe,{path:"pending-truewallet",element:e.jsx(SS,{})})]}),e.jsxs(pe,{path:"withdrawals",children:[e.jsx(pe,{index:!0,element:e.jsx(Va,{to:"/admin/withdrawals/all",replace:!0})}),e.jsx(pe,{path:"all",element:e.jsx(CS,{})}),e.jsx(pe,{path:"pending",element:e.jsx(TS,{})})]}),e.jsx(pe,{path:"cashback",element:e.jsx(AS,{})}),e.jsxs(pe,{path:"members",children:[e.jsx(pe,{index:!0,element:e.jsx(PS,{})}),e.jsx(pe,{path:"list",element:e.jsx(ES,{})}),e.jsx(pe,{path:"today",element:e.jsx(Rg,{})}),e.jsx(pe,{path:":memberId",element:e.jsx(tA,{})}),e.jsx(pe,{path:":memberId/transactions",element:e.jsx(aA,{})}),e.jsx(pe,{path:":memberId/poys",element:e.jsx(sA,{})}),e.jsx(pe,{path:":memberId/poys/:poyId",element:e.jsx(Uj,{})})]}),e.jsx(pe,{path:"customers",children:e.jsx(pe,{path:"today",element:e.jsx(Rg,{})})}),e.jsxs(pe,{path:"transfers",children:[e.jsx(pe,{index:!0,element:e.jsx(Va,{to:"/admin/transfers/log",replace:!0})}),e.jsx(pe,{path:"log",element:e.jsx(nA,{})}),e.jsx(pe,{path:"pending",element:e.jsx(rA,{})})]}),e.jsx(pe,{path:"staff",element:e.jsx(lA,{})}),e.jsxs(pe,{path:"reports",children:[e.jsx(pe,{index:!0,element:e.jsx(Va,{to:"/admin/reports/profit",replace:!0})}),e.jsx(pe,{path:"profit",element:e.jsx(cA,{})}),e.jsx(pe,{path:"bank-scb",element:e.jsx(iA,{})}),e.jsx(pe,{path:"pincode",element:e.jsx(oA,{})})]}),e.jsxs(pe,{path:"lottery",children:[e.jsx(pe,{index:!0,element:e.jsx(Fj,{})}),e.jsx(pe,{path:"daily",element:e.jsx(bA,{})}),e.jsx(pe,{path:"daily/:lotteryId",element:e.jsx(gA,{})}),e.jsx(pe,{path:"management",element:e.jsx(Fj,{})}),e.jsx(pe,{path:"bets",element:e.jsx(xA,{})})," ",e.jsx(pe,{path:"poys",element:e.jsx(mA,{})})," ",e.jsx(pe,{path:"poy/:poyId",element:e.jsx(Uj,{})}),e.jsx(pe,{path:"stock-master",element:e.jsx(hA,{})})]}),e.jsxs(pe,{path:"games",children:[e.jsx(pe,{index:!0,element:e.jsx(jA,{})}),e.jsx(pe,{path:"providers",element:e.jsx(yA,{})}),e.jsx(pe,{path:"reviews",element:e.jsx(vA,{})})]}),e.jsx(pe,{path:"site-images",element:e.jsx(NA,{})}),e.jsx(pe,{path:"promotions",element:e.jsx(wA,{})}),e.jsx(pe,{path:"promotion-settings",element:e.jsx(MA,{})}),e.jsx(pe,{path:"promotion-logs",element:e.jsx(DA,{})}),e.jsx(pe,{path:"promotion-summary",element:e.jsx(_A,{})}),e.jsx(pe,{path:"settings",element:e.jsx(EA,{})}),e.jsx(pe,{path:"setup-2fa",element:e.jsx(sE,{})}),e.jsx(pe,{path:"chat",element:e.jsx(rE,{})}),e.jsxs(pe,{path:"referral",children:[e.jsx(pe,{index:!0,element:e.jsx(lE,{})}),e.jsx(pe,{path:"settings",element:e.jsx(iE,{})})]}),e.jsx(pe,{path:"lucky-wheel",element:e.jsx(oE,{})}),e.jsxs(pe,{path:"turnover",children:[e.jsx(pe,{index:!0,element:e.jsx(Va,{to:"/admin/turnover/overview",replace:!0})}),e.jsx(pe,{path:"overview",element:e.jsx(cE,{})}),e.jsx(pe,{path:"members",element:e.jsx(uE,{})}),e.jsx(pe,{path:"redemptions",element:e.jsx(mE,{})}),e.jsx(pe,{path:"settings",element:e.jsx(xE,{})})]}),e.jsx(pe,{path:"logs",element:e.jsx(hE,{})})]}),e.jsx(pe,{path:"/",element:e.jsx(Va,{to:"/login",replace:!0})}),e.jsx(pe,{path:"*",element:e.jsx(Va,{to:"/login",replace:!0})})]})]})}Rw.createRoot(document.getElementById("root")).render(e.jsx(j.StrictMode,{children:e.jsx(fE,{})}));
